(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function WF(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var wv={exports:{}},ol={},_v={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function HF(){if(T2)return je;T2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=p&&M[p]||M["@@iterator"],typeof M=="function"?M:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function T(M,Z,xe){this.props=M,this.context=Z,this.refs=b,this.updater=xe||g}T.prototype.isReactComponent={},T.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=T.prototype;function I(M,Z,xe){this.props=M,this.context=Z,this.refs=b,this.updater=xe||g}var x=I.prototype=new C;x.constructor=I,w(x,T.prototype),x.isPureReactComponent=!0;var R=Array.isArray,L=Object.prototype.hasOwnProperty,F={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function V(M,Z,xe){var Oe,Ae={},de=null,Fe=null;if(Z!=null)for(Oe in Z.ref!==void 0&&(Fe=Z.ref),Z.key!==void 0&&(de=""+Z.key),Z)L.call(Z,Oe)&&!H.hasOwnProperty(Oe)&&(Ae[Oe]=Z[Oe]);var Ce=arguments.length-2;if(Ce===1)Ae.children=xe;else if(1<Ce){for(var Me=Array(Ce),Be=0;Be<Ce;Be++)Me[Be]=arguments[Be+2];Ae.children=Me}if(M&&M.defaultProps)for(Oe in Ce=M.defaultProps,Ce)Ae[Oe]===void 0&&(Ae[Oe]=Ce[Oe]);return{$$typeof:e,type:M,key:de,ref:Fe,props:Ae,_owner:F.current}}function D(M,Z){return{$$typeof:e,type:M.type,key:Z,ref:M.ref,props:M.props,_owner:M._owner}}function B(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function U(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(xe){return Z[xe]})}var K=/\/+/g;function Q(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):Z.toString(36)}function ee(M,Z,xe,Oe,Ae){var de=typeof M;(de==="undefined"||de==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(de){case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case e:case t:Fe=!0}}if(Fe)return Fe=M,Ae=Ae(Fe),M=Oe===""?"."+Q(Fe,0):Oe,R(Ae)?(xe="",M!=null&&(xe=M.replace(K,"$&/")+"/"),ee(Ae,Z,xe,"",function(Be){return Be})):Ae!=null&&(B(Ae)&&(Ae=D(Ae,xe+(!Ae.key||Fe&&Fe.key===Ae.key?"":(""+Ae.key).replace(K,"$&/")+"/")+M)),Z.push(Ae)),1;if(Fe=0,Oe=Oe===""?".":Oe+":",R(M))for(var Ce=0;Ce<M.length;Ce++){de=M[Ce];var Me=Oe+Q(de,Ce);Fe+=ee(de,Z,xe,Me,Ae)}else if(Me=v(M),typeof Me=="function")for(M=Me.call(M),Ce=0;!(de=M.next()).done;)de=de.value,Me=Oe+Q(de,Ce++),Fe+=ee(de,Z,xe,Me,Ae);else if(de==="object")throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Fe}function fe(M,Z,xe){if(M==null)return M;var Oe=[],Ae=0;return ee(M,Oe,"","",function(de){return Z.call(xe,de,Ae++)}),Oe}function be(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(xe){(M._status===0||M._status===-1)&&(M._status=1,M._result=xe)},function(xe){(M._status===0||M._status===-1)&&(M._status=2,M._result=xe)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var ue={current:null},Y={transition:null},X={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:Y,ReactCurrentOwner:F};function J(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:fe,forEach:function(M,Z,xe){fe(M,function(){Z.apply(this,arguments)},xe)},count:function(M){var Z=0;return fe(M,function(){Z++}),Z},toArray:function(M){return fe(M,function(Z){return Z})||[]},only:function(M){if(!B(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},je.Component=T,je.Fragment=r,je.Profiler=o,je.PureComponent=I,je.StrictMode=n,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,je.act=J,je.cloneElement=function(M,Z,xe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Oe=w({},M.props),Ae=M.key,de=M.ref,Fe=M._owner;if(Z!=null){if(Z.ref!==void 0&&(de=Z.ref,Fe=F.current),Z.key!==void 0&&(Ae=""+Z.key),M.type&&M.type.defaultProps)var Ce=M.type.defaultProps;for(Me in Z)L.call(Z,Me)&&!H.hasOwnProperty(Me)&&(Oe[Me]=Z[Me]===void 0&&Ce!==void 0?Ce[Me]:Z[Me])}var Me=arguments.length-2;if(Me===1)Oe.children=xe;else if(1<Me){Ce=Array(Me);for(var Be=0;Be<Me;Be++)Ce[Be]=arguments[Be+2];Oe.children=Ce}return{$$typeof:e,type:M.type,key:Ae,ref:de,props:Oe,_owner:Fe}},je.createContext=function(M){return M={$$typeof:s,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},je.createElement=V,je.createFactory=function(M){var Z=V.bind(null,M);return Z.type=M,Z},je.createRef=function(){return{current:null}},je.forwardRef=function(M){return{$$typeof:c,render:M}},je.isValidElement=B,je.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:be}},je.memo=function(M,Z){return{$$typeof:u,type:M,compare:Z===void 0?null:Z}},je.startTransition=function(M){var Z=Y.transition;Y.transition={};try{M()}finally{Y.transition=Z}},je.unstable_act=J,je.useCallback=function(M,Z){return ue.current.useCallback(M,Z)},je.useContext=function(M){return ue.current.useContext(M)},je.useDebugValue=function(){},je.useDeferredValue=function(M){return ue.current.useDeferredValue(M)},je.useEffect=function(M,Z){return ue.current.useEffect(M,Z)},je.useId=function(){return ue.current.useId()},je.useImperativeHandle=function(M,Z,xe){return ue.current.useImperativeHandle(M,Z,xe)},je.useInsertionEffect=function(M,Z){return ue.current.useInsertionEffect(M,Z)},je.useLayoutEffect=function(M,Z){return ue.current.useLayoutEffect(M,Z)},je.useMemo=function(M,Z){return ue.current.useMemo(M,Z)},je.useReducer=function(M,Z,xe){return ue.current.useReducer(M,Z,xe)},je.useRef=function(M){return ue.current.useRef(M)},je.useState=function(M){return ue.current.useState(M)},je.useSyncExternalStore=function(M,Z,xe){return ue.current.useSyncExternalStore(M,Z,xe)},je.useTransition=function(){return ue.current.useTransition()},je.version="18.3.1",je}var C2;function q_(){return C2||(C2=1,_v.exports=HF()),_v.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function GF(){if(I2)return ol;I2=1;var e=q_(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,h,u){var f,p={},v=null,g=null;u!==void 0&&(v=""+u),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(g=h.ref);for(f in h)n.call(h,f)&&!i.hasOwnProperty(f)&&(p[f]=h[f]);if(c&&c.defaultProps)for(f in h=c.defaultProps,h)p[f]===void 0&&(p[f]=h[f]);return{$$typeof:t,type:c,key:v,ref:g,props:p,_owner:o.current}}return ol.Fragment=r,ol.jsx=s,ol.jsxs=s,ol}var x2;function zF(){return x2||(x2=1,wv.exports=GF()),wv.exports}var ae=zF(),$=q_();const Gf=Hh($);var zf={},bv={exports:{}},yr={},Sv={exports:{}},Ev={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function KF(){return A2||(A2=1,(function(e){function t(Y,X){var J=Y.length;Y.push(X);e:for(;0<J;){var M=J-1>>>1,Z=Y[M];if(0<o(Z,X))Y[M]=X,Y[J]=Z,J=M;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var X=Y[0],J=Y.pop();if(J!==X){Y[0]=J;e:for(var M=0,Z=Y.length,xe=Z>>>1;M<xe;){var Oe=2*(M+1)-1,Ae=Y[Oe],de=Oe+1,Fe=Y[de];if(0>o(Ae,J))de<Z&&0>o(Fe,Ae)?(Y[M]=Fe,Y[de]=J,M=de):(Y[M]=Ae,Y[Oe]=J,M=Oe);else if(de<Z&&0>o(Fe,J))Y[M]=Fe,Y[de]=J,M=de;else break e}}return X}function o(Y,X){var J=Y.sortIndex-X.sortIndex;return J!==0?J:Y.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var h=[],u=[],f=1,p=null,v=3,g=!1,w=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Y){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=Y)n(u),X.sortIndex=X.expirationTime,t(h,X);else break;X=r(u)}}function R(Y){if(b=!1,x(Y),!w)if(r(h)!==null)w=!0,be(L);else{var X=r(u);X!==null&&ue(R,X.startTime-Y)}}function L(Y,X){w=!1,b&&(b=!1,C(V),V=-1),g=!0;var J=v;try{for(x(X),p=r(h);p!==null&&(!(p.expirationTime>X)||Y&&!U());){var M=p.callback;if(typeof M=="function"){p.callback=null,v=p.priorityLevel;var Z=M(p.expirationTime<=X);X=e.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(h)&&n(h),x(X)}else n(h);p=r(h)}if(p!==null)var xe=!0;else{var Oe=r(u);Oe!==null&&ue(R,Oe.startTime-X),xe=!1}return xe}finally{p=null,v=J,g=!1}}var F=!1,H=null,V=-1,D=5,B=-1;function U(){return!(e.unstable_now()-B<D)}function K(){if(H!==null){var Y=e.unstable_now();B=Y;var X=!0;try{X=H(!0,Y)}finally{X?Q():(F=!1,H=null)}}else F=!1}var Q;if(typeof I=="function")Q=function(){I(K)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,fe=ee.port2;ee.port1.onmessage=K,Q=function(){fe.postMessage(null)}}else Q=function(){T(K,0)};function be(Y){H=Y,F||(F=!0,Q())}function ue(Y,X){V=T(function(){Y(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,be(L))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var J=v;v=X;try{return Y()}finally{v=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,X){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=v;v=Y;try{return X()}finally{v=J}},e.unstable_scheduleCallback=function(Y,X,J){var M=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?M+J:M):J=M,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,Y={id:f++,callback:X,priorityLevel:Y,startTime:J,expirationTime:Z,sortIndex:-1},J>M?(Y.sortIndex=J,t(u,Y),r(h)===null&&Y===r(u)&&(b?(C(V),V=-1):b=!0,ue(R,J-M))):(Y.sortIndex=Z,t(h,Y),w||g||(w=!0,be(L))),Y},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(Y){var X=v;return function(){var J=v;v=X;try{return Y.apply(this,arguments)}finally{v=J}}}})(Ev)),Ev}var R2;function YF(){return R2||(R2=1,Sv.exports=KF()),Sv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function JF(){if(O2)return yr;O2=1;var e=q_(),t=YF();function r(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function i(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(o[a]=l,a=0;a<l.length;a++)n.add(l[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(a){return h.call(p,a)?!0:h.call(f,a)?!1:u.test(a)?p[a]=!0:(f[a]=!0,!1)}function g(a,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,l,d,m){if(l===null||typeof l>"u"||g(a,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(a,l,d,m,y,_,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=_,this.removeEmptyString=A}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){T[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];T[l]=new b(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){T[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){T[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){T[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){T[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){T[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){T[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){T[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function I(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(C,I);T[l]=new b(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(C,I);T[l]=new b(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(C,I);T[l]=new b(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){T[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),T.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){T[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function x(a,l,d,m){var y=T.hasOwnProperty(l)?T[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,d,y,m)&&(d=null),m||y===null?v(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):y.mustUseProperty?a[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,m=y.attributeNamespace,d===null?a.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,m?a.setAttributeNS(m,l,d):a.setAttribute(l,d))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),F=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),Y=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=Y&&a[Y]||a["@@iterator"],typeof a=="function"?a:null)}var J=Object.assign,M;function Z(a){if(M===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);M=l&&l[1]||""}return`
`+M+a}var xe=!1;function Oe(a,l){if(!a||xe)return"";xe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(z){var m=z}Reflect.construct(a,[],l)}else{try{l.call()}catch(z){m=z}a.call(l.prototype)}else{try{throw Error()}catch(z){m=z}a()}}catch(z){if(z&&m&&typeof z.stack=="string"){for(var y=z.stack.split(`
`),_=m.stack.split(`
`),A=y.length-1,N=_.length-1;1<=A&&0<=N&&y[A]!==_[N];)N--;for(;1<=A&&0<=N;A--,N--)if(y[A]!==_[N]){if(A!==1||N!==1)do if(A--,N--,0>N||y[A]!==_[N]){var k=`
`+y[A].replace(" at new "," at ");return a.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",a.displayName)),k}while(1<=A&&0<=N);break}}}finally{xe=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Z(a):""}function Ae(a){switch(a.tag){case 5:return Z(a.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return a=Oe(a.type,!1),a;case 11:return a=Oe(a.type.render,!1),a;case 1:return a=Oe(a.type,!0),a;default:return""}}function de(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case H:return"Fragment";case F:return"Portal";case D:return"Profiler";case V:return"StrictMode";case Q:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case U:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case K:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case fe:return l=a.displayName||null,l!==null?l:de(a.type)||"Memo";case be:l=a._payload,a=a._init;try{return de(a(l))}catch{}}return null}function Fe(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(l);case 8:return l===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ce(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Me(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Be(a){var l=Me(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(A){m=""+A,_.call(this,A)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function it(a){a._valueTracker||(a._valueTracker=Be(a))}function Ct(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=Me(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function cr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _n(a,l){var d=l.checked;return J({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function O(a,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=Ce(l.value!=null?l.value:d),a._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function S(a,l){l=l.checked,l!=null&&x(a,"checked",l,!1)}function E(a,l){S(a,l);var d=Ce(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?q(a,l.type,d):l.hasOwnProperty("defaultValue")&&q(a,l.type,Ce(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function P(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function q(a,l,d){(l!=="number"||cr(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var te=Array.isArray;function ie(a,l,d,m){if(a=a.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=l.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Ce(d),l=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function De(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ke(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(te(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:Ce(d)}}function Ge(a,l){var d=Ce(l.value),m=Ce(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),m!=null&&(a.defaultValue=""+m)}function ot(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Je(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bn(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Je(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var fr,Ki=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,y){MSApp.execUnsafeLocalFunction(function(){return a(l,d,m,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=fr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Yi(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fc=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(a){Fc.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Bo[l]=Bo[a]})});function Sn(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Bo.hasOwnProperty(a)&&Bo[a]?(""+l).trim():l+"px"}function Jn(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,y=Sn(d,l[d],m);d==="float"&&(d="cssFloat"),m?a.setProperty(d,y):a[d]=y}}var Y5=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pp(a,l){if(l){if(Y5[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Np(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lp=null;function Dp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var kp=null,Wa=null,Ha=null;function $1(a){if(a=Wu(a)){if(typeof kp!="function")throw Error(r(280));var l=a.stateNode;l&&(l=sf(l),kp(a.stateNode,a.type,l))}}function q1(a){Wa?Ha?Ha.push(a):Ha=[a]:Wa=a}function V1(){if(Wa){var a=Wa,l=Ha;if(Ha=Wa=null,$1(a),l)for(a=0;a<l.length;a++)$1(l[a])}}function W1(a,l){return a(l)}function H1(){}var Mp=!1;function G1(a,l,d){if(Mp)return a(l,d);Mp=!0;try{return W1(a,l,d)}finally{Mp=!1,(Wa!==null||Ha!==null)&&(H1(),V1())}}function Eu(a,l){var d=a.stateNode;if(d===null)return null;var m=sf(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Fp=!1;if(c)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Fp=!1}function J5(a,l,d,m,y,_,A,N,k){var z=Array.prototype.slice.call(arguments,3);try{l.apply(d,z)}catch(ne){this.onError(ne)}}var Cu=!1,jc=null,Uc=!1,jp=null,Q5={onError:function(a){Cu=!0,jc=a}};function X5(a,l,d,m,y,_,A,N,k){Cu=!1,jc=null,J5.apply(Q5,arguments)}function Z5(a,l,d,m,y,_,A,N,k){if(X5.apply(this,arguments),Cu){if(Cu){var z=jc;Cu=!1,jc=null}else throw Error(r(198));Uc||(Uc=!0,jp=z)}}function $o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function z1(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function K1(a){if($o(a)!==a)throw Error(r(188))}function eM(a){var l=a.alternate;if(!l){if(l=$o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var y=d.return;if(y===null)break;var _=y.alternate;if(_===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===d)return K1(y),a;if(_===m)return K1(y),l;_=_.sibling}throw Error(r(188))}if(d.return!==m.return)d=y,m=_;else{for(var A=!1,N=y.child;N;){if(N===d){A=!0,d=y,m=_;break}if(N===m){A=!0,m=y,d=_;break}N=N.sibling}if(!A){for(N=_.child;N;){if(N===d){A=!0,d=_,m=y;break}if(N===m){A=!0,m=_,d=y;break}N=N.sibling}if(!A)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function Y1(a){return a=eM(a),a!==null?J1(a):null}function J1(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=J1(a);if(l!==null)return l;a=a.sibling}return null}var Q1=t.unstable_scheduleCallback,X1=t.unstable_cancelCallback,tM=t.unstable_shouldYield,rM=t.unstable_requestPaint,vt=t.unstable_now,nM=t.unstable_getCurrentPriorityLevel,Up=t.unstable_ImmediatePriority,Z1=t.unstable_UserBlockingPriority,Bc=t.unstable_NormalPriority,iM=t.unstable_LowPriority,eS=t.unstable_IdlePriority,$c=null,Qn=null;function oM(a){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot($c,a,void 0,(a.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:uM,aM=Math.log,sM=Math.LN2;function uM(a){return a>>>=0,a===0?32:31-(aM(a)/sM|0)|0}var qc=64,Vc=4194304;function Iu(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Wc(a,l){var d=a.pendingLanes;if(d===0)return 0;var m=0,y=a.suspendedLanes,_=a.pingedLanes,A=d&268435455;if(A!==0){var N=A&~y;N!==0?m=Iu(N):(_&=A,_!==0&&(m=Iu(_)))}else A=d&~y,A!==0?m=Iu(A):_!==0&&(m=Iu(_));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,_=l&-l,y>=_||y===16&&(_&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)d=31-En(l),y=1<<d,m|=a[d],l&=~y;return m}function lM(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cM(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes;0<_;){var A=31-En(_),N=1<<A,k=y[A];k===-1?((N&d)===0||(N&m)!==0)&&(y[A]=lM(N,l)):k<=l&&(a.expiredLanes|=N),_&=~N}}function Bp(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function tS(){var a=qc;return qc<<=1,(qc&4194240)===0&&(qc=64),a}function $p(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function xu(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-En(l),a[l]=d}function fM(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<d;){var y=31-En(d),_=1<<y;l[y]=0,m[y]=-1,a[y]=-1,d&=~_}}function qp(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-En(d),y=1<<m;y&l|a[m]&l&&(a[m]|=l),d&=~y}}var Ye=0;function rS(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var nS,Vp,iS,oS,aS,Wp=!1,Hc=[],Ji=null,Qi=null,Xi=null,Au=new Map,Ru=new Map,Zi=[],dM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sS(a,l){switch(a){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Au.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(l.pointerId)}}function Ou(a,l,d,m,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:_,targetContainers:[y]},l!==null&&(l=Wu(l),l!==null&&Vp(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function hM(a,l,d,m,y){switch(l){case"focusin":return Ji=Ou(Ji,a,l,d,m,y),!0;case"dragenter":return Qi=Ou(Qi,a,l,d,m,y),!0;case"mouseover":return Xi=Ou(Xi,a,l,d,m,y),!0;case"pointerover":var _=y.pointerId;return Au.set(_,Ou(Au.get(_)||null,a,l,d,m,y)),!0;case"gotpointercapture":return _=y.pointerId,Ru.set(_,Ou(Ru.get(_)||null,a,l,d,m,y)),!0}return!1}function uS(a){var l=qo(a.target);if(l!==null){var d=$o(l);if(d!==null){if(l=d.tag,l===13){if(l=z1(d),l!==null){a.blockedOn=l,aS(a.priority,function(){iS(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Gc(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Gp(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Lp=m,d.target.dispatchEvent(m),Lp=null}else return l=Wu(d),l!==null&&Vp(l),a.blockedOn=d,!1;l.shift()}return!0}function lS(a,l,d){Gc(a)&&d.delete(l)}function pM(){Wp=!1,Ji!==null&&Gc(Ji)&&(Ji=null),Qi!==null&&Gc(Qi)&&(Qi=null),Xi!==null&&Gc(Xi)&&(Xi=null),Au.forEach(lS),Ru.forEach(lS)}function Pu(a,l){a.blockedOn===l&&(a.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pM)))}function Nu(a){function l(y){return Pu(y,a)}if(0<Hc.length){Pu(Hc[0],a);for(var d=1;d<Hc.length;d++){var m=Hc[d];m.blockedOn===a&&(m.blockedOn=null)}}for(Ji!==null&&Pu(Ji,a),Qi!==null&&Pu(Qi,a),Xi!==null&&Pu(Xi,a),Au.forEach(l),Ru.forEach(l),d=0;d<Zi.length;d++)m=Zi[d],m.blockedOn===a&&(m.blockedOn=null);for(;0<Zi.length&&(d=Zi[0],d.blockedOn===null);)uS(d),d.blockedOn===null&&Zi.shift()}var Ga=R.ReactCurrentBatchConfig,zc=!0;function mM(a,l,d,m){var y=Ye,_=Ga.transition;Ga.transition=null;try{Ye=1,Hp(a,l,d,m)}finally{Ye=y,Ga.transition=_}}function vM(a,l,d,m){var y=Ye,_=Ga.transition;Ga.transition=null;try{Ye=4,Hp(a,l,d,m)}finally{Ye=y,Ga.transition=_}}function Hp(a,l,d,m){if(zc){var y=Gp(a,l,d,m);if(y===null)lm(a,l,m,Kc,d),sS(a,m);else if(hM(y,a,l,d,m))m.stopPropagation();else if(sS(a,m),l&4&&-1<dM.indexOf(a)){for(;y!==null;){var _=Wu(y);if(_!==null&&nS(_),_=Gp(a,l,d,m),_===null&&lm(a,l,m,Kc,d),_===y)break;y=_}y!==null&&m.stopPropagation()}else lm(a,l,m,null,d)}}var Kc=null;function Gp(a,l,d,m){if(Kc=null,a=Dp(m),a=qo(a),a!==null)if(l=$o(a),l===null)a=null;else if(d=l.tag,d===13){if(a=z1(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Kc=a,null}function cS(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nM()){case Up:return 1;case Z1:return 4;case Bc:case iM:return 16;case eS:return 536870912;default:return 16}default:return 16}}var eo=null,zp=null,Yc=null;function fS(){if(Yc)return Yc;var a,l=zp,d=l.length,m,y="value"in eo?eo.value:eo.textContent,_=y.length;for(a=0;a<d&&l[a]===y[a];a++);var A=d-a;for(m=1;m<=A&&l[d-m]===y[_-m];m++);return Yc=y.slice(a,1<m?1-m:void 0)}function Jc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Qc(){return!0}function dS(){return!1}function Dr(a){function l(d,m,y,_,A){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(d=a[N],this[N]=d?d(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Qc:dS,this.isPropagationStopped=dS,this}return J(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),l}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kp=Dr(za),Lu=J({},za,{view:0,detail:0}),yM=Dr(Lu),Yp,Jp,Du,Xc=J({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Du&&(Du&&a.type==="mousemove"?(Yp=a.screenX-Du.screenX,Jp=a.screenY-Du.screenY):Jp=Yp=0,Du=a),Yp)},movementY:function(a){return"movementY"in a?a.movementY:Jp}}),hS=Dr(Xc),gM=J({},Xc,{dataTransfer:0}),wM=Dr(gM),_M=J({},Lu,{relatedTarget:0}),Qp=Dr(_M),bM=J({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),SM=Dr(bM),EM=J({},za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),TM=Dr(EM),CM=J({},za,{data:0}),pS=Dr(CM),IM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RM(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=AM[a])?!!l[a]:!1}function Xp(){return RM}var OM=J({},Lu,{key:function(a){if(a.key){var l=IM[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Jc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?xM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(a){return a.type==="keypress"?Jc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Jc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),PM=Dr(OM),NM=J({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mS=Dr(NM),LM=J({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),DM=Dr(LM),kM=J({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),MM=Dr(kM),FM=J({},Xc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jM=Dr(FM),UM=[9,13,27,32],Zp=c&&"CompositionEvent"in window,ku=null;c&&"documentMode"in document&&(ku=document.documentMode);var BM=c&&"TextEvent"in window&&!ku,vS=c&&(!Zp||ku&&8<ku&&11>=ku),yS=" ",gS=!1;function wS(a,l){switch(a){case"keyup":return UM.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ka=!1;function $M(a,l){switch(a){case"compositionend":return _S(l);case"keypress":return l.which!==32?null:(gS=!0,yS);case"textInput":return a=l.data,a===yS&&gS?null:a;default:return null}}function qM(a,l){if(Ka)return a==="compositionend"||!Zp&&wS(a,l)?(a=fS(),Yc=zp=eo=null,Ka=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vS&&l.locale!=="ko"?null:l.data;default:return null}}var VM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bS(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!VM[a.type]:l==="textarea"}function SS(a,l,d,m){q1(m),l=nf(l,"onChange"),0<l.length&&(d=new Kp("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Mu=null,Fu=null;function WM(a){BS(a,0)}function Zc(a){var l=Za(a);if(Ct(l))return a}function HM(a,l){if(a==="change")return l}var ES=!1;if(c){var em;if(c){var tm="oninput"in document;if(!tm){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),tm=typeof TS.oninput=="function"}em=tm}else em=!1;ES=em&&(!document.documentMode||9<document.documentMode)}function CS(){Mu&&(Mu.detachEvent("onpropertychange",IS),Fu=Mu=null)}function IS(a){if(a.propertyName==="value"&&Zc(Fu)){var l=[];SS(l,Fu,a,Dp(a)),G1(WM,l)}}function GM(a,l,d){a==="focusin"?(CS(),Mu=l,Fu=d,Mu.attachEvent("onpropertychange",IS)):a==="focusout"&&CS()}function zM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zc(Fu)}function KM(a,l){if(a==="click")return Zc(l)}function YM(a,l){if(a==="input"||a==="change")return Zc(l)}function JM(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Tn=typeof Object.is=="function"?Object.is:JM;function ju(a,l){if(Tn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!h.call(l,y)||!Tn(a[y],l[y]))return!1}return!0}function xS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function AS(a,l){var d=xS(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xS(d)}}function RS(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?RS(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function OS(){for(var a=window,l=cr();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=cr(a.document)}return l}function rm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function QM(a){var l=OS(),d=a.focusedElem,m=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&RS(d.ownerDocument.documentElement,d)){if(m!==null&&rm(d)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=d.textContent.length,_=Math.min(m.start,y);m=m.end===void 0?_:Math.min(m.end,y),!a.extend&&_>m&&(y=m,m=_,_=y),y=AS(d,_);var A=AS(d,m);y&&A&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),_>m?(a.addRange(l),a.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var XM=c&&"documentMode"in document&&11>=document.documentMode,Ya=null,nm=null,Uu=null,im=!1;function PS(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;im||Ya==null||Ya!==cr(m)||(m=Ya,"selectionStart"in m&&rm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Uu&&ju(Uu,m)||(Uu=m,m=nf(nm,"onSelect"),0<m.length&&(l=new Kp("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=Ya)))}function ef(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Ja={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},om={},NS={};c&&(NS=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function tf(a){if(om[a])return om[a];if(!Ja[a])return a;var l=Ja[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in NS)return om[a]=l[d];return a}var LS=tf("animationend"),DS=tf("animationiteration"),kS=tf("animationstart"),MS=tf("transitionend"),FS=new Map,jS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(a,l){FS.set(a,l),i(l,[a])}for(var am=0;am<jS.length;am++){var sm=jS[am],ZM=sm.toLowerCase(),eF=sm[0].toUpperCase()+sm.slice(1);to(ZM,"on"+eF)}to(LS,"onAnimationEnd"),to(DS,"onAnimationIteration"),to(kS,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(MS,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function US(a,l,d){var m=a.type||"unknown-event";a.currentTarget=d,Z5(m,l,void 0,a),a.currentTarget=null}function BS(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],y=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var A=m.length-1;0<=A;A--){var N=m[A],k=N.instance,z=N.currentTarget;if(N=N.listener,k!==_&&y.isPropagationStopped())break e;US(y,N,z),_=k}else for(A=0;A<m.length;A++){if(N=m[A],k=N.instance,z=N.currentTarget,N=N.listener,k!==_&&y.isPropagationStopped())break e;US(y,N,z),_=k}}}if(Uc)throw a=jp,Uc=!1,jp=null,a}function tt(a,l){var d=l[mm];d===void 0&&(d=l[mm]=new Set);var m=a+"__bubble";d.has(m)||($S(l,a,2,!1),d.add(m))}function um(a,l,d){var m=0;l&&(m|=4),$S(d,a,m,l)}var rf="_reactListening"+Math.random().toString(36).slice(2);function $u(a){if(!a[rf]){a[rf]=!0,n.forEach(function(d){d!=="selectionchange"&&(tF.has(d)||um(d,!1,a),um(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[rf]||(l[rf]=!0,um("selectionchange",!1,l))}}function $S(a,l,d,m){switch(cS(l)){case 1:var y=mM;break;case 4:y=vM;break;default:y=Hp}d=y.bind(null,l,d,a),y=void 0,!Fp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(l,d,{capture:!0,passive:y}):a.addEventListener(l,d,!0):y!==void 0?a.addEventListener(l,d,{passive:y}):a.addEventListener(l,d,!1)}function lm(a,l,d,m,y){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var N=m.stateNode.containerInfo;if(N===y||N.nodeType===8&&N.parentNode===y)break;if(A===4)for(A=m.return;A!==null;){var k=A.tag;if((k===3||k===4)&&(k=A.stateNode.containerInfo,k===y||k.nodeType===8&&k.parentNode===y))return;A=A.return}for(;N!==null;){if(A=qo(N),A===null)return;if(k=A.tag,k===5||k===6){m=_=A;continue e}N=N.parentNode}}m=m.return}G1(function(){var z=_,ne=Dp(d),oe=[];e:{var re=FS.get(a);if(re!==void 0){var he=Kp,ye=a;switch(a){case"keypress":if(Jc(d)===0)break e;case"keydown":case"keyup":he=PM;break;case"focusin":ye="focus",he=Qp;break;case"focusout":ye="blur",he=Qp;break;case"beforeblur":case"afterblur":he=Qp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=hS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=wM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=DM;break;case LS:case DS:case kS:he=SM;break;case MS:he=MM;break;case"scroll":he=yM;break;case"wheel":he=jM;break;case"copy":case"cut":case"paste":he=TM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=mS}var ge=(l&4)!==0,yt=!ge&&a==="scroll",W=ge?re!==null?re+"Capture":null:re;ge=[];for(var j=z,G;j!==null;){G=j;var le=G.stateNode;if(G.tag===5&&le!==null&&(G=le,W!==null&&(le=Eu(j,W),le!=null&&ge.push(qu(j,le,G)))),yt)break;j=j.return}0<ge.length&&(re=new he(re,ye,null,d,ne),oe.push({event:re,listeners:ge}))}}if((l&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",he=a==="mouseout"||a==="pointerout",re&&d!==Lp&&(ye=d.relatedTarget||d.fromElement)&&(qo(ye)||ye[Ei]))break e;if((he||re)&&(re=ne.window===ne?ne:(re=ne.ownerDocument)?re.defaultView||re.parentWindow:window,he?(ye=d.relatedTarget||d.toElement,he=z,ye=ye?qo(ye):null,ye!==null&&(yt=$o(ye),ye!==yt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=z),he!==ye)){if(ge=hS,le="onMouseLeave",W="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(ge=mS,le="onPointerLeave",W="onPointerEnter",j="pointer"),yt=he==null?re:Za(he),G=ye==null?re:Za(ye),re=new ge(le,j+"leave",he,d,ne),re.target=yt,re.relatedTarget=G,le=null,qo(ne)===z&&(ge=new ge(W,j+"enter",ye,d,ne),ge.target=G,ge.relatedTarget=yt,le=ge),yt=le,he&&ye)t:{for(ge=he,W=ye,j=0,G=ge;G;G=Qa(G))j++;for(G=0,le=W;le;le=Qa(le))G++;for(;0<j-G;)ge=Qa(ge),j--;for(;0<G-j;)W=Qa(W),G--;for(;j--;){if(ge===W||W!==null&&ge===W.alternate)break t;ge=Qa(ge),W=Qa(W)}ge=null}else ge=null;he!==null&&qS(oe,re,he,ge,!1),ye!==null&&yt!==null&&qS(oe,yt,ye,ge,!0)}}e:{if(re=z?Za(z):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var we=HM;else if(bS(re))if(ES)we=YM;else{we=zM;var Ee=GM}else(he=re.nodeName)&&he.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(we=KM);if(we&&(we=we(a,z))){SS(oe,we,d,ne);break e}Ee&&Ee(a,re,z),a==="focusout"&&(Ee=re._wrapperState)&&Ee.controlled&&re.type==="number"&&q(re,"number",re.value)}switch(Ee=z?Za(z):window,a){case"focusin":(bS(Ee)||Ee.contentEditable==="true")&&(Ya=Ee,nm=z,Uu=null);break;case"focusout":Uu=nm=Ya=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,PS(oe,d,ne);break;case"selectionchange":if(XM)break;case"keydown":case"keyup":PS(oe,d,ne)}var Te;if(Zp)e:{switch(a){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ka?wS(a,d)&&(Ne="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ne="onCompositionStart");Ne&&(vS&&d.locale!=="ko"&&(Ka||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ka&&(Te=fS()):(eo=ne,zp="value"in eo?eo.value:eo.textContent,Ka=!0)),Ee=nf(z,Ne),0<Ee.length&&(Ne=new pS(Ne,a,null,d,ne),oe.push({event:Ne,listeners:Ee}),Te?Ne.data=Te:(Te=_S(d),Te!==null&&(Ne.data=Te)))),(Te=BM?$M(a,d):qM(a,d))&&(z=nf(z,"onBeforeInput"),0<z.length&&(ne=new pS("onBeforeInput","beforeinput",null,d,ne),oe.push({event:ne,listeners:z}),ne.data=Te))}BS(oe,l)})}function qu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function nf(a,l){for(var d=l+"Capture",m=[];a!==null;){var y=a,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Eu(a,d),_!=null&&m.unshift(qu(a,_,y)),_=Eu(a,l),_!=null&&m.push(qu(a,_,y))),a=a.return}return m}function Qa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function qS(a,l,d,m,y){for(var _=l._reactName,A=[];d!==null&&d!==m;){var N=d,k=N.alternate,z=N.stateNode;if(k!==null&&k===m)break;N.tag===5&&z!==null&&(N=z,y?(k=Eu(d,_),k!=null&&A.unshift(qu(d,k,N))):y||(k=Eu(d,_),k!=null&&A.push(qu(d,k,N)))),d=d.return}A.length!==0&&a.push({event:l,listeners:A})}var rF=/\r\n?/g,nF=/\u0000|\uFFFD/g;function VS(a){return(typeof a=="string"?a:""+a).replace(rF,`
`).replace(nF,"")}function of(a,l,d){if(l=VS(l),VS(a)!==l&&d)throw Error(r(425))}function af(){}var cm=null,fm=null;function dm(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hm=typeof setTimeout=="function"?setTimeout:void 0,iF=typeof clearTimeout=="function"?clearTimeout:void 0,WS=typeof Promise=="function"?Promise:void 0,oF=typeof queueMicrotask=="function"?queueMicrotask:typeof WS<"u"?function(a){return WS.resolve(null).then(a).catch(aF)}:hm;function aF(a){setTimeout(function(){throw a})}function pm(a,l){var d=l,m=0;do{var y=d.nextSibling;if(a.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(m===0){a.removeChild(y),Nu(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=y}while(d);Nu(l)}function ro(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function HS(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Xa,Vu="__reactProps$"+Xa,Ei="__reactContainer$"+Xa,mm="__reactEvents$"+Xa,sF="__reactListeners$"+Xa,uF="__reactHandles$"+Xa;function qo(a){var l=a[Xn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Ei]||d[Xn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=HS(a);a!==null;){if(d=a[Xn])return d;a=HS(a)}return l}a=d,d=a.parentNode}return null}function Wu(a){return a=a[Xn]||a[Ei],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Za(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function sf(a){return a[Vu]||null}var vm=[],es=-1;function no(a){return{current:a}}function rt(a){0>es||(a.current=vm[es],vm[es]=null,es--)}function et(a,l){es++,vm[es]=a.current,a.current=l}var io={},Wt=no(io),dr=no(!1),Vo=io;function ts(a,l){var d=a.type.contextTypes;if(!d)return io;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in d)y[_]=l[_];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function hr(a){return a=a.childContextTypes,a!=null}function uf(){rt(dr),rt(Wt)}function GS(a,l,d){if(Wt.current!==io)throw Error(r(168));et(Wt,l),et(dr,d)}function zS(a,l,d){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(r(108,Fe(a)||"Unknown",y));return J({},d,m)}function lf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||io,Vo=Wt.current,et(Wt,a),et(dr,dr.current),!0}function KS(a,l,d){var m=a.stateNode;if(!m)throw Error(r(169));d?(a=zS(a,l,Vo),m.__reactInternalMemoizedMergedChildContext=a,rt(dr),rt(Wt),et(Wt,a)):rt(dr),et(dr,d)}var Ti=null,cf=!1,ym=!1;function YS(a){Ti===null?Ti=[a]:Ti.push(a)}function lF(a){cf=!0,YS(a)}function oo(){if(!ym&&Ti!==null){ym=!0;var a=0,l=Ye;try{var d=Ti;for(Ye=1;a<d.length;a++){var m=d[a];do m=m(!0);while(m!==null)}Ti=null,cf=!1}catch(y){throw Ti!==null&&(Ti=Ti.slice(a+1)),Q1(Up,oo),y}finally{Ye=l,ym=!1}}return null}var rs=[],ns=0,ff=null,df=0,Gr=[],zr=0,Wo=null,Ci=1,Ii="";function Ho(a,l){rs[ns++]=df,rs[ns++]=ff,ff=a,df=l}function JS(a,l,d){Gr[zr++]=Ci,Gr[zr++]=Ii,Gr[zr++]=Wo,Wo=a;var m=Ci;a=Ii;var y=32-En(m)-1;m&=~(1<<y),d+=1;var _=32-En(l)+y;if(30<_){var A=y-y%5;_=(m&(1<<A)-1).toString(32),m>>=A,y-=A,Ci=1<<32-En(l)+y|d<<y|m,Ii=_+a}else Ci=1<<_|d<<y|m,Ii=a}function gm(a){a.return!==null&&(Ho(a,1),JS(a,1,0))}function wm(a){for(;a===ff;)ff=rs[--ns],rs[ns]=null,df=rs[--ns],rs[ns]=null;for(;a===Wo;)Wo=Gr[--zr],Gr[zr]=null,Ii=Gr[--zr],Gr[zr]=null,Ci=Gr[--zr],Gr[zr]=null}var kr=null,Mr=null,at=!1,Cn=null;function QS(a,l){var d=Qr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function XS(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,kr=a,Mr=ro(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,kr=a,Mr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Wo!==null?{id:Ci,overflow:Ii}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Qr(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,kr=a,Mr=null,!0):!1;default:return!1}}function _m(a){return(a.mode&1)!==0&&(a.flags&128)===0}function bm(a){if(at){var l=Mr;if(l){var d=l;if(!XS(a,l)){if(_m(a))throw Error(r(418));l=ro(d.nextSibling);var m=kr;l&&XS(a,l)?QS(m,d):(a.flags=a.flags&-4097|2,at=!1,kr=a)}}else{if(_m(a))throw Error(r(418));a.flags=a.flags&-4097|2,at=!1,kr=a}}}function ZS(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;kr=a}function hf(a){if(a!==kr)return!1;if(!at)return ZS(a),at=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!dm(a.type,a.memoizedProps)),l&&(l=Mr)){if(_m(a))throw eE(),Error(r(418));for(;l;)QS(a,l),l=ro(l.nextSibling)}if(ZS(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){Mr=ro(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}Mr=null}}else Mr=kr?ro(a.stateNode.nextSibling):null;return!0}function eE(){for(var a=Mr;a;)a=ro(a.nextSibling)}function is(){Mr=kr=null,at=!1}function Sm(a){Cn===null?Cn=[a]:Cn.push(a)}var cF=R.ReactCurrentBatchConfig;function Hu(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var m=d.stateNode}if(!m)throw Error(r(147,a));var y=m,_=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(A){var N=y.refs;A===null?delete N[_]:N[_]=A},l._stringRef=_,l)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function pf(a,l){throw a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function tE(a){var l=a._init;return l(a._payload)}function rE(a){function l(W,j){if(a){var G=W.deletions;G===null?(W.deletions=[j],W.flags|=16):G.push(j)}}function d(W,j){if(!a)return null;for(;j!==null;)l(W,j),j=j.sibling;return null}function m(W,j){for(W=new Map;j!==null;)j.key!==null?W.set(j.key,j):W.set(j.index,j),j=j.sibling;return W}function y(W,j){return W=po(W,j),W.index=0,W.sibling=null,W}function _(W,j,G){return W.index=G,a?(G=W.alternate,G!==null?(G=G.index,G<j?(W.flags|=2,j):G):(W.flags|=2,j)):(W.flags|=1048576,j)}function A(W){return a&&W.alternate===null&&(W.flags|=2),W}function N(W,j,G,le){return j===null||j.tag!==6?(j=hv(G,W.mode,le),j.return=W,j):(j=y(j,G),j.return=W,j)}function k(W,j,G,le){var we=G.type;return we===H?ne(W,j,G.props.children,le,G.key):j!==null&&(j.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&tE(we)===j.type)?(le=y(j,G.props),le.ref=Hu(W,j,G),le.return=W,le):(le=jf(G.type,G.key,G.props,null,W.mode,le),le.ref=Hu(W,j,G),le.return=W,le)}function z(W,j,G,le){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=pv(G,W.mode,le),j.return=W,j):(j=y(j,G.children||[]),j.return=W,j)}function ne(W,j,G,le,we){return j===null||j.tag!==7?(j=Zo(G,W.mode,le,we),j.return=W,j):(j=y(j,G),j.return=W,j)}function oe(W,j,G){if(typeof j=="string"&&j!==""||typeof j=="number")return j=hv(""+j,W.mode,G),j.return=W,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return G=jf(j.type,j.key,j.props,null,W.mode,G),G.ref=Hu(W,null,j),G.return=W,G;case F:return j=pv(j,W.mode,G),j.return=W,j;case be:var le=j._init;return oe(W,le(j._payload),G)}if(te(j)||X(j))return j=Zo(j,W.mode,G,null),j.return=W,j;pf(W,j)}return null}function re(W,j,G,le){var we=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return we!==null?null:N(W,j,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case L:return G.key===we?k(W,j,G,le):null;case F:return G.key===we?z(W,j,G,le):null;case be:return we=G._init,re(W,j,we(G._payload),le)}if(te(G)||X(G))return we!==null?null:ne(W,j,G,le,null);pf(W,G)}return null}function he(W,j,G,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return W=W.get(G)||null,N(j,W,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case L:return W=W.get(le.key===null?G:le.key)||null,k(j,W,le,we);case F:return W=W.get(le.key===null?G:le.key)||null,z(j,W,le,we);case be:var Ee=le._init;return he(W,j,G,Ee(le._payload),we)}if(te(le)||X(le))return W=W.get(G)||null,ne(j,W,le,we,null);pf(j,le)}return null}function ye(W,j,G,le){for(var we=null,Ee=null,Te=j,Ne=j=0,Dt=null;Te!==null&&Ne<G.length;Ne++){Te.index>Ne?(Dt=Te,Te=null):Dt=Te.sibling;var ze=re(W,Te,G[Ne],le);if(ze===null){Te===null&&(Te=Dt);break}a&&Te&&ze.alternate===null&&l(W,Te),j=_(ze,j,Ne),Ee===null?we=ze:Ee.sibling=ze,Ee=ze,Te=Dt}if(Ne===G.length)return d(W,Te),at&&Ho(W,Ne),we;if(Te===null){for(;Ne<G.length;Ne++)Te=oe(W,G[Ne],le),Te!==null&&(j=_(Te,j,Ne),Ee===null?we=Te:Ee.sibling=Te,Ee=Te);return at&&Ho(W,Ne),we}for(Te=m(W,Te);Ne<G.length;Ne++)Dt=he(Te,W,Ne,G[Ne],le),Dt!==null&&(a&&Dt.alternate!==null&&Te.delete(Dt.key===null?Ne:Dt.key),j=_(Dt,j,Ne),Ee===null?we=Dt:Ee.sibling=Dt,Ee=Dt);return a&&Te.forEach(function(mo){return l(W,mo)}),at&&Ho(W,Ne),we}function ge(W,j,G,le){var we=X(G);if(typeof we!="function")throw Error(r(150));if(G=we.call(G),G==null)throw Error(r(151));for(var Ee=we=null,Te=j,Ne=j=0,Dt=null,ze=G.next();Te!==null&&!ze.done;Ne++,ze=G.next()){Te.index>Ne?(Dt=Te,Te=null):Dt=Te.sibling;var mo=re(W,Te,ze.value,le);if(mo===null){Te===null&&(Te=Dt);break}a&&Te&&mo.alternate===null&&l(W,Te),j=_(mo,j,Ne),Ee===null?we=mo:Ee.sibling=mo,Ee=mo,Te=Dt}if(ze.done)return d(W,Te),at&&Ho(W,Ne),we;if(Te===null){for(;!ze.done;Ne++,ze=G.next())ze=oe(W,ze.value,le),ze!==null&&(j=_(ze,j,Ne),Ee===null?we=ze:Ee.sibling=ze,Ee=ze);return at&&Ho(W,Ne),we}for(Te=m(W,Te);!ze.done;Ne++,ze=G.next())ze=he(Te,W,Ne,ze.value,le),ze!==null&&(a&&ze.alternate!==null&&Te.delete(ze.key===null?Ne:ze.key),j=_(ze,j,Ne),Ee===null?we=ze:Ee.sibling=ze,Ee=ze);return a&&Te.forEach(function(VF){return l(W,VF)}),at&&Ho(W,Ne),we}function yt(W,j,G,le){if(typeof G=="object"&&G!==null&&G.type===H&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case L:e:{for(var we=G.key,Ee=j;Ee!==null;){if(Ee.key===we){if(we=G.type,we===H){if(Ee.tag===7){d(W,Ee.sibling),j=y(Ee,G.props.children),j.return=W,W=j;break e}}else if(Ee.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===be&&tE(we)===Ee.type){d(W,Ee.sibling),j=y(Ee,G.props),j.ref=Hu(W,Ee,G),j.return=W,W=j;break e}d(W,Ee);break}else l(W,Ee);Ee=Ee.sibling}G.type===H?(j=Zo(G.props.children,W.mode,le,G.key),j.return=W,W=j):(le=jf(G.type,G.key,G.props,null,W.mode,le),le.ref=Hu(W,j,G),le.return=W,W=le)}return A(W);case F:e:{for(Ee=G.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){d(W,j.sibling),j=y(j,G.children||[]),j.return=W,W=j;break e}else{d(W,j);break}else l(W,j);j=j.sibling}j=pv(G,W.mode,le),j.return=W,W=j}return A(W);case be:return Ee=G._init,yt(W,j,Ee(G._payload),le)}if(te(G))return ye(W,j,G,le);if(X(G))return ge(W,j,G,le);pf(W,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,j!==null&&j.tag===6?(d(W,j.sibling),j=y(j,G),j.return=W,W=j):(d(W,j),j=hv(G,W.mode,le),j.return=W,W=j),A(W)):d(W,j)}return yt}var os=rE(!0),nE=rE(!1),mf=no(null),vf=null,as=null,Em=null;function Tm(){Em=as=vf=null}function Cm(a){var l=mf.current;rt(mf),a._currentValue=l}function Im(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function ss(a,l){vf=a,Em=as=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(pr=!0),a.firstContext=null)}function Kr(a){var l=a._currentValue;if(Em!==a)if(a={context:a,memoizedValue:l,next:null},as===null){if(vf===null)throw Error(r(308));as=a,vf.dependencies={lanes:0,firstContext:a}}else as=as.next=a;return l}var Go=null;function xm(a){Go===null?Go=[a]:Go.push(a)}function iE(a,l,d,m){var y=l.interleaved;return y===null?(d.next=d,xm(l)):(d.next=y.next,y.next=d),l.interleaved=d,xi(a,m)}function xi(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var ao=!1;function Am(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oE(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ai(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function so(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(He&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,xi(a,d)}return y=m.interleaved,y===null?(l.next=l,xm(m)):(l.next=y.next,y.next=l),m.interleaved=l,xi(a,d)}function yf(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,qp(a,d)}}function aE(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?y=_=A:_=_.next=A,d=d.next}while(d!==null);_===null?y=_=l:_=_.next=l}else y=_=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:m.shared,effects:m.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function gf(a,l,d,m){var y=a.updateQueue;ao=!1;var _=y.firstBaseUpdate,A=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var k=N,z=k.next;k.next=null,A===null?_=z:A.next=z,A=k;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==A&&(N===null?ne.firstBaseUpdate=z:N.next=z,ne.lastBaseUpdate=k))}if(_!==null){var oe=y.baseState;A=0,ne=z=k=null,N=_;do{var re=N.lane,he=N.eventTime;if((m&re)===re){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ye=a,ge=N;switch(re=l,he=d,ge.tag){case 1:if(ye=ge.payload,typeof ye=="function"){oe=ye.call(he,oe,re);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ge.payload,re=typeof ye=="function"?ye.call(he,oe,re):ye,re==null)break e;oe=J({},oe,re);break e;case 2:ao=!0}}N.callback!==null&&N.lane!==0&&(a.flags|=64,re=y.effects,re===null?y.effects=[N]:re.push(N))}else he={eventTime:he,lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(z=ne=he,k=oe):ne=ne.next=he,A|=re;if(N=N.next,N===null){if(N=y.shared.pending,N===null)break;re=N,N=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);if(ne===null&&(k=oe),y.baseState=k,y.firstBaseUpdate=z,y.lastBaseUpdate=ne,l=y.shared.interleaved,l!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else _===null&&(y.shared.lanes=0);Yo|=A,a.lanes=A,a.memoizedState=oe}}function sE(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],y=m.callback;if(y!==null){if(m.callback=null,m=d,typeof y!="function")throw Error(r(191,y));y.call(m)}}}var Gu={},Zn=no(Gu),zu=no(Gu),Ku=no(Gu);function zo(a){if(a===Gu)throw Error(r(174));return a}function Rm(a,l){switch(et(Ku,l),et(zu,a),et(Zn,Gu),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:bn(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=bn(l,a)}rt(Zn),et(Zn,l)}function us(){rt(Zn),rt(zu),rt(Ku)}function uE(a){zo(Ku.current);var l=zo(Zn.current),d=bn(l,a.type);l!==d&&(et(zu,a),et(Zn,d))}function Om(a){zu.current===a&&(rt(Zn),rt(zu))}var lt=no(0);function wf(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Pm=[];function Nm(){for(var a=0;a<Pm.length;a++)Pm[a]._workInProgressVersionPrimary=null;Pm.length=0}var _f=R.ReactCurrentDispatcher,Lm=R.ReactCurrentBatchConfig,Ko=0,ct=null,It=null,Nt=null,bf=!1,Yu=!1,Ju=0,fF=0;function Ht(){throw Error(r(321))}function Dm(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Tn(a[d],l[d]))return!1;return!0}function km(a,l,d,m,y,_){if(Ko=_,ct=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_f.current=a===null||a.memoizedState===null?mF:vF,a=d(m,y),Yu){_=0;do{if(Yu=!1,Ju=0,25<=_)throw Error(r(301));_+=1,Nt=It=null,l.updateQueue=null,_f.current=yF,a=d(m,y)}while(Yu)}if(_f.current=Tf,l=It!==null&&It.next!==null,Ko=0,Nt=It=ct=null,bf=!1,l)throw Error(r(300));return a}function Mm(){var a=Ju!==0;return Ju=0,a}function ei(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ct.memoizedState=Nt=a:Nt=Nt.next=a,Nt}function Yr(){if(It===null){var a=ct.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var l=Nt===null?ct.memoizedState:Nt.next;if(l!==null)Nt=l,It=a;else{if(a===null)throw Error(r(310));It=a,a={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Nt===null?ct.memoizedState=Nt=a:Nt=Nt.next=a}return Nt}function Qu(a,l){return typeof l=="function"?l(a):l}function Fm(a){var l=Yr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=It,y=m.baseQueue,_=d.pending;if(_!==null){if(y!==null){var A=y.next;y.next=_.next,_.next=A}m.baseQueue=y=_,d.pending=null}if(y!==null){_=y.next,m=m.baseState;var N=A=null,k=null,z=_;do{var ne=z.lane;if((Ko&ne)===ne)k!==null&&(k=k.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),m=z.hasEagerState?z.eagerState:a(m,z.action);else{var oe={lane:ne,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};k===null?(N=k=oe,A=m):k=k.next=oe,ct.lanes|=ne,Yo|=ne}z=z.next}while(z!==null&&z!==_);k===null?A=m:k.next=N,Tn(m,l.memoizedState)||(pr=!0),l.memoizedState=m,l.baseState=A,l.baseQueue=k,d.lastRenderedState=m}if(a=d.interleaved,a!==null){y=a;do _=y.lane,ct.lanes|=_,Yo|=_,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function jm(a){var l=Yr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,y=d.pending,_=l.memoizedState;if(y!==null){d.pending=null;var A=y=y.next;do _=a(_,A.action),A=A.next;while(A!==y);Tn(_,l.memoizedState)||(pr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,m]}function lE(){}function cE(a,l){var d=ct,m=Yr(),y=l(),_=!Tn(m.memoizedState,y);if(_&&(m.memoizedState=y,pr=!0),m=m.queue,Um(hE.bind(null,d,m,a),[a]),m.getSnapshot!==l||_||Nt!==null&&Nt.memoizedState.tag&1){if(d.flags|=2048,Xu(9,dE.bind(null,d,m,y,l),void 0,null),Lt===null)throw Error(r(349));(Ko&30)!==0||fE(d,l,y)}return y}function fE(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=ct.updateQueue,l===null?(l={lastEffect:null,stores:null},ct.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function dE(a,l,d,m){l.value=d,l.getSnapshot=m,pE(l)&&mE(a)}function hE(a,l,d){return d(function(){pE(l)&&mE(a)})}function pE(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Tn(a,d)}catch{return!0}}function mE(a){var l=xi(a,1);l!==null&&Rn(l,a,1,-1)}function vE(a){var l=ei();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:a},l.queue=a,a=a.dispatch=pF.bind(null,ct,a),[l.memoizedState,a]}function Xu(a,l,d,m){return a={tag:a,create:l,destroy:d,deps:m,next:null},l=ct.updateQueue,l===null?(l={lastEffect:null,stores:null},ct.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a)),a}function yE(){return Yr().memoizedState}function Sf(a,l,d,m){var y=ei();ct.flags|=a,y.memoizedState=Xu(1|l,d,void 0,m===void 0?null:m)}function Ef(a,l,d,m){var y=Yr();m=m===void 0?null:m;var _=void 0;if(It!==null){var A=It.memoizedState;if(_=A.destroy,m!==null&&Dm(m,A.deps)){y.memoizedState=Xu(l,d,_,m);return}}ct.flags|=a,y.memoizedState=Xu(1|l,d,_,m)}function gE(a,l){return Sf(8390656,8,a,l)}function Um(a,l){return Ef(2048,8,a,l)}function wE(a,l){return Ef(4,2,a,l)}function _E(a,l){return Ef(4,4,a,l)}function bE(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function SE(a,l,d){return d=d!=null?d.concat([a]):null,Ef(4,4,bE.bind(null,l,a),d)}function Bm(){}function EE(a,l){var d=Yr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Dm(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function TE(a,l){var d=Yr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Dm(l,m[1])?m[0]:(a=a(),d.memoizedState=[a,l],a)}function CE(a,l,d){return(Ko&21)===0?(a.baseState&&(a.baseState=!1,pr=!0),a.memoizedState=d):(Tn(d,l)||(d=tS(),ct.lanes|=d,Yo|=d,a.baseState=!0),l)}function dF(a,l){var d=Ye;Ye=d!==0&&4>d?d:4,a(!0);var m=Lm.transition;Lm.transition={};try{a(!1),l()}finally{Ye=d,Lm.transition=m}}function IE(){return Yr().memoizedState}function hF(a,l,d){var m=fo(a);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},xE(a))AE(l,d);else if(d=iE(a,l,d,m),d!==null){var y=tr();Rn(d,a,m,y),RE(d,l,m)}}function pF(a,l,d){var m=fo(a),y={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(xE(a))AE(l,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var A=l.lastRenderedState,N=_(A,d);if(y.hasEagerState=!0,y.eagerState=N,Tn(N,A)){var k=l.interleaved;k===null?(y.next=y,xm(l)):(y.next=k.next,k.next=y),l.interleaved=y;return}}catch{}finally{}d=iE(a,l,y,m),d!==null&&(y=tr(),Rn(d,a,m,y),RE(d,l,m))}}function xE(a){var l=a.alternate;return a===ct||l!==null&&l===ct}function AE(a,l){Yu=bf=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function RE(a,l,d){if((d&4194240)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,qp(a,d)}}var Tf={readContext:Kr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},mF={readContext:Kr,useCallback:function(a,l){return ei().memoizedState=[a,l===void 0?null:l],a},useContext:Kr,useEffect:gE,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Sf(4194308,4,bE.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Sf(4194308,4,a,l)},useInsertionEffect:function(a,l){return Sf(4,2,a,l)},useMemo:function(a,l){var d=ei();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var m=ei();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=hF.bind(null,ct,a),[m.memoizedState,a]},useRef:function(a){var l=ei();return a={current:a},l.memoizedState=a},useState:vE,useDebugValue:Bm,useDeferredValue:function(a){return ei().memoizedState=a},useTransition:function(){var a=vE(!1),l=a[0];return a=dF.bind(null,a[1]),ei().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var m=ct,y=ei();if(at){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Lt===null)throw Error(r(349));(Ko&30)!==0||fE(m,l,d)}y.memoizedState=d;var _={value:d,getSnapshot:l};return y.queue=_,gE(hE.bind(null,m,_,a),[a]),m.flags|=2048,Xu(9,dE.bind(null,m,_,d,l),void 0,null),d},useId:function(){var a=ei(),l=Lt.identifierPrefix;if(at){var d=Ii,m=Ci;d=(m&~(1<<32-En(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Ju++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=fF++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},vF={readContext:Kr,useCallback:EE,useContext:Kr,useEffect:Um,useImperativeHandle:SE,useInsertionEffect:wE,useLayoutEffect:_E,useMemo:TE,useReducer:Fm,useRef:yE,useState:function(){return Fm(Qu)},useDebugValue:Bm,useDeferredValue:function(a){var l=Yr();return CE(l,It.memoizedState,a)},useTransition:function(){var a=Fm(Qu)[0],l=Yr().memoizedState;return[a,l]},useMutableSource:lE,useSyncExternalStore:cE,useId:IE,unstable_isNewReconciler:!1},yF={readContext:Kr,useCallback:EE,useContext:Kr,useEffect:Um,useImperativeHandle:SE,useInsertionEffect:wE,useLayoutEffect:_E,useMemo:TE,useReducer:jm,useRef:yE,useState:function(){return jm(Qu)},useDebugValue:Bm,useDeferredValue:function(a){var l=Yr();return It===null?l.memoizedState=a:CE(l,It.memoizedState,a)},useTransition:function(){var a=jm(Qu)[0],l=Yr().memoizedState;return[a,l]},useMutableSource:lE,useSyncExternalStore:cE,useId:IE,unstable_isNewReconciler:!1};function In(a,l){if(a&&a.defaultProps){l=J({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function $m(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:J({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Cf={isMounted:function(a){return(a=a._reactInternals)?$o(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var m=tr(),y=fo(a),_=Ai(m,y);_.payload=l,d!=null&&(_.callback=d),l=so(a,_,y),l!==null&&(Rn(l,a,y,m),yf(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=tr(),y=fo(a),_=Ai(m,y);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=so(a,_,y),l!==null&&(Rn(l,a,y,m),yf(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=tr(),m=fo(a),y=Ai(d,m);y.tag=2,l!=null&&(y.callback=l),l=so(a,y,m),l!==null&&(Rn(l,a,m,d),yf(l,a,m))}};function OE(a,l,d,m,y,_,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,_,A):l.prototype&&l.prototype.isPureReactComponent?!ju(d,m)||!ju(y,_):!0}function PE(a,l,d){var m=!1,y=io,_=l.contextType;return typeof _=="object"&&_!==null?_=Kr(_):(y=hr(l)?Vo:Wt.current,m=l.contextTypes,_=(m=m!=null)?ts(a,y):io),l=new l(d,_),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Cf,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=_),l}function NE(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&Cf.enqueueReplaceState(l,l.state,null)}function qm(a,l,d,m){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs={},Am(a);var _=l.contextType;typeof _=="object"&&_!==null?y.context=Kr(_):(_=hr(l)?Vo:Wt.current,y.context=ts(a,_)),y.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&($m(a,l,_,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Cf.enqueueReplaceState(y,y.state,null),gf(a,d,y,m),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function ls(a,l){try{var d="",m=l;do d+=Ae(m),m=m.return;while(m);var y=d}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:l,stack:y,digest:null}}function Vm(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function Wm(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var gF=typeof WeakMap=="function"?WeakMap:Map;function LE(a,l,d){d=Ai(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Nf||(Nf=!0,ov=m),Wm(a,l)},d}function DE(a,l,d){d=Ai(-1,d),d.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;d.payload=function(){return m(y)},d.callback=function(){Wm(a,l)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){Wm(a,l),typeof m!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),d}function kE(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new gF;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(y.add(d),a=NF.bind(null,a,l,d),l.then(a,a))}function ME(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function FE(a,l,d,m,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ai(-1,1),l.tag=2,so(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var wF=R.ReactCurrentOwner,pr=!1;function er(a,l,d,m){l.child=a===null?nE(l,null,d,m):os(l,a.child,d,m)}function jE(a,l,d,m,y){d=d.render;var _=l.ref;return ss(l,y),m=km(a,l,d,m,_,y),d=Mm(),a!==null&&!pr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Ri(a,l,y)):(at&&d&&gm(l),l.flags|=1,er(a,l,m,y),l.child)}function UE(a,l,d,m,y){if(a===null){var _=d.type;return typeof _=="function"&&!dv(_)&&_.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=_,BE(a,l,_,m,y)):(a=jf(d.type,null,m,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,(a.lanes&y)===0){var A=_.memoizedProps;if(d=d.compare,d=d!==null?d:ju,d(A,m)&&a.ref===l.ref)return Ri(a,l,y)}return l.flags|=1,a=po(_,m),a.ref=l.ref,a.return=l,l.child=a}function BE(a,l,d,m,y){if(a!==null){var _=a.memoizedProps;if(ju(_,m)&&a.ref===l.ref)if(pr=!1,l.pendingProps=m=_,(a.lanes&y)!==0)(a.flags&131072)!==0&&(pr=!0);else return l.lanes=a.lanes,Ri(a,l,y)}return Hm(a,l,d,m,y)}function $E(a,l,d){var m=l.pendingProps,y=m.children,_=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(fs,Fr),Fr|=d;else{if((d&1073741824)===0)return a=_!==null?_.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,et(fs,Fr),Fr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:d,et(fs,Fr),Fr|=m}else _!==null?(m=_.baseLanes|d,l.memoizedState=null):m=d,et(fs,Fr),Fr|=m;return er(a,l,y,d),l.child}function qE(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Hm(a,l,d,m,y){var _=hr(d)?Vo:Wt.current;return _=ts(l,_),ss(l,y),d=km(a,l,d,m,_,y),m=Mm(),a!==null&&!pr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Ri(a,l,y)):(at&&m&&gm(l),l.flags|=1,er(a,l,d,y),l.child)}function VE(a,l,d,m,y){if(hr(d)){var _=!0;lf(l)}else _=!1;if(ss(l,y),l.stateNode===null)xf(a,l),PE(l,d,m),qm(l,d,m,y),m=!0;else if(a===null){var A=l.stateNode,N=l.memoizedProps;A.props=N;var k=A.context,z=d.contextType;typeof z=="object"&&z!==null?z=Kr(z):(z=hr(d)?Vo:Wt.current,z=ts(l,z));var ne=d.getDerivedStateFromProps,oe=typeof ne=="function"||typeof A.getSnapshotBeforeUpdate=="function";oe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(N!==m||k!==z)&&NE(l,A,m,z),ao=!1;var re=l.memoizedState;A.state=re,gf(l,m,A,y),k=l.memoizedState,N!==m||re!==k||dr.current||ao?(typeof ne=="function"&&($m(l,d,ne,m),k=l.memoizedState),(N=ao||OE(l,d,N,m,re,k,z))?(oe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=k),A.props=m,A.state=k,A.context=z,m=N):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{A=l.stateNode,oE(a,l),N=l.memoizedProps,z=l.type===l.elementType?N:In(l.type,N),A.props=z,oe=l.pendingProps,re=A.context,k=d.contextType,typeof k=="object"&&k!==null?k=Kr(k):(k=hr(d)?Vo:Wt.current,k=ts(l,k));var he=d.getDerivedStateFromProps;(ne=typeof he=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(N!==oe||re!==k)&&NE(l,A,m,k),ao=!1,re=l.memoizedState,A.state=re,gf(l,m,A,y);var ye=l.memoizedState;N!==oe||re!==ye||dr.current||ao?(typeof he=="function"&&($m(l,d,he,m),ye=l.memoizedState),(z=ao||OE(l,d,z,m,re,ye,k)||!1)?(ne||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,ye,k),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,ye,k)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ye),A.props=m,A.state=ye,A.context=k,m=z):(typeof A.componentDidUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&re===a.memoizedState||(l.flags|=1024),m=!1)}return Gm(a,l,d,m,_,y)}function Gm(a,l,d,m,y,_){qE(a,l);var A=(l.flags&128)!==0;if(!m&&!A)return y&&KS(l,d,!1),Ri(a,l,_);m=l.stateNode,wF.current=l;var N=A&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&A?(l.child=os(l,a.child,null,_),l.child=os(l,null,N,_)):er(a,l,N,_),l.memoizedState=m.state,y&&KS(l,d,!0),l.child}function WE(a){var l=a.stateNode;l.pendingContext?GS(a,l.pendingContext,l.pendingContext!==l.context):l.context&&GS(a,l.context,!1),Rm(a,l.containerInfo)}function HE(a,l,d,m,y){return is(),Sm(y),l.flags|=256,er(a,l,d,m),l.child}var zm={dehydrated:null,treeContext:null,retryLane:0};function Km(a){return{baseLanes:a,cachePool:null,transitions:null}}function GE(a,l,d){var m=l.pendingProps,y=lt.current,_=!1,A=(l.flags&128)!==0,N;if((N=A)||(N=a!==null&&a.memoizedState===null?!1:(y&2)!==0),N?(_=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),et(lt,y&1),a===null)return bm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=m.children,a=m.fallback,_?(m=l.mode,_=l.child,A={mode:"hidden",children:A},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=Uf(A,m,0,null),a=Zo(a,m,d,null),_.return=l,a.return=l,_.sibling=a,l.child=_,l.child.memoizedState=Km(d),l.memoizedState=zm,a):Ym(l,A));if(y=a.memoizedState,y!==null&&(N=y.dehydrated,N!==null))return _F(a,l,A,m,N,y,d);if(_){_=m.fallback,A=l.mode,y=a.child,N=y.sibling;var k={mode:"hidden",children:m.children};return(A&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=k,l.deletions=null):(m=po(y,k),m.subtreeFlags=y.subtreeFlags&14680064),N!==null?_=po(N,_):(_=Zo(_,A,d,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,A=a.child.memoizedState,A=A===null?Km(d):{baseLanes:A.baseLanes|d,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=a.childLanes&~d,l.memoizedState=zm,m}return _=a.child,a=_.sibling,m=po(_,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=m,l.memoizedState=null,m}function Ym(a,l){return l=Uf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function If(a,l,d,m){return m!==null&&Sm(m),os(l,a.child,null,d),a=Ym(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function _F(a,l,d,m,y,_,A){if(d)return l.flags&256?(l.flags&=-257,m=Vm(Error(r(422))),If(a,l,A,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(_=m.fallback,y=l.mode,m=Uf({mode:"visible",children:m.children},y,0,null),_=Zo(_,y,A,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,(l.mode&1)!==0&&os(l,a.child,null,A),l.child.memoizedState=Km(A),l.memoizedState=zm,_);if((l.mode&1)===0)return If(a,l,A,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var N=m.dgst;return m=N,_=Error(r(419)),m=Vm(_,m,void 0),If(a,l,A,m)}if(N=(A&a.childLanes)!==0,pr||N){if(m=Lt,m!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|A))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,xi(a,y),Rn(m,a,y,-1))}return fv(),m=Vm(Error(r(421))),If(a,l,A,m)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=LF.bind(null,a),y._reactRetry=l,null):(a=_.treeContext,Mr=ro(y.nextSibling),kr=l,at=!0,Cn=null,a!==null&&(Gr[zr++]=Ci,Gr[zr++]=Ii,Gr[zr++]=Wo,Ci=a.id,Ii=a.overflow,Wo=l),l=Ym(l,m.children),l.flags|=4096,l)}function zE(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Im(a.return,l,d)}function Jm(a,l,d,m,y){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=d,_.tailMode=y)}function KE(a,l,d){var m=l.pendingProps,y=m.revealOrder,_=m.tail;if(er(a,l,m.children,d),m=lt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&zE(a,d,l);else if(a.tag===19)zE(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(et(lt,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)a=d.alternate,a!==null&&wf(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Jm(l,!1,y,d,_);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&wf(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Jm(l,!0,d,null,_);break;case"together":Jm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function xf(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Ri(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Yo|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=po(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=po(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function bF(a,l,d){switch(l.tag){case 3:WE(l),is();break;case 5:uE(l);break;case 1:hr(l.type)&&lf(l);break;case 4:Rm(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;et(mf,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(et(lt,lt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?GE(a,l,d):(et(lt,lt.current&1),a=Ri(a,l,d),a!==null?a.sibling:null);et(lt,lt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(a.flags&128)!==0){if(m)return KE(a,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),et(lt,lt.current),m)break;return null;case 22:case 23:return l.lanes=0,$E(a,l,d)}return Ri(a,l,d)}var YE,Qm,JE,QE;YE=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Qm=function(){},JE=function(a,l,d,m){var y=a.memoizedProps;if(y!==m){a=l.stateNode,zo(Zn.current);var _=null;switch(d){case"input":y=_n(a,y),m=_n(a,m),_=[];break;case"select":y=J({},y,{value:void 0}),m=J({},m,{value:void 0}),_=[];break;case"textarea":y=De(a,y),m=De(a,m),_=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=af)}Pp(d,m);var A;d=null;for(z in y)if(!m.hasOwnProperty(z)&&y.hasOwnProperty(z)&&y[z]!=null)if(z==="style"){var N=y[z];for(A in N)N.hasOwnProperty(A)&&(d||(d={}),d[A]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?_||(_=[]):(_=_||[]).push(z,null));for(z in m){var k=m[z];if(N=y!=null?y[z]:void 0,m.hasOwnProperty(z)&&k!==N&&(k!=null||N!=null))if(z==="style")if(N){for(A in N)!N.hasOwnProperty(A)||k&&k.hasOwnProperty(A)||(d||(d={}),d[A]="");for(A in k)k.hasOwnProperty(A)&&N[A]!==k[A]&&(d||(d={}),d[A]=k[A])}else d||(_||(_=[]),_.push(z,d)),d=k;else z==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,N=N?N.__html:void 0,k!=null&&N!==k&&(_=_||[]).push(z,k)):z==="children"?typeof k!="string"&&typeof k!="number"||(_=_||[]).push(z,""+k):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(k!=null&&z==="onScroll"&&tt("scroll",a),_||N===k||(_=[])):(_=_||[]).push(z,k))}d&&(_=_||[]).push("style",d);var z=_;(l.updateQueue=z)&&(l.flags|=4)}},QE=function(a,l,d,m){d!==m&&(l.flags|=4)};function Zu(a,l){if(!at)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Gt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function SF(a,l,d){var m=l.pendingProps;switch(wm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(l),null;case 1:return hr(l.type)&&uf(),Gt(l),null;case 3:return m=l.stateNode,us(),rt(dr),rt(Wt),Nm(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(hf(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Cn!==null&&(uv(Cn),Cn=null))),Qm(a,l),Gt(l),null;case 5:Om(l);var y=zo(Ku.current);if(d=l.type,a!==null&&l.stateNode!=null)JE(a,l,d,m,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Gt(l),null}if(a=zo(Zn.current),hf(l)){m=l.stateNode,d=l.type;var _=l.memoizedProps;switch(m[Xn]=l,m[Vu]=_,a=(l.mode&1)!==0,d){case"dialog":tt("cancel",m),tt("close",m);break;case"iframe":case"object":case"embed":tt("load",m);break;case"video":case"audio":for(y=0;y<Bu.length;y++)tt(Bu[y],m);break;case"source":tt("error",m);break;case"img":case"image":case"link":tt("error",m),tt("load",m);break;case"details":tt("toggle",m);break;case"input":O(m,_),tt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},tt("invalid",m);break;case"textarea":ke(m,_),tt("invalid",m)}Pp(d,_),y=null;for(var A in _)if(_.hasOwnProperty(A)){var N=_[A];A==="children"?typeof N=="string"?m.textContent!==N&&(_.suppressHydrationWarning!==!0&&of(m.textContent,N,a),y=["children",N]):typeof N=="number"&&m.textContent!==""+N&&(_.suppressHydrationWarning!==!0&&of(m.textContent,N,a),y=["children",""+N]):o.hasOwnProperty(A)&&N!=null&&A==="onScroll"&&tt("scroll",m)}switch(d){case"input":it(m),P(m,_,!0);break;case"textarea":it(m),ot(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=af)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Je(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=A.createElement(d,{is:m.is}):(a=A.createElement(d),d==="select"&&(A=a,m.multiple?A.multiple=!0:m.size&&(A.size=m.size))):a=A.createElementNS(a,d),a[Xn]=l,a[Vu]=m,YE(a,l,!1,!1),l.stateNode=a;e:{switch(A=Np(d,m),d){case"dialog":tt("cancel",a),tt("close",a),y=m;break;case"iframe":case"object":case"embed":tt("load",a),y=m;break;case"video":case"audio":for(y=0;y<Bu.length;y++)tt(Bu[y],a);y=m;break;case"source":tt("error",a),y=m;break;case"img":case"image":case"link":tt("error",a),tt("load",a),y=m;break;case"details":tt("toggle",a),y=m;break;case"input":O(a,m),y=_n(a,m),tt("invalid",a);break;case"option":y=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},y=J({},m,{value:void 0}),tt("invalid",a);break;case"textarea":ke(a,m),y=De(a,m),tt("invalid",a);break;default:y=m}Pp(d,y),N=y;for(_ in N)if(N.hasOwnProperty(_)){var k=N[_];_==="style"?Jn(a,k):_==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Ki(a,k)):_==="children"?typeof k=="string"?(d!=="textarea"||k!=="")&&Yi(a,k):typeof k=="number"&&Yi(a,""+k):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?k!=null&&_==="onScroll"&&tt("scroll",a):k!=null&&x(a,_,k,A))}switch(d){case"input":it(a),P(a,m,!1);break;case"textarea":it(a),ot(a);break;case"option":m.value!=null&&a.setAttribute("value",""+Ce(m.value));break;case"select":a.multiple=!!m.multiple,_=m.value,_!=null?ie(a,!!m.multiple,_,!1):m.defaultValue!=null&&ie(a,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=af)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Gt(l),null;case 6:if(a&&l.stateNode!=null)QE(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(d=zo(Ku.current),zo(Zn.current),hf(l)){if(m=l.stateNode,d=l.memoizedProps,m[Xn]=l,(_=m.nodeValue!==d)&&(a=kr,a!==null))switch(a.tag){case 3:of(m.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&of(m.nodeValue,d,(a.mode&1)!==0)}_&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Xn]=l,l.stateNode=m}return Gt(l),null;case 13:if(rt(lt),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(at&&Mr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)eE(),is(),l.flags|=98560,_=!1;else if(_=hf(l),m!==null&&m.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Xn]=l}else is(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gt(l),_=!1}else Cn!==null&&(uv(Cn),Cn=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(lt.current&1)!==0?xt===0&&(xt=3):fv())),l.updateQueue!==null&&(l.flags|=4),Gt(l),null);case 4:return us(),Qm(a,l),a===null&&$u(l.stateNode.containerInfo),Gt(l),null;case 10:return Cm(l.type._context),Gt(l),null;case 17:return hr(l.type)&&uf(),Gt(l),null;case 19:if(rt(lt),_=l.memoizedState,_===null)return Gt(l),null;if(m=(l.flags&128)!==0,A=_.rendering,A===null)if(m)Zu(_,!1);else{if(xt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=wf(a),A!==null){for(l.flags|=128,Zu(_,!1),m=A.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)_=d,a=m,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=a,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,a=A.dependencies,_.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return et(lt,lt.current&1|2),l.child}a=a.sibling}_.tail!==null&&vt()>ds&&(l.flags|=128,m=!0,Zu(_,!1),l.lanes=4194304)}else{if(!m)if(a=wf(A),a!==null){if(l.flags|=128,m=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Zu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!at)return Gt(l),null}else 2*vt()-_.renderingStartTime>ds&&d!==1073741824&&(l.flags|=128,m=!0,Zu(_,!1),l.lanes=4194304);_.isBackwards?(A.sibling=l.child,l.child=A):(d=_.last,d!==null?d.sibling=A:l.child=A,_.last=A)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=vt(),l.sibling=null,d=lt.current,et(lt,m?d&1|2:d&1),l):(Gt(l),null);case 22:case 23:return cv(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Fr&1073741824)!==0&&(Gt(l),l.subtreeFlags&6&&(l.flags|=8192)):Gt(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function EF(a,l){switch(wm(l),l.tag){case 1:return hr(l.type)&&uf(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return us(),rt(dr),rt(Wt),Nm(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Om(l),null;case 13:if(rt(lt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));is()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return rt(lt),null;case 4:return us(),null;case 10:return Cm(l.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var Af=!1,zt=!1,TF=typeof WeakSet=="function"?WeakSet:Set,ve=null;function cs(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){ht(a,l,m)}else d.current=null}function Xm(a,l,d){try{d()}catch(m){ht(a,l,m)}}var XE=!1;function CF(a,l){if(cm=zc,a=OS(),rm(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var A=0,N=-1,k=-1,z=0,ne=0,oe=a,re=null;t:for(;;){for(var he;oe!==d||y!==0&&oe.nodeType!==3||(N=A+y),oe!==_||m!==0&&oe.nodeType!==3||(k=A+m),oe.nodeType===3&&(A+=oe.nodeValue.length),(he=oe.firstChild)!==null;)re=oe,oe=he;for(;;){if(oe===a)break t;if(re===d&&++z===y&&(N=A),re===_&&++ne===m&&(k=A),(he=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=he}d=N===-1||k===-1?null:{start:N,end:k}}else d=null}d=d||{start:0,end:0}}else d=null;for(fm={focusedElem:a,selectionRange:d},zc=!1,ve=l;ve!==null;)if(l=ve,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,ve=a;else for(;ve!==null;){l=ve;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ge=ye.memoizedProps,yt=ye.memoizedState,W=l.stateNode,j=W.getSnapshotBeforeUpdate(l.elementType===l.type?ge:In(l.type,ge),yt);W.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var G=l.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){ht(l,l.return,le)}if(a=l.sibling,a!==null){a.return=l.return,ve=a;break}ve=l.return}return ye=XE,XE=!1,ye}function el(a,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&a)===a){var _=y.destroy;y.destroy=void 0,_!==void 0&&Xm(l,d,_)}y=y.next}while(y!==m)}}function Rf(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Zm(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function ZE(a){var l=a.alternate;l!==null&&(a.alternate=null,ZE(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Xn],delete l[Vu],delete l[mm],delete l[sF],delete l[uF])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function e2(a){return a.tag===5||a.tag===3||a.tag===4}function t2(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||e2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ev(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=af));else if(m!==4&&(a=a.child,a!==null))for(ev(a,l,d),a=a.sibling;a!==null;)ev(a,l,d),a=a.sibling}function tv(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(tv(a,l,d),a=a.sibling;a!==null;)tv(a,l,d),a=a.sibling}var Ut=null,xn=!1;function uo(a,l,d){for(d=d.child;d!==null;)r2(a,l,d),d=d.sibling}function r2(a,l,d){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount($c,d)}catch{}switch(d.tag){case 5:zt||cs(d,l);case 6:var m=Ut,y=xn;Ut=null,uo(a,l,d),Ut=m,xn=y,Ut!==null&&(xn?(a=Ut,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Ut.removeChild(d.stateNode));break;case 18:Ut!==null&&(xn?(a=Ut,d=d.stateNode,a.nodeType===8?pm(a.parentNode,d):a.nodeType===1&&pm(a,d),Nu(a)):pm(Ut,d.stateNode));break;case 4:m=Ut,y=xn,Ut=d.stateNode.containerInfo,xn=!0,uo(a,l,d),Ut=m,xn=y;break;case 0:case 11:case 14:case 15:if(!zt&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var _=y,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&Xm(d,l,A),y=y.next}while(y!==m)}uo(a,l,d);break;case 1:if(!zt&&(cs(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(N){ht(d,l,N)}uo(a,l,d);break;case 21:uo(a,l,d);break;case 22:d.mode&1?(zt=(m=zt)||d.memoizedState!==null,uo(a,l,d),zt=m):uo(a,l,d);break;default:uo(a,l,d)}}function n2(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new TF),l.forEach(function(m){var y=DF.bind(null,a,m);d.has(m)||(d.add(m),m.then(y,y))})}}function An(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];try{var _=a,A=l,N=A;e:for(;N!==null;){switch(N.tag){case 5:Ut=N.stateNode,xn=!1;break e;case 3:Ut=N.stateNode.containerInfo,xn=!0;break e;case 4:Ut=N.stateNode.containerInfo,xn=!0;break e}N=N.return}if(Ut===null)throw Error(r(160));r2(_,A,y),Ut=null,xn=!1;var k=y.alternate;k!==null&&(k.return=null),y.return=null}catch(z){ht(y,l,z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)i2(l,a),l=l.sibling}function i2(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(An(l,a),ti(a),m&4){try{el(3,a,a.return),Rf(3,a)}catch(ge){ht(a,a.return,ge)}try{el(5,a,a.return)}catch(ge){ht(a,a.return,ge)}}break;case 1:An(l,a),ti(a),m&512&&d!==null&&cs(d,d.return);break;case 5:if(An(l,a),ti(a),m&512&&d!==null&&cs(d,d.return),a.flags&32){var y=a.stateNode;try{Yi(y,"")}catch(ge){ht(a,a.return,ge)}}if(m&4&&(y=a.stateNode,y!=null)){var _=a.memoizedProps,A=d!==null?d.memoizedProps:_,N=a.type,k=a.updateQueue;if(a.updateQueue=null,k!==null)try{N==="input"&&_.type==="radio"&&_.name!=null&&S(y,_),Np(N,A);var z=Np(N,_);for(A=0;A<k.length;A+=2){var ne=k[A],oe=k[A+1];ne==="style"?Jn(y,oe):ne==="dangerouslySetInnerHTML"?Ki(y,oe):ne==="children"?Yi(y,oe):x(y,ne,oe,z)}switch(N){case"input":E(y,_);break;case"textarea":Ge(y,_);break;case"select":var re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var he=_.value;he!=null?ie(y,!!_.multiple,he,!1):re!==!!_.multiple&&(_.defaultValue!=null?ie(y,!!_.multiple,_.defaultValue,!0):ie(y,!!_.multiple,_.multiple?[]:"",!1))}y[Vu]=_}catch(ge){ht(a,a.return,ge)}}break;case 6:if(An(l,a),ti(a),m&4){if(a.stateNode===null)throw Error(r(162));y=a.stateNode,_=a.memoizedProps;try{y.nodeValue=_}catch(ge){ht(a,a.return,ge)}}break;case 3:if(An(l,a),ti(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Nu(l.containerInfo)}catch(ge){ht(a,a.return,ge)}break;case 4:An(l,a),ti(a);break;case 13:An(l,a),ti(a),y=a.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(iv=vt())),m&4&&n2(a);break;case 22:if(ne=d!==null&&d.memoizedState!==null,a.mode&1?(zt=(z=zt)||ne,An(l,a),zt=z):An(l,a),ti(a),m&8192){if(z=a.memoizedState!==null,(a.stateNode.isHidden=z)&&!ne&&(a.mode&1)!==0)for(ve=a,ne=a.child;ne!==null;){for(oe=ve=ne;ve!==null;){switch(re=ve,he=re.child,re.tag){case 0:case 11:case 14:case 15:el(4,re,re.return);break;case 1:cs(re,re.return);var ye=re.stateNode;if(typeof ye.componentWillUnmount=="function"){m=re,d=re.return;try{l=m,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(ge){ht(m,d,ge)}}break;case 5:cs(re,re.return);break;case 22:if(re.memoizedState!==null){s2(oe);continue}}he!==null?(he.return=re,ve=he):s2(oe)}ne=ne.sibling}e:for(ne=null,oe=a;;){if(oe.tag===5){if(ne===null){ne=oe;try{y=oe.stateNode,z?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(N=oe.stateNode,k=oe.memoizedProps.style,A=k!=null&&k.hasOwnProperty("display")?k.display:null,N.style.display=Sn("display",A))}catch(ge){ht(a,a.return,ge)}}}else if(oe.tag===6){if(ne===null)try{oe.stateNode.nodeValue=z?"":oe.memoizedProps}catch(ge){ht(a,a.return,ge)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ne===oe&&(ne=null),oe=oe.return}ne===oe&&(ne=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:An(l,a),ti(a),m&4&&n2(a);break;case 21:break;default:An(l,a),ti(a)}}function ti(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(e2(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Yi(y,""),m.flags&=-33);var _=t2(a);tv(a,_,y);break;case 3:case 4:var A=m.stateNode.containerInfo,N=t2(a);ev(a,N,A);break;default:throw Error(r(161))}}catch(k){ht(a,a.return,k)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function IF(a,l,d){ve=a,o2(a)}function o2(a,l,d){for(var m=(a.mode&1)!==0;ve!==null;){var y=ve,_=y.child;if(y.tag===22&&m){var A=y.memoizedState!==null||Af;if(!A){var N=y.alternate,k=N!==null&&N.memoizedState!==null||zt;N=Af;var z=zt;if(Af=A,(zt=k)&&!z)for(ve=y;ve!==null;)A=ve,k=A.child,A.tag===22&&A.memoizedState!==null?u2(y):k!==null?(k.return=A,ve=k):u2(y);for(;_!==null;)ve=_,o2(_),_=_.sibling;ve=y,Af=N,zt=z}a2(a)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,ve=_):a2(a)}}function a2(a){for(;ve!==null;){var l=ve;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:zt||Rf(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!zt)if(d===null)m.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:In(l.type,d.memoizedProps);m.componentDidUpdate(y,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&sE(l,_,m);break;case 3:var A=l.updateQueue;if(A!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}sE(l,A,d)}break;case 5:var N=l.stateNode;if(d===null&&l.flags&4){d=N;var k=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&d.focus();break;case"img":k.src&&(d.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var z=l.alternate;if(z!==null){var ne=z.memoizedState;if(ne!==null){var oe=ne.dehydrated;oe!==null&&Nu(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zt||l.flags&512&&Zm(l)}catch(re){ht(l,l.return,re)}}if(l===a){ve=null;break}if(d=l.sibling,d!==null){d.return=l.return,ve=d;break}ve=l.return}}function s2(a){for(;ve!==null;){var l=ve;if(l===a){ve=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ve=d;break}ve=l.return}}function u2(a){for(;ve!==null;){var l=ve;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Rf(4,l)}catch(k){ht(l,d,k)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(k){ht(l,y,k)}}var _=l.return;try{Zm(l)}catch(k){ht(l,_,k)}break;case 5:var A=l.return;try{Zm(l)}catch(k){ht(l,A,k)}}}catch(k){ht(l,l.return,k)}if(l===a){ve=null;break}var N=l.sibling;if(N!==null){N.return=l.return,ve=N;break}ve=l.return}}var xF=Math.ceil,Of=R.ReactCurrentDispatcher,rv=R.ReactCurrentOwner,Jr=R.ReactCurrentBatchConfig,He=0,Lt=null,wt=null,Bt=0,Fr=0,fs=no(0),xt=0,tl=null,Yo=0,Pf=0,nv=0,rl=null,mr=null,iv=0,ds=1/0,Oi=null,Nf=!1,ov=null,lo=null,Lf=!1,co=null,Df=0,nl=0,av=null,kf=-1,Mf=0;function tr(){return(He&6)!==0?vt():kf!==-1?kf:kf=vt()}function fo(a){return(a.mode&1)===0?1:(He&2)!==0&&Bt!==0?Bt&-Bt:cF.transition!==null?(Mf===0&&(Mf=tS()),Mf):(a=Ye,a!==0||(a=window.event,a=a===void 0?16:cS(a.type)),a)}function Rn(a,l,d,m){if(50<nl)throw nl=0,av=null,Error(r(185));xu(a,d,m),((He&2)===0||a!==Lt)&&(a===Lt&&((He&2)===0&&(Pf|=d),xt===4&&ho(a,Bt)),vr(a,m),d===1&&He===0&&(l.mode&1)===0&&(ds=vt()+500,cf&&oo()))}function vr(a,l){var d=a.callbackNode;cM(a,l);var m=Wc(a,a===Lt?Bt:0);if(m===0)d!==null&&X1(d),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(d!=null&&X1(d),l===1)a.tag===0?lF(c2.bind(null,a)):YS(c2.bind(null,a)),oF(function(){(He&6)===0&&oo()}),d=null;else{switch(rS(m)){case 1:d=Up;break;case 4:d=Z1;break;case 16:d=Bc;break;case 536870912:d=eS;break;default:d=Bc}d=g2(d,l2.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function l2(a,l){if(kf=-1,Mf=0,(He&6)!==0)throw Error(r(327));var d=a.callbackNode;if(hs()&&a.callbackNode!==d)return null;var m=Wc(a,a===Lt?Bt:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||l)l=Ff(a,m);else{l=m;var y=He;He|=2;var _=d2();(Lt!==a||Bt!==l)&&(Oi=null,ds=vt()+500,Qo(a,l));do try{OF();break}catch(N){f2(a,N)}while(!0);Tm(),Of.current=_,He=y,wt!==null?l=0:(Lt=null,Bt=0,l=xt)}if(l!==0){if(l===2&&(y=Bp(a),y!==0&&(m=y,l=sv(a,y))),l===1)throw d=tl,Qo(a,0),ho(a,m),vr(a,vt()),d;if(l===6)ho(a,m);else{if(y=a.current.alternate,(m&30)===0&&!AF(y)&&(l=Ff(a,m),l===2&&(_=Bp(a),_!==0&&(m=_,l=sv(a,_))),l===1))throw d=tl,Qo(a,0),ho(a,m),vr(a,vt()),d;switch(a.finishedWork=y,a.finishedLanes=m,l){case 0:case 1:throw Error(r(345));case 2:Xo(a,mr,Oi);break;case 3:if(ho(a,m),(m&130023424)===m&&(l=iv+500-vt(),10<l)){if(Wc(a,0)!==0)break;if(y=a.suspendedLanes,(y&m)!==m){tr(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=hm(Xo.bind(null,a,mr,Oi),l);break}Xo(a,mr,Oi);break;case 4:if(ho(a,m),(m&4194240)===m)break;for(l=a.eventTimes,y=-1;0<m;){var A=31-En(m);_=1<<A,A=l[A],A>y&&(y=A),m&=~_}if(m=y,m=vt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*xF(m/1960))-m,10<m){a.timeoutHandle=hm(Xo.bind(null,a,mr,Oi),m);break}Xo(a,mr,Oi);break;case 5:Xo(a,mr,Oi);break;default:throw Error(r(329))}}}return vr(a,vt()),a.callbackNode===d?l2.bind(null,a):null}function sv(a,l){var d=rl;return a.current.memoizedState.isDehydrated&&(Qo(a,l).flags|=256),a=Ff(a,l),a!==2&&(l=mr,mr=d,l!==null&&uv(l)),a}function uv(a){mr===null?mr=a:mr.push.apply(mr,a)}function AF(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var y=d[m],_=y.getSnapshot;y=y.value;try{if(!Tn(_(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ho(a,l){for(l&=~nv,l&=~Pf,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-En(l),m=1<<d;a[d]=-1,l&=~m}}function c2(a){if((He&6)!==0)throw Error(r(327));hs();var l=Wc(a,0);if((l&1)===0)return vr(a,vt()),null;var d=Ff(a,l);if(a.tag!==0&&d===2){var m=Bp(a);m!==0&&(l=m,d=sv(a,m))}if(d===1)throw d=tl,Qo(a,0),ho(a,l),vr(a,vt()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Xo(a,mr,Oi),vr(a,vt()),null}function lv(a,l){var d=He;He|=1;try{return a(l)}finally{He=d,He===0&&(ds=vt()+500,cf&&oo())}}function Jo(a){co!==null&&co.tag===0&&(He&6)===0&&hs();var l=He;He|=1;var d=Jr.transition,m=Ye;try{if(Jr.transition=null,Ye=1,a)return a()}finally{Ye=m,Jr.transition=d,He=l,(He&6)===0&&oo()}}function cv(){Fr=fs.current,rt(fs)}function Qo(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,iF(d)),wt!==null)for(d=wt.return;d!==null;){var m=d;switch(wm(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&uf();break;case 3:us(),rt(dr),rt(Wt),Nm();break;case 5:Om(m);break;case 4:us();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Cm(m.type._context);break;case 22:case 23:cv()}d=d.return}if(Lt=a,wt=a=po(a.current,null),Bt=Fr=l,xt=0,tl=null,nv=Pf=Yo=0,mr=rl=null,Go!==null){for(l=0;l<Go.length;l++)if(d=Go[l],m=d.interleaved,m!==null){d.interleaved=null;var y=m.next,_=d.pending;if(_!==null){var A=_.next;_.next=y,m.next=A}d.pending=m}Go=null}return a}function f2(a,l){do{var d=wt;try{if(Tm(),_f.current=Tf,bf){for(var m=ct.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}bf=!1}if(Ko=0,Nt=It=ct=null,Yu=!1,Ju=0,rv.current=null,d===null||d.return===null){xt=1,tl=l,wt=null;break}e:{var _=a,A=d.return,N=d,k=l;if(l=Bt,N.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var z=k,ne=N,oe=ne.tag;if((ne.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=ME(A);if(he!==null){he.flags&=-257,FE(he,A,N,_,l),he.mode&1&&kE(_,z,l),l=he,k=z;var ye=l.updateQueue;if(ye===null){var ge=new Set;ge.add(k),l.updateQueue=ge}else ye.add(k);break e}else{if((l&1)===0){kE(_,z,l),fv();break e}k=Error(r(426))}}else if(at&&N.mode&1){var yt=ME(A);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),FE(yt,A,N,_,l),Sm(ls(k,N));break e}}_=k=ls(k,N),xt!==4&&(xt=2),rl===null?rl=[_]:rl.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var W=LE(_,k,l);aE(_,W);break e;case 1:N=k;var j=_.type,G=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(lo===null||!lo.has(G)))){_.flags|=65536,l&=-l,_.lanes|=l;var le=DE(_,N,l);aE(_,le);break e}}_=_.return}while(_!==null)}p2(d)}catch(we){l=we,wt===d&&d!==null&&(wt=d=d.return);continue}break}while(!0)}function d2(){var a=Of.current;return Of.current=Tf,a===null?Tf:a}function fv(){(xt===0||xt===3||xt===2)&&(xt=4),Lt===null||(Yo&268435455)===0&&(Pf&268435455)===0||ho(Lt,Bt)}function Ff(a,l){var d=He;He|=2;var m=d2();(Lt!==a||Bt!==l)&&(Oi=null,Qo(a,l));do try{RF();break}catch(y){f2(a,y)}while(!0);if(Tm(),He=d,Of.current=m,wt!==null)throw Error(r(261));return Lt=null,Bt=0,xt}function RF(){for(;wt!==null;)h2(wt)}function OF(){for(;wt!==null&&!tM();)h2(wt)}function h2(a){var l=y2(a.alternate,a,Fr);a.memoizedProps=a.pendingProps,l===null?p2(a):wt=l,rv.current=null}function p2(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=SF(d,l,Fr),d!==null){wt=d;return}}else{if(d=EF(d,l),d!==null){d.flags&=32767,wt=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{xt=6,wt=null;return}}if(l=l.sibling,l!==null){wt=l;return}wt=l=a}while(l!==null);xt===0&&(xt=5)}function Xo(a,l,d){var m=Ye,y=Jr.transition;try{Jr.transition=null,Ye=1,PF(a,l,d,m)}finally{Jr.transition=y,Ye=m}return null}function PF(a,l,d,m){do hs();while(co!==null);if((He&6)!==0)throw Error(r(327));d=a.finishedWork;var y=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var _=d.lanes|d.childLanes;if(fM(a,_),a===Lt&&(wt=Lt=null,Bt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Lf||(Lf=!0,g2(Bc,function(){return hs(),null})),_=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||_){_=Jr.transition,Jr.transition=null;var A=Ye;Ye=1;var N=He;He|=4,rv.current=null,CF(a,d),i2(d,a),QM(fm),zc=!!cm,fm=cm=null,a.current=d,IF(d),rM(),He=N,Ye=A,Jr.transition=_}else a.current=d;if(Lf&&(Lf=!1,co=a,Df=y),_=a.pendingLanes,_===0&&(lo=null),oM(d.stateNode),vr(a,vt()),l!==null)for(m=a.onRecoverableError,d=0;d<l.length;d++)y=l[d],m(y.value,{componentStack:y.stack,digest:y.digest});if(Nf)throw Nf=!1,a=ov,ov=null,a;return(Df&1)!==0&&a.tag!==0&&hs(),_=a.pendingLanes,(_&1)!==0?a===av?nl++:(nl=0,av=a):nl=0,oo(),null}function hs(){if(co!==null){var a=rS(Df),l=Jr.transition,d=Ye;try{if(Jr.transition=null,Ye=16>a?16:a,co===null)var m=!1;else{if(a=co,co=null,Df=0,(He&6)!==0)throw Error(r(331));var y=He;for(He|=4,ve=a.current;ve!==null;){var _=ve,A=_.child;if((ve.flags&16)!==0){var N=_.deletions;if(N!==null){for(var k=0;k<N.length;k++){var z=N[k];for(ve=z;ve!==null;){var ne=ve;switch(ne.tag){case 0:case 11:case 15:el(8,ne,_)}var oe=ne.child;if(oe!==null)oe.return=ne,ve=oe;else for(;ve!==null;){ne=ve;var re=ne.sibling,he=ne.return;if(ZE(ne),ne===z){ve=null;break}if(re!==null){re.return=he,ve=re;break}ve=he}}}var ye=_.alternate;if(ye!==null){var ge=ye.child;if(ge!==null){ye.child=null;do{var yt=ge.sibling;ge.sibling=null,ge=yt}while(ge!==null)}}ve=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,ve=A;else e:for(;ve!==null;){if(_=ve,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:el(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,ve=W;break e}ve=_.return}}var j=a.current;for(ve=j;ve!==null;){A=ve;var G=A.child;if((A.subtreeFlags&2064)!==0&&G!==null)G.return=A,ve=G;else e:for(A=j;ve!==null;){if(N=ve,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Rf(9,N)}}catch(we){ht(N,N.return,we)}if(N===A){ve=null;break e}var le=N.sibling;if(le!==null){le.return=N.return,ve=le;break e}ve=N.return}}if(He=y,oo(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot($c,a)}catch{}m=!0}return m}finally{Ye=d,Jr.transition=l}}return!1}function m2(a,l,d){l=ls(d,l),l=LE(a,l,1),a=so(a,l,1),l=tr(),a!==null&&(xu(a,1,l),vr(a,l))}function ht(a,l,d){if(a.tag===3)m2(a,a,d);else for(;l!==null;){if(l.tag===3){m2(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(lo===null||!lo.has(m))){a=ls(d,a),a=DE(l,a,1),l=so(l,a,1),a=tr(),l!==null&&(xu(l,1,a),vr(l,a));break}}l=l.return}}function NF(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),l=tr(),a.pingedLanes|=a.suspendedLanes&d,Lt===a&&(Bt&d)===d&&(xt===4||xt===3&&(Bt&130023424)===Bt&&500>vt()-iv?Qo(a,0):nv|=d),vr(a,l)}function v2(a,l){l===0&&((a.mode&1)===0?l=1:(l=Vc,Vc<<=1,(Vc&130023424)===0&&(Vc=4194304)));var d=tr();a=xi(a,l),a!==null&&(xu(a,l,d),vr(a,d))}function LF(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),v2(a,d)}function DF(a,l){var d=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(l),v2(a,d)}var y2;y2=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||dr.current)pr=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return pr=!1,bF(a,l,d);pr=(a.flags&131072)!==0}else pr=!1,at&&(l.flags&1048576)!==0&&JS(l,df,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;xf(a,l),a=l.pendingProps;var y=ts(l,Wt.current);ss(l,d),y=km(null,l,m,a,y,d);var _=Mm();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,hr(m)?(_=!0,lf(l)):_=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Am(l),y.updater=Cf,l.stateNode=y,y._reactInternals=l,qm(l,m,a,d),l=Gm(null,l,m,!0,_,d)):(l.tag=0,at&&_&&gm(l),er(null,l,y,d),l=l.child),l;case 16:m=l.elementType;e:{switch(xf(a,l),a=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=MF(m),a=In(m,a),y){case 0:l=Hm(null,l,m,a,d);break e;case 1:l=VE(null,l,m,a,d);break e;case 11:l=jE(null,l,m,a,d);break e;case 14:l=UE(null,l,m,In(m.type,a),d);break e}throw Error(r(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:In(m,y),Hm(a,l,m,y,d);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:In(m,y),VE(a,l,m,y,d);case 3:e:{if(WE(l),a===null)throw Error(r(387));m=l.pendingProps,_=l.memoizedState,y=_.element,oE(a,l),gf(l,m,null,d);var A=l.memoizedState;if(m=A.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){y=ls(Error(r(423)),l),l=HE(a,l,m,d,y);break e}else if(m!==y){y=ls(Error(r(424)),l),l=HE(a,l,m,d,y);break e}else for(Mr=ro(l.stateNode.containerInfo.firstChild),kr=l,at=!0,Cn=null,d=nE(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(is(),m===y){l=Ri(a,l,d);break e}er(a,l,m,d)}l=l.child}return l;case 5:return uE(l),a===null&&bm(l),m=l.type,y=l.pendingProps,_=a!==null?a.memoizedProps:null,A=y.children,dm(m,y)?A=null:_!==null&&dm(m,_)&&(l.flags|=32),qE(a,l),er(a,l,A,d),l.child;case 6:return a===null&&bm(l),null;case 13:return GE(a,l,d);case 4:return Rm(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=os(l,null,m,d):er(a,l,m,d),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:In(m,y),jE(a,l,m,y,d);case 7:return er(a,l,l.pendingProps,d),l.child;case 8:return er(a,l,l.pendingProps.children,d),l.child;case 12:return er(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,_=l.memoizedProps,A=y.value,et(mf,m._currentValue),m._currentValue=A,_!==null)if(Tn(_.value,A)){if(_.children===y.children&&!dr.current){l=Ri(a,l,d);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var N=_.dependencies;if(N!==null){A=_.child;for(var k=N.firstContext;k!==null;){if(k.context===m){if(_.tag===1){k=Ai(-1,d&-d),k.tag=2;var z=_.updateQueue;if(z!==null){z=z.shared;var ne=z.pending;ne===null?k.next=k:(k.next=ne.next,ne.next=k),z.pending=k}}_.lanes|=d,k=_.alternate,k!==null&&(k.lanes|=d),Im(_.return,d,l),N.lanes|=d;break}k=k.next}}else if(_.tag===10)A=_.type===l.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(r(341));A.lanes|=d,N=A.alternate,N!==null&&(N.lanes|=d),Im(A,d,l),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===l){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}er(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,ss(l,d),y=Kr(y),m=m(y),l.flags|=1,er(a,l,m,d),l.child;case 14:return m=l.type,y=In(m,l.pendingProps),y=In(m.type,y),UE(a,l,m,y,d);case 15:return BE(a,l,l.type,l.pendingProps,d);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:In(m,y),xf(a,l),l.tag=1,hr(m)?(a=!0,lf(l)):a=!1,ss(l,d),PE(l,m,y),qm(l,m,y,d),Gm(null,l,m,!0,a,d);case 19:return KE(a,l,d);case 22:return $E(a,l,d)}throw Error(r(156,l.tag))};function g2(a,l){return Q1(a,l)}function kF(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(a,l,d,m){return new kF(a,l,d,m)}function dv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function MF(a){if(typeof a=="function")return dv(a)?1:0;if(a!=null){if(a=a.$$typeof,a===K)return 11;if(a===fe)return 14}return 2}function po(a,l){var d=a.alternate;return d===null?(d=Qr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function jf(a,l,d,m,y,_){var A=2;if(m=a,typeof a=="function")dv(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case H:return Zo(d.children,y,_,l);case V:A=8,y|=8;break;case D:return a=Qr(12,d,l,y|2),a.elementType=D,a.lanes=_,a;case Q:return a=Qr(13,d,l,y),a.elementType=Q,a.lanes=_,a;case ee:return a=Qr(19,d,l,y),a.elementType=ee,a.lanes=_,a;case ue:return Uf(d,y,_,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:A=10;break e;case U:A=9;break e;case K:A=11;break e;case fe:A=14;break e;case be:A=16,m=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return l=Qr(A,d,l,y),l.elementType=a,l.type=m,l.lanes=_,l}function Zo(a,l,d,m){return a=Qr(7,a,m,l),a.lanes=d,a}function Uf(a,l,d,m){return a=Qr(22,a,m,l),a.elementType=ue,a.lanes=d,a.stateNode={isHidden:!1},a}function hv(a,l,d){return a=Qr(6,a,null,l),a.lanes=d,a}function pv(a,l,d){return l=Qr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function FF(a,l,d,m,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$p(0),this.expirationTimes=$p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function mv(a,l,d,m,y,_,A,N,k){return a=new FF(a,l,d,N,k),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Qr(3,null,null,l),a.current=_,_.stateNode=a,_.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Am(_),a}function jF(a,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:m==null?null:""+m,children:a,containerInfo:l,implementation:d}}function w2(a){if(!a)return io;a=a._reactInternals;e:{if($o(a)!==a||a.tag!==1)throw Error(r(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(hr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(hr(d))return zS(a,d,l)}return l}function _2(a,l,d,m,y,_,A,N,k){return a=mv(d,m,!0,a,y,_,A,N,k),a.context=w2(null),d=a.current,m=tr(),y=fo(d),_=Ai(m,y),_.callback=l??null,so(d,_,y),a.current.lanes=y,xu(a,y,m),vr(a,m),a}function Bf(a,l,d,m){var y=l.current,_=tr(),A=fo(y);return d=w2(d),l.context===null?l.context=d:l.pendingContext=d,l=Ai(_,A),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=so(y,l,A),a!==null&&(Rn(a,y,A,_),yf(a,y,A)),A}function $f(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function b2(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function vv(a,l){b2(a,l),(a=a.alternate)&&b2(a,l)}function UF(){return null}var S2=typeof reportError=="function"?reportError:function(a){console.error(a)};function yv(a){this._internalRoot=a}qf.prototype.render=yv.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));Bf(a,l,null,null)},qf.prototype.unmount=yv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Jo(function(){Bf(null,a,null,null)}),l[Ei]=null}};function qf(a){this._internalRoot=a}qf.prototype.unstable_scheduleHydration=function(a){if(a){var l=oS();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Zi.length&&l!==0&&l<Zi[d].priority;d++);Zi.splice(d,0,a),d===0&&uS(a)}};function gv(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Vf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function E2(){}function BF(a,l,d,m,y){if(y){if(typeof m=="function"){var _=m;m=function(){var z=$f(A);_.call(z)}}var A=_2(l,m,a,0,null,!1,!1,"",E2);return a._reactRootContainer=A,a[Ei]=A.current,$u(a.nodeType===8?a.parentNode:a),Jo(),A}for(;y=a.lastChild;)a.removeChild(y);if(typeof m=="function"){var N=m;m=function(){var z=$f(k);N.call(z)}}var k=mv(a,0,!1,null,null,!1,!1,"",E2);return a._reactRootContainer=k,a[Ei]=k.current,$u(a.nodeType===8?a.parentNode:a),Jo(function(){Bf(l,k,d,m)}),k}function Wf(a,l,d,m,y){var _=d._reactRootContainer;if(_){var A=_;if(typeof y=="function"){var N=y;y=function(){var k=$f(A);N.call(k)}}Bf(l,A,a,y)}else A=BF(d,l,a,y,m);return $f(A)}nS=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Iu(l.pendingLanes);d!==0&&(qp(l,d|1),vr(l,vt()),(He&6)===0&&(ds=vt()+500,oo()))}break;case 13:Jo(function(){var m=xi(a,1);if(m!==null){var y=tr();Rn(m,a,1,y)}}),vv(a,1)}},Vp=function(a){if(a.tag===13){var l=xi(a,134217728);if(l!==null){var d=tr();Rn(l,a,134217728,d)}vv(a,134217728)}},iS=function(a){if(a.tag===13){var l=fo(a),d=xi(a,l);if(d!==null){var m=tr();Rn(d,a,l,m)}vv(a,l)}},oS=function(){return Ye},aS=function(a,l){var d=Ye;try{return Ye=a,l()}finally{Ye=d}},kp=function(a,l,d){switch(l){case"input":if(E(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var y=sf(m);if(!y)throw Error(r(90));Ct(m),E(m,y)}}}break;case"textarea":Ge(a,d);break;case"select":l=d.value,l!=null&&ie(a,!!d.multiple,l,!1)}},W1=lv,H1=Jo;var $F={usingClientEntryPoint:!1,Events:[Wu,Za,sf,q1,V1,lv]},il={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qF={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Y1(a),a===null?null:a.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||UF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{$c=Hf.inject(qF),Qn=Hf}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$F,yr.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gv(l))throw Error(r(200));return jF(a,l,null,d)},yr.createRoot=function(a,l){if(!gv(a))throw Error(r(299));var d=!1,m="",y=S2;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=mv(a,1,!1,null,null,d,!1,m,y),a[Ei]=l.current,$u(a.nodeType===8?a.parentNode:a),new yv(l)},yr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=Y1(l),a=a===null?null:a.stateNode,a},yr.flushSync=function(a){return Jo(a)},yr.hydrate=function(a,l,d){if(!Vf(l))throw Error(r(200));return Wf(null,a,l,!0,d)},yr.hydrateRoot=function(a,l,d){if(!gv(a))throw Error(r(405));var m=d!=null&&d.hydratedSources||null,y=!1,_="",A=S2;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(A=d.onRecoverableError)),l=_2(l,null,a,1,d??null,y,!1,_,A),a[Ei]=l.current,$u(a),m)for(a=0;a<m.length;a++)d=m[a],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new qf(l)},yr.render=function(a,l,d){if(!Vf(l))throw Error(r(200));return Wf(null,a,l,!1,d)},yr.unmountComponentAtNode=function(a){if(!Vf(a))throw Error(r(40));return a._reactRootContainer?(Jo(function(){Wf(null,null,a,!1,function(){a._reactRootContainer=null,a[Ei]=null})}),!0):!1},yr.unstable_batchedUpdates=lv,yr.unstable_renderSubtreeIntoContainer=function(a,l,d,m){if(!Vf(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Wf(a,l,d,!1,m)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var P2;function QF(){if(P2)return bv.exports;P2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bv.exports=JF(),bv.exports}var N2;function XF(){if(N2)return zf;N2=1;var e=QF();return zf.createRoot=e.createRoot,zf.hydrateRoot=e.hydrateRoot,zf}var ZF=XF();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L2="popstate";function ej(e={}){function t(n,o){let{pathname:i,search:s,hash:c}=n.location;return Iw("",{pathname:i,search:s,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(n,o){return typeof o=="string"?o:Ql(o)}return rj(t,r,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tj(){return Math.random().toString(36).substring(2,10)}function D2(e,t){return{usr:e.state,key:e.key,idx:t}}function Iw(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?lu(t):t,state:r,key:t&&t.key||n||tj()}}function Ql({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function rj(e,t,r,n={}){let{window:o=document.defaultView,v5Compat:i=!1}=n,s=o.history,c="POP",h=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function p(){c="POP";let T=f(),C=T==null?null:T-u;u=T,h&&h({action:c,location:b.location,delta:C})}function v(T,C){c="PUSH";let I=Iw(b.location,T,C);u=f()+1;let x=D2(I,u),R=b.createHref(I);try{s.pushState(x,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(R)}i&&h&&h({action:c,location:b.location,delta:1})}function g(T,C){c="REPLACE";let I=Iw(b.location,T,C);u=f();let x=D2(I,u),R=b.createHref(I);s.replaceState(x,"",R),i&&h&&h({action:c,location:b.location,delta:0})}function w(T){return nj(T)}let b={get action(){return c},get location(){return e(o,s)},listen(T){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(L2,p),h=T,()=>{o.removeEventListener(L2,p),h=null}},createHref(T){return t(o,T)},createURL:w,encodeLocation(T){let C=w(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:g,go(T){return s.go(T)}};return b}function nj(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),dt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ql(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function dP(e,t,r="/"){return ij(e,t,r,!1)}function ij(e,t,r,n){let o=typeof t=="string"?lu(t):t,i=Vi(o.pathname||"/",r);if(i==null)return null;let s=hP(e);oj(s);let c=null;for(let h=0;c==null&&h<s.length;++h){let u=vj(i);c=pj(s[h],u,n)}return c}function hP(e,t=[],r=[],n="",o=!1){let i=(s,c,h=o,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&h)return;dt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Bi([n,f.relativePath]),v=r.concat(f);s.children&&s.children.length>0&&(dt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),hP(s.children,t,v,p,h)),!(s.path==null&&!s.index)&&t.push({path:p,score:dj(p,s.index),routesMeta:v})};return e.forEach((s,c)=>{var h;if(s.path===""||!((h=s.path)!=null&&h.includes("?")))i(s,c);else for(let u of pP(s.path))i(s,c,!0,u)}),t}function pP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return o?[i,""]:[i];let s=pP(n.join("/")),c=[];return c.push(...s.map(h=>h===""?i:[i,h].join("/"))),o&&c.push(...s),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function oj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:hj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var aj=/^:[\w-]+$/,sj=3,uj=2,lj=1,cj=10,fj=-2,k2=e=>e==="*";function dj(e,t){let r=e.split("/"),n=r.length;return r.some(k2)&&(n+=fj),t&&(n+=uj),r.filter(o=>!k2(o)).reduce((o,i)=>o+(aj.test(i)?sj:i===""?lj:cj),n)}function hj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function pj(e,t,r=!1){let{routesMeta:n}=e,o={},i="/",s=[];for(let c=0;c<n.length;++c){let h=n[c],u=c===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=th({path:h.relativePath,caseSensitive:h.caseSensitive,end:u},f),v=h.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=th({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},f)),!p)return null;Object.assign(o,p.params),s.push({params:o,pathname:Bi([i,p.pathname]),pathnameBase:bj(Bi([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=Bi([i,p.pathnameBase]))}return s}function th(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mj(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:p},v)=>{if(f==="*"){let w=c[v]||"";s=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=c[v];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function mj(e,t=!1,r=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function vj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var yj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gj=e=>yj.test(e);function wj(e,t="/"){let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?lu(e):e,i;if(r)if(gj(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=M2(r.substring(1),"/"):i=M2(r,t)}else i=t;return{pathname:i,search:Sj(n),hash:Ej(o)}}function M2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Tv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _j(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mP(e){let t=_j(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function vP(e,t,r,n=!1){let o;typeof e=="string"?o=lu(e):(o={...e},dt(!o.pathname||!o.pathname.includes("?"),Tv("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Tv("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Tv("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,c;if(s==null)c=r;else{let p=t.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;o.pathname=v.join("/")}c=p>=0?t[p]:"/"}let h=wj(o,c),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(u||f)&&(h.pathname+="/"),h}var Bi=e=>e.join("/").replace(/\/\/+/g,"/"),bj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ej=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Cj(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yP=["POST","PUT","PATCH","DELETE"];new Set(yP);var Ij=["GET",...yP];new Set(Ij);var cu=$.createContext(null);cu.displayName="DataRouter";var Gh=$.createContext(null);Gh.displayName="DataRouterState";$.createContext(!1);var gP=$.createContext({isTransitioning:!1});gP.displayName="ViewTransition";var xj=$.createContext(new Map);xj.displayName="Fetchers";var Aj=$.createContext(null);Aj.displayName="Await";var zn=$.createContext(null);zn.displayName="Navigation";var wc=$.createContext(null);wc.displayName="Location";var wi=$.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var V_=$.createContext(null);V_.displayName="RouteError";function Rj(e,{relative:t}={}){dt(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=$.useContext(zn),{hash:o,pathname:i,search:s}=bc(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:Bi([r,i])),n.createHref({pathname:c,search:s,hash:o})}function _c(){return $.useContext(wc)!=null}function Fa(){return dt(_c(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(wc).location}var wP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _P(e){$.useContext(zn).static||$.useLayoutEffect(e)}function bP(){let{isDataRoute:e}=$.useContext(wi);return e?Vj():Oj()}function Oj(){dt(_c(),"useNavigate() may be used only in the context of a <Router> component.");let e=$.useContext(cu),{basename:t,navigator:r}=$.useContext(zn),{matches:n}=$.useContext(wi),{pathname:o}=Fa(),i=JSON.stringify(mP(n)),s=$.useRef(!1);return _P(()=>{s.current=!0}),$.useCallback((h,u={})=>{if(Hn(s.current,wP),!s.current)return;if(typeof h=="number"){r.go(h);return}let f=vP(h,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Bi([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,i,o,e])}$.createContext(null);function Pj(){let{matches:e}=$.useContext(wi),t=e[e.length-1];return t?t.params:{}}function bc(e,{relative:t}={}){let{matches:r}=$.useContext(wi),{pathname:n}=Fa(),o=JSON.stringify(mP(r));return $.useMemo(()=>vP(e,JSON.parse(o),n,t==="path"),[e,o,n,t])}function Nj(e,t){return SP(e,t)}function SP(e,t,r,n,o){var I;dt(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(zn),{matches:s}=$.useContext(wi),c=s[s.length-1],h=c?c.params:{},u=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let x=p&&p.path||"";EP(u,!p||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let v=Fa(),g;if(t){let x=typeof t=="string"?lu(t):t;dt(f==="/"||((I=x.pathname)==null?void 0:I.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=v;let w=g.pathname||"/",b=w;if(f!=="/"){let x=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=dP(e,{pathname:b});Hn(p||T!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Hn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Fj(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},h,x.params),pathname:Bi([f,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?f:Bi([f,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),s,r,n,o);return t&&C?$.createElement(wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function Lj(){let e=qj(),t=Tj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:i},"ErrorBoundary")," or"," ",$.createElement("code",{style:i},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),r?$.createElement("pre",{style:o},r):null,s)}var Dj=$.createElement(Lj,null),kj=class extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?$.createElement(wi.Provider,{value:this.props.routeContext},$.createElement(V_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mj({routeContext:e,match:t,children:r}){let n=$.useContext(cu);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(wi.Provider,{value:e},r)}function Fj(e,t=[],r=null,n=null,o=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let f=i.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,h=-1;if(r)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:g}=r,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||w){c=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}let u=r&&n?(f,p)=>{var v,g;n(f,{location:r.location,params:((g=(v=r.matches)==null?void 0:v[0])==null?void 0:g.params)??{},unstable_pattern:Cj(r.matches),errorInfo:p})}:void 0;return i.reduceRight((f,p,v)=>{let g,w=!1,b=null,T=null;r&&(g=s&&p.route.id?s[p.route.id]:void 0,b=p.route.errorElement||Dj,c&&(h<0&&v===0?(EP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):h===v&&(w=!0,T=p.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,v+1)),I=()=>{let x;return g?x=b:w?x=T:p.route.Component?x=$.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=f,$.createElement(Mj,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:r!=null},children:x})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?$.createElement(kj,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:u}):I()},null)}function W_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jj(e){let t=$.useContext(cu);return dt(t,W_(e)),t}function Uj(e){let t=$.useContext(Gh);return dt(t,W_(e)),t}function Bj(e){let t=$.useContext(wi);return dt(t,W_(e)),t}function H_(e){let t=Bj(e),r=t.matches[t.matches.length-1];return dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $j(){return H_("useRouteId")}function qj(){var n;let e=$.useContext(V_),t=Uj("useRouteError"),r=H_("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Vj(){let{router:e}=jj("useNavigate"),t=H_("useNavigate"),r=$.useRef(!1);return _P(()=>{r.current=!0}),$.useCallback(async(o,i={})=>{Hn(r.current,wP),r.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var F2={};function EP(e,t,r){!t&&!F2[e]&&(F2[e]=!0,Hn(!1,r))}$.memo(Wj);function Wj({routes:e,future:t,state:r,unstable_onError:n}){return SP(e,void 0,r,n,t)}function xw(e){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hj({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:o,static:i=!1,unstable_useTransitions:s}){dt(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:c,navigator:o,static:i,unstable_useTransitions:s,future:{}}),[c,o,i,s]);typeof r=="string"&&(r=lu(r));let{pathname:u="/",search:f="",hash:p="",state:v=null,key:g="default"}=r,w=$.useMemo(()=>{let b=Vi(u,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:v,key:g},navigationType:n}},[c,u,f,p,v,g,n]);return Hn(w!=null,`<Router basename="${c}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:$.createElement(zn.Provider,{value:h},$.createElement(wc.Provider,{children:t,value:w}))}function Gj({children:e,location:t}){return Nj(Aw(e),t)}function Aw(e,t=[]){let r=[];return $.Children.forEach(e,(n,o)=>{if(!$.isValidElement(n))return;let i=[...t,o];if(n.type===$.Fragment){r.push.apply(r,Aw(n.props.children,i));return}dt(n.type===xw,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Aw(n.props.children,i)),r.push(s)}),r}var Rd="get",Od="application/x-www-form-urlencoded";function zh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function zj(e){return zh(e)&&e.tagName.toLowerCase()==="button"}function Kj(e){return zh(e)&&e.tagName.toLowerCase()==="form"}function Yj(e){return zh(e)&&e.tagName.toLowerCase()==="input"}function Jj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qj(e,t){return e.button===0&&(!t||t==="_self")&&!Jj(e)}var Kf=null;function Xj(){if(Kf===null)try{new FormData(document.createElement("form"),0),Kf=!1}catch{Kf=!0}return Kf}var Zj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cv(e){return e!=null&&!Zj.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):e}function eU(e,t){let r,n,o,i,s;if(Kj(e)){let c=e.getAttribute("action");n=c?Vi(c,t):null,r=e.getAttribute("method")||Rd,o=Cv(e.getAttribute("enctype"))||Od,i=new FormData(e)}else if(zj(e)||Yj(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(n=h?Vi(h,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||Rd,o=Cv(e.getAttribute("formenctype"))||Cv(c.getAttribute("enctype"))||Od,i=new FormData(c,e),!Xj()){let{name:u,type:f,value:p}=e;if(f==="image"){let v=u?`${u}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else u&&i.append(u,p)}}else{if(zh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Rd,n=null,o=Od,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function G_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tU(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Vi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function rU(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iU(e,t,r){let n=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let s=await rU(i,r);return s.links?s.links():[]}return[]}));return uU(n.flat(1).filter(nU).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function j2(e,t,r,n,o,i){let s=(h,u)=>r[u]?h.route.id!==r[u].route.id:!0,c=(h,u)=>{var f;return r[u].pathname!==h.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==h.params["*"]};return i==="assets"?t.filter((h,u)=>s(h,u)||c(h,u)):i==="data"?t.filter((h,u)=>{var p;let f=n.routes[h.route.id];if(!f||!f.hasLoader)return!1;if(s(h,u)||c(h,u))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function oU(e,t,{includeHydrateFallback:r}={}){return aU(e.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function aU(e){return[...new Set(e)]}function sU(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function uU(e,t){let r=new Set;return new Set(t),e.reduce((n,o)=>{let i=JSON.stringify(sU(o));return r.has(i)||(r.add(i),n.push({key:i,link:o})),n},[])}function TP(){let e=$.useContext(cu);return G_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lU(){let e=$.useContext(Gh);return G_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var z_=$.createContext(void 0);z_.displayName="FrameworkContext";function CP(){let e=$.useContext(z_);return G_(e,"You must render this element inside a <HydratedRouter> element"),e}function cU(e,t){let r=$.useContext(z_),[n,o]=$.useState(!1),[i,s]=$.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=t,v=$.useRef(null);$.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=C=>{C.forEach(I=>{s(I.isIntersecting)})},T=new IntersectionObserver(b,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[e]),$.useEffect(()=>{if(n){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[n]);let g=()=>{o(!0)},w=()=>{o(!1),s(!1)};return r?e!=="intent"?[i,v,{}]:[i,v,{onFocus:al(c,g),onBlur:al(h,w),onMouseEnter:al(u,g),onMouseLeave:al(f,w),onTouchStart:al(p,g)}]:[!1,v,{}]}function al(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function fU({page:e,...t}){let{router:r}=TP(),n=$.useMemo(()=>dP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?$.createElement(hU,{page:e,matches:n,...t}):null}function dU(e){let{manifest:t,routeModules:r}=CP(),[n,o]=$.useState([]);return $.useEffect(()=>{let i=!1;return iU(e,t,r).then(s=>{i||o(s)}),()=>{i=!0}},[e,t,r]),n}function hU({page:e,matches:t,...r}){let n=Fa(),{manifest:o,routeModules:i}=CP(),{basename:s}=TP(),{loaderData:c,matches:h}=lU(),u=$.useMemo(()=>j2(e,t,h,o,n,"data"),[e,t,h,o,n]),f=$.useMemo(()=>j2(e,t,h,o,n,"assets"),[e,t,h,o,n]),p=$.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(t.forEach(C=>{var x;let I=o.routes[C.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===C.route.id)&&C.route.id in c&&((x=i[C.route.id])!=null&&x.shouldRevalidate)||I.hasClientLoader?b=!0:w.add(C.route.id))}),w.size===0)return[];let T=tU(e,s,"data");return b&&w.size>0&&T.searchParams.set("_routes",t.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[s,c,n,o,u,t,e,i]),v=$.useMemo(()=>oU(f,o),[f,o]),g=dU(f);return $.createElement($.Fragment,null,p.map(w=>$.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>$.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),g.map(({key:w,link:b})=>$.createElement("link",{key:w,nonce:r.nonce,...b})))}function pU(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var IP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IP&&(window.__reactRouterVersion="7.10.1")}catch{}function mU({basename:e,children:t,unstable_useTransitions:r,window:n}){let o=$.useRef();o.current==null&&(o.current=ej({window:n,v5Compat:!0}));let i=o.current,[s,c]=$.useState({action:i.action,location:i.location}),h=$.useCallback(u=>{r===!1?c(u):$.startTransition(()=>c(u))},[r]);return $.useLayoutEffect(()=>i.listen(h),[i,h]),$.createElement(Hj,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r===!0})}var xP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K_=$.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:o,reloadDocument:i,replace:s,state:c,target:h,to:u,preventScrollReset:f,viewTransition:p,...v},g){let{basename:w,unstable_useTransitions:b}=$.useContext(zn),T=typeof u=="string"&&xP.test(u),C,I=!1;if(typeof u=="string"&&T&&(C=u,IP))try{let B=new URL(window.location.href),U=u.startsWith("//")?new URL(B.protocol+u):new URL(u),K=Vi(U.pathname,w);U.origin===B.origin&&K!=null?u=K+U.search+U.hash:I=!0}catch{Hn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Rj(u,{relative:o}),[R,L,F]=cU(n,v),H=wU(u,{replace:s,state:c,target:h,preventScrollReset:f,relative:o,viewTransition:p,unstable_useTransitions:b});function V(B){t&&t(B),B.defaultPrevented||H(B)}let D=$.createElement("a",{...v,...F,href:C||x,onClick:I||i?t:V,ref:pU(g,L),target:h,"data-discover":!T&&r==="render"?"true":void 0});return R&&!T?$.createElement($.Fragment,null,D,$.createElement(fU,{page:x})):D});K_.displayName="Link";var vU=$.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:o=!1,style:i,to:s,viewTransition:c,children:h,...u},f){let p=bc(s,{relative:u.relative}),v=Fa(),g=$.useContext(Gh),{navigator:w,basename:b}=$.useContext(zn),T=g!=null&&TU(p)&&c===!0,C=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,I=v.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(I=I.toLowerCase(),x=x?x.toLowerCase():null,C=C.toLowerCase()),x&&b&&(x=Vi(x,b)||x);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let L=I===C||!o&&I.startsWith(C)&&I.charAt(R)==="/",F=x!=null&&(x===C||!o&&x.startsWith(C)&&x.charAt(C.length)==="/"),H={isActive:L,isPending:F,isTransitioning:T},V=L?t:void 0,D;typeof n=="function"?D=n(H):D=[n,L?"active":null,F?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(H):i;return $.createElement(K_,{...u,"aria-current":V,className:D,ref:f,style:B,to:s,viewTransition:c},typeof h=="function"?h(H):h)});vU.displayName="NavLink";var yU=$.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:o,state:i,method:s=Rd,action:c,onSubmit:h,relative:u,preventScrollReset:f,viewTransition:p,...v},g)=>{let{unstable_useTransitions:w}=$.useContext(zn),b=SU(),T=EU(c,{relative:u}),C=s.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&xP.test(c),x=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let L=R.nativeEvent.submitter,F=(L==null?void 0:L.getAttribute("formmethod"))||s,H=()=>b(L||R.currentTarget,{fetcherKey:t,method:F,navigate:r,replace:o,state:i,relative:u,preventScrollReset:f,viewTransition:p});w&&r!==!1?$.startTransition(()=>H()):H()};return $.createElement("form",{ref:g,method:C,action:T,onSubmit:n?h:x,...v,"data-discover":!I&&e==="render"?"true":void 0})});yU.displayName="Form";function gU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AP(e){let t=$.useContext(cu);return dt(t,gU(e)),t}function wU(e,{target:t,replace:r,state:n,preventScrollReset:o,relative:i,viewTransition:s,unstable_useTransitions:c}={}){let h=bP(),u=Fa(),f=bc(e,{relative:i});return $.useCallback(p=>{if(Qj(p,t)){p.preventDefault();let v=r!==void 0?r:Ql(u)===Ql(f),g=()=>h(e,{replace:v,state:n,preventScrollReset:o,relative:i,viewTransition:s});c?$.startTransition(()=>g()):g()}},[u,h,f,r,n,t,e,o,i,s,c])}var _U=0,bU=()=>`__${String(++_U)}__`;function SU(){let{router:e}=AP("useSubmit"),{basename:t}=$.useContext(zn),r=$j(),n=e.fetch,o=e.navigate;return $.useCallback(async(i,s={})=>{let{action:c,method:h,encType:u,formData:f,body:p}=eU(i,t);if(s.navigate===!1){let v=s.fetcherKey||bU();await n(v,r,s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||h,formEncType:s.encType||u,flushSync:s.flushSync})}else await o(s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||h,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,o,t,r])}function EU(e,{relative:t}={}){let{basename:r}=$.useContext(zn),n=$.useContext(wi);dt(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),i={...bc(e||".",{relative:t})},s=Fa();if(e==null){i.search=s.search;let c=new URLSearchParams(i.search),h=c.getAll("index");if(h.some(f=>f==="")){c.delete("index"),h.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Bi([r,i.pathname])),Ql(i)}function TU(e,{relative:t}={}){let r=$.useContext(gP);dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=AP("useViewTransitionState"),o=bc(e,{relative:t});if(!r.isTransitioning)return!1;let i=Vi(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Vi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return th(o.pathname,s)!=null||th(o.pathname,i)!=null}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),U2=e=>{const t=IU(e);return t.charAt(0).toUpperCase()+t.slice(1)},RP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),xU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=$.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:s,...c},h)=>$.createElement("svg",{ref:h,...AU,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:RP("lucide",o),...!i&&!xU(c)&&{"aria-hidden":"true"},...c},[...s.map(([u,f])=>$.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=(e,t)=>{const r=$.forwardRef(({className:n,...o},i)=>$.createElement(RU,{ref:i,iconNode:t,className:RP(`lucide-${CU(U2(e))}`,`lucide-${e}`,n),...o}));return r.displayName=U2(e),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OP=Kn("calendar",OU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],NU=Kn("chevron-left",PU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],DU=Kn("circle-play",LU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MU=Kn("circle",kU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jU=Kn("clock",FU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],BU=Kn("ellipsis",UU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],qU=Kn("heart",$U);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],WU=Kn("play",VU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GU=Kn("search",HU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],KU=Kn("share-2",zU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JU=Kn("x",YU),Pd=({children:e,title:t="Home",showBack:r=!1,actions:n})=>{const o=bP();return ae.jsxs("div",{"trae-inspector-start-line":"16","trae-inspector-start-column":"4","trae-inspector-end-line":"54","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"min-h-screen bg-ios-bg",children:[ae.jsx("div",{"trae-inspector-start-line":"18","trae-inspector-start-column":"6","trae-inspector-end-line":"18","trae-inspector-end-column":"111","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"h-[env(safe-area-inset-top)] w-full bg-white/80 backdrop-blur-md fixed top-0 z-50"}),ae.jsxs("header",{"trae-inspector-start-line":"21","trae-inspector-start-column":"6","trae-inspector-end-line":"49","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-200 px-4 h-14 flex items-center justify-between transition-all duration-300",children:[ae.jsx("div",{"trae-inspector-start-line":"22","trae-inspector-start-column":"8","trae-inspector-end-line":"31","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex-1 flex items-center justify-start",children:r&&ae.jsx("button",{"trae-inspector-start-line":"24","trae-inspector-start-column":"12","trae-inspector-end-line":"29","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",onClick:()=>o(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 active:bg-gray-200 transition-colors",children:ae.jsx(NU,{className:"w-6 h-6 text-ios-text"})})}),ae.jsx("div",{"trae-inspector-start-line":"33","trae-inspector-start-column":"8","trae-inspector-end-line":"35","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex-1 flex justify-center",children:ae.jsx("h1",{"trae-inspector-start-line":"34","trae-inspector-start-column":"10","trae-inspector-end-line":"34","trae-inspector-end-column":"97","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-lg font-semibold text-ios-text truncate max-w-[200px]",children:t})}),ae.jsx("div",{"trae-inspector-start-line":"37","trae-inspector-start-column":"8","trae-inspector-end-line":"48","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex-1 flex items-center justify-end space-x-2",children:n||ae.jsxs(ae.Fragment,{children:[ae.jsx("button",{"trae-inspector-start-line":"40","trae-inspector-start-column":"14","trae-inspector-end-line":"42","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"p-2 rounded-full hover:bg-gray-100",children:ae.jsx(BU,{className:"w-5 h-5 text-ios-text"})}),ae.jsx("button",{"trae-inspector-start-line":"43","trae-inspector-start-column":"14","trae-inspector-end-line":"45","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"p-2 rounded-full hover:bg-gray-100",children:ae.jsx(MU,{className:"w-5 h-5 text-ios-text"})})]})})]}),ae.jsx("main",{"trae-inspector-start-line":"51","trae-inspector-start-column":"6","trae-inspector-end-line":"53","trae-inspector-end-column":"13","trae-inspector-file-path":"src\\\\components\\\\Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"max-w-7xl mx-auto px-4 py-6 pb-20 safe-area-bottom",children:e})]})},QU=({value:e,onChange:t,onSearch:r})=>{const n=o=>{o.key==="Enter"&&r()};return ae.jsx("div",{"trae-inspector-start-line":"18","trae-inspector-start-column":"4","trae-inspector-end-line":"40","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\SearchBar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"relative w-full max-w-md mx-auto mb-6",children:ae.jsxs("div",{"trae-inspector-start-line":"19","trae-inspector-start-column":"6","trae-inspector-end-line":"39","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\SearchBar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"relative",children:[ae.jsx("div",{"trae-inspector-start-line":"20","trae-inspector-start-column":"8","trae-inspector-end-line":"22","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\SearchBar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:ae.jsx(GU,{className:"h-5 w-5 text-ios-subtext"})}),ae.jsx("input",{"trae-inspector-start-line":"23","trae-inspector-start-column":"8","trae-inspector-end-line":"30","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\SearchBar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",type:"text",className:"block w-full pl-10 pr-10 py-2.5 bg-gray-200/80 rounded-xl leading-5 placeholder-ios-subtext focus:outline-none focus:bg-white focus:ring-2 focus:ring-primary/50 transition-all duration-200",placeholder:"...",value:e,onChange:o=>t(o.target.value),onKeyDown:n}),e&&ae.jsx("button",{"trae-inspector-start-line":"32","trae-inspector-start-column":"10","trae-inspector-end-line":"37","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\SearchBar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",onClick:()=>t(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-ios-subtext hover:text-gray-600",children:ae.jsx(JU,{className:"h-5 w-5"})})]})})},PP=$.createContext({});function XU(e){const t=$.useRef(null);return t.current===null&&(t.current=e()),t.current}const Y_=typeof window<"u",ZU=Y_?$.useLayoutEffect:$.useEffect,J_=$.createContext(null);function Q_(e,t){e.indexOf(t)===-1&&e.push(t)}function X_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Wi=(e,t,r)=>r>t?t:r<e?e:r;let Z_=()=>{};const Hi={},NP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function LP(e){return typeof e=="object"&&e!==null}const DP=e=>/^0[^.\s]+$/u.test(e);function eb(e){let t;return()=>(t===void 0&&(t=e()),t)}const hn=e=>e,eB=(e,t)=>r=>t(e(r)),Sc=(...e)=>e.reduce(eB),Xl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class tb{constructor(){this.subscriptions=[]}add(t){return Q_(this.subscriptions,t),()=>X_(this.subscriptions,t)}notify(t,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vi=e=>e*1e3,dn=e=>e/1e3;function kP(e,t){return t?e*(1e3/t):0}const MP=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,tB=1e-7,rB=12;function nB(e,t,r,n,o){let i,s,c=0;do s=t+(r-t)/2,i=MP(s,n,o)-e,i>0?r=s:t=s;while(Math.abs(i)>tB&&++c<rB);return s}function Ec(e,t,r,n){if(e===t&&r===n)return hn;const o=i=>nB(i,0,1,e,r);return i=>i===0||i===1?i:MP(o(i),t,n)}const FP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,jP=e=>t=>1-e(1-t),UP=Ec(.33,1.53,.69,.99),rb=jP(UP),BP=FP(rb),$P=e=>(e*=2)<1?.5*rb(e):.5*(2-Math.pow(2,-10*(e-1))),nb=e=>1-Math.sin(Math.acos(e)),qP=jP(nb),VP=FP(nb),iB=Ec(.42,0,1,1),oB=Ec(0,0,.58,1),WP=Ec(.42,0,.58,1),aB=e=>Array.isArray(e)&&typeof e[0]!="number",HP=e=>Array.isArray(e)&&typeof e[0]=="number",sB={linear:hn,easeIn:iB,easeInOut:WP,easeOut:oB,circIn:nb,circInOut:VP,circOut:qP,backIn:rb,backInOut:BP,backOut:UP,anticipate:$P},uB=e=>typeof e=="string",B2=e=>{if(HP(e)){Z_(e.length===4);const[t,r,n,o]=e;return Ec(t,r,n,o)}else if(uB(e))return sB[e];return e},Yf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lB(e,t){let r=new Set,n=new Set,o=!1,i=!1;const s=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(f){s.has(f)&&(u.schedule(f),e()),f(c)}const u={schedule:(f,p=!1,v=!1)=>{const w=v&&o?r:n;return p&&s.add(f),w.has(f)||w.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(c=f,o){i=!0;return}o=!0,[r,n]=[n,r],r.forEach(h),r.clear(),o=!1,i&&(i=!1,u.process(f))}};return u}const cB=40;function GP(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=Yf.reduce((x,R)=>(x[R]=lB(i),x),{}),{setup:c,read:h,resolveKeyframes:u,preUpdate:f,update:p,preRender:v,render:g,postRender:w}=s,b=()=>{const x=Hi.useManualTiming?o.timestamp:performance.now();r=!1,Hi.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(x-o.timestamp,cB),1)),o.timestamp=x,o.isProcessing=!0,c.process(o),h.process(o),u.process(o),f.process(o),p.process(o),v.process(o),g.process(o),w.process(o),o.isProcessing=!1,r&&t&&(n=!1,e(b))},T=()=>{r=!0,n=!0,o.isProcessing||e(b)};return{schedule:Yf.reduce((x,R)=>{const L=s[R];return x[R]=(F,H=!1,V=!1)=>(r||T(),L.schedule(F,H,V)),x},{}),cancel:x=>{for(let R=0;R<Yf.length;R++)s[Yf[R]].cancel(x)},state:o,steps:s}}const{schedule:ut,cancel:No,state:qt,steps:Iv}=GP(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0);let Nd;function fB(){Nd=void 0}const Or={now:()=>(Nd===void 0&&Or.set(qt.isProcessing||Hi.useManualTiming?qt.timestamp:performance.now()),Nd),set:e=>{Nd=e,queueMicrotask(fB)}},zP=e=>t=>typeof t=="string"&&t.startsWith(e),KP=zP("--"),dB=zP("var(--"),ib=e=>dB(e)?hB.test(e.split("/*")[0].trim()):!1,hB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zl={...fu,transform:e=>Wi(0,1,e)},Jf={...fu,default:1},Fl=e=>Math.round(e*1e5)/1e5,ob=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pB(e){return e==null}const mB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ab=(e,t)=>r=>!!(typeof r=="string"&&mB.test(r)&&r.startsWith(e)||t&&!pB(r)&&Object.prototype.hasOwnProperty.call(r,t)),YP=(e,t,r)=>n=>{if(typeof n!="string")return n;const[o,i,s,c]=n.match(ob);return{[e]:parseFloat(o),[t]:parseFloat(i),[r]:parseFloat(s),alpha:c!==void 0?parseFloat(c):1}},vB=e=>Wi(0,255,e),xv={...fu,transform:e=>Math.round(vB(e))},wa={test:ab("rgb","red"),parse:YP("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+xv.transform(e)+", "+xv.transform(t)+", "+xv.transform(r)+", "+Fl(Zl.transform(n))+")"};function yB(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Rw={test:ab("#"),parse:yB,transform:wa.transform},Tc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),go=Tc("deg"),yi=Tc("%"),Pe=Tc("px"),gB=Tc("vh"),wB=Tc("vw"),$2={...yi,parse:e=>yi.parse(e)/100,transform:e=>yi.transform(e*100)},Ns={test:ab("hsl","hue"),parse:YP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+yi.transform(Fl(t))+", "+yi.transform(Fl(r))+", "+Fl(Zl.transform(n))+")"},bt={test:e=>wa.test(e)||Rw.test(e)||Ns.test(e),parse:e=>wa.test(e)?wa.parse(e):Ns.test(e)?Ns.parse(e):Rw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wa.transform(e):Ns.transform(e),getAnimatableNone:e=>{const t=bt.parse(e);return t.alpha=0,bt.transform(t)}},_B=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bB(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ob))==null?void 0:t.length)||0)+(((r=e.match(_B))==null?void 0:r.length)||0)>0}const JP="number",QP="color",SB="var",EB="var(",q2="${}",TB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},o=[];let i=0;const c=t.replace(TB,h=>(bt.test(h)?(n.color.push(i),o.push(QP),r.push(bt.parse(h))):h.startsWith(EB)?(n.var.push(i),o.push(SB),r.push(h)):(n.number.push(i),o.push(JP),r.push(parseFloat(h))),++i,q2)).split(q2);return{values:r,split:c,indexes:n,types:o}}function XP(e){return ec(e).values}function ZP(e){const{split:t,types:r}=ec(e),n=t.length;return o=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],o[s]!==void 0){const c=r[s];c===JP?i+=Fl(o[s]):c===QP?i+=bt.transform(o[s]):i+=o[s]}return i}}const CB=e=>typeof e=="number"?0:bt.test(e)?bt.getAnimatableNone(e):e;function IB(e){const t=XP(e);return ZP(e)(t.map(CB))}const Lo={test:bB,parse:XP,createTransformer:ZP,getAnimatableNone:IB};function Av(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xB({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,i=0,s=0;if(!t)o=i=s=r;else{const c=r<.5?r*(1+t):r+t-r*t,h=2*r-c;o=Av(h,c,e+1/3),i=Av(h,c,e),s=Av(h,c,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function rh(e,t){return r=>r>0?t:e}const ft=(e,t,r)=>e+(t-e)*r,Rv=(e,t,r)=>{const n=e*e,o=r*(t*t-n)+n;return o<0?0:Math.sqrt(o)},AB=[Rw,wa,Ns],RB=e=>AB.find(t=>t.test(e));function V2(e){const t=RB(e);if(!t)return!1;let r=t.parse(e);return t===Ns&&(r=xB(r)),r}const W2=(e,t)=>{const r=V2(e),n=V2(t);if(!r||!n)return rh(e,t);const o={...r};return i=>(o.red=Rv(r.red,n.red,i),o.green=Rv(r.green,n.green,i),o.blue=Rv(r.blue,n.blue,i),o.alpha=ft(r.alpha,n.alpha,i),wa.transform(o))},Ow=new Set(["none","hidden"]);function OB(e,t){return Ow.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function PB(e,t){return r=>ft(e,t,r)}function sb(e){return typeof e=="number"?PB:typeof e=="string"?ib(e)?rh:bt.test(e)?W2:DB:Array.isArray(e)?eN:typeof e=="object"?bt.test(e)?W2:NB:rh}function eN(e,t){const r=[...e],n=r.length,o=e.map((i,s)=>sb(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=o[s](i);return r}}function NB(e,t){const r={...e,...t},n={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=sb(e[o])(e[o],t[o]));return o=>{for(const i in n)r[i]=n[i](o);return r}}function LB(e,t){const r=[],n={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],s=e.indexes[i][n[i]],c=e.values[s]??0;r[o]=c,n[i]++}return r}const DB=(e,t)=>{const r=Lo.createTransformer(t),n=ec(e),o=ec(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Ow.has(e)&&!o.values.length||Ow.has(t)&&!n.values.length?OB(e,t):Sc(eN(LB(n,o),o.values),r):rh(e,t)};function tN(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ft(e,t,r):sb(e)(e,t)}const kB=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ut.update(t,r),stop:()=>No(t),now:()=>qt.isProcessing?qt.timestamp:Or.now()}},rN=(e,t,r=10)=>{let n="";const o=Math.max(Math.round(t/r),2);for(let i=0;i<o;i++)n+=Math.round(e(i/(o-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},nh=2e4;function ub(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<nh;)t+=r,n=e.next(t);return t>=nh?1/0:t}function MB(e,t=100,r){const n=r({...e,keyframes:[0,t]}),o=Math.min(ub(n),nh);return{type:"keyframes",ease:i=>n.next(o*i).value/t,duration:dn(o)}}const FB=5;function nN(e,t,r){const n=Math.max(t-FB,0);return kP(r-e(n),t-n)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ov=.001;function jB({duration:e=pt.duration,bounce:t=pt.bounce,velocity:r=pt.velocity,mass:n=pt.mass}){let o,i,s=1-t;s=Wi(pt.minDamping,pt.maxDamping,s),e=Wi(pt.minDuration,pt.maxDuration,dn(e)),s<1?(o=u=>{const f=u*s,p=f*e,v=f-r,g=Pw(u,s),w=Math.exp(-p);return Ov-v/g*w},i=u=>{const p=u*s*e,v=p*r+r,g=Math.pow(s,2)*Math.pow(u,2)*e,w=Math.exp(-p),b=Pw(Math.pow(u,2),s);return(-o(u)+Ov>0?-1:1)*((v-g)*w)/b}):(o=u=>{const f=Math.exp(-u*e),p=(u-r)*e+1;return-Ov+f*p},i=u=>{const f=Math.exp(-u*e),p=(r-u)*(e*e);return f*p});const c=5/e,h=BB(o,i,c);if(e=vi(e),isNaN(h))return{stiffness:pt.stiffness,damping:pt.damping,duration:e};{const u=Math.pow(h,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const UB=12;function BB(e,t,r){let n=r;for(let o=1;o<UB;o++)n=n-e(n)/t(n);return n}function Pw(e,t){return e*Math.sqrt(1-t*t)}const $B=["duration","bounce"],qB=["stiffness","damping","mass"];function H2(e,t){return t.some(r=>e[r]!==void 0)}function VB(e){let t={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...e};if(!H2(e,qB)&&H2(e,$B))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,i=2*Wi(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:pt.mass,stiffness:o,damping:i}}else{const r=jB(e);t={...t,...r,mass:pt.mass},t.isResolvedFromDuration=!0}return t}function ih(e=pt.visualDuration,t=pt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:o}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:h,damping:u,mass:f,duration:p,velocity:v,isResolvedFromDuration:g}=VB({...r,velocity:-dn(r.velocity||0)}),w=v||0,b=u/(2*Math.sqrt(h*f)),T=s-i,C=dn(Math.sqrt(h/f)),I=Math.abs(T)<5;n||(n=I?pt.restSpeed.granular:pt.restSpeed.default),o||(o=I?pt.restDelta.granular:pt.restDelta.default);let x;if(b<1){const L=Pw(C,b);x=F=>{const H=Math.exp(-b*C*F);return s-H*((w+b*C*T)/L*Math.sin(L*F)+T*Math.cos(L*F))}}else if(b===1)x=L=>s-Math.exp(-C*L)*(T+(w+C*T)*L);else{const L=C*Math.sqrt(b*b-1);x=F=>{const H=Math.exp(-b*C*F),V=Math.min(L*F,300);return s-H*((w+b*C*T)*Math.sinh(V)+L*T*Math.cosh(V))/L}}const R={calculatedDuration:g&&p||null,next:L=>{const F=x(L);if(g)c.done=L>=p;else{let H=L===0?w:0;b<1&&(H=L===0?vi(w):nN(x,L,F));const V=Math.abs(H)<=n,D=Math.abs(s-F)<=o;c.done=V&&D}return c.value=c.done?s:F,c},toString:()=>{const L=Math.min(ub(R),nh),F=rN(H=>R.next(L*H).value,L,30);return L+"ms "+F},toTransition:()=>{}};return R}ih.applyToOptions=e=>{const t=MB(e,100,ih);return e.ease=t.ease,e.duration=vi(t.duration),e.type="keyframes",e};function Nw({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:c,max:h,restDelta:u=.5,restSpeed:f}){const p=e[0],v={done:!1,value:p},g=V=>c!==void 0&&V<c||h!==void 0&&V>h,w=V=>c===void 0?h:h===void 0||Math.abs(c-V)<Math.abs(h-V)?c:h;let b=r*t;const T=p+b,C=s===void 0?T:s(T);C!==T&&(b=C-p);const I=V=>-b*Math.exp(-V/n),x=V=>C+I(V),R=V=>{const D=I(V),B=x(V);v.done=Math.abs(D)<=u,v.value=v.done?C:B};let L,F;const H=V=>{g(v.value)&&(L=V,F=ih({keyframes:[v.value,w(v.value)],velocity:nN(x,V,v.value),damping:o,stiffness:i,restDelta:u,restSpeed:f}))};return H(0),{calculatedDuration:null,next:V=>{let D=!1;return!F&&L===void 0&&(D=!0,R(V),H(V)),L!==void 0&&V>=L?F.next(V-L):(!D&&R(V),v)}}}function WB(e,t,r){const n=[],o=r||Hi.mix||tN,i=e.length-1;for(let s=0;s<i;s++){let c=o(e[s],e[s+1]);if(t){const h=Array.isArray(t)?t[s]||hn:t;c=Sc(h,c)}n.push(c)}return n}function HB(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const i=e.length;if(Z_(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=WB(t,n,o),h=c.length,u=f=>{if(s&&f<e[0])return t[0];let p=0;if(h>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const v=Xl(e[p],e[p+1],f);return c[p](v)};return r?f=>u(Wi(e[0],e[i-1],f)):u}function GB(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=Xl(0,t,n);e.push(ft(r,1,o))}}function zB(e){const t=[0];return GB(t,e.length-1),t}function KB(e,t){return e.map(r=>r*t)}function YB(e,t){return e.map(()=>t||WP).splice(0,e.length-1)}function jl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=aB(n)?n.map(B2):B2(n),i={done:!1,value:t[0]},s=KB(r&&r.length===t.length?r:zB(t),e),c=HB(s,t,{ease:Array.isArray(o)?o:YB(t,o)});return{calculatedDuration:e,next:h=>(i.value=c(h),i.done=h>=e,i)}}const JB=e=>e!==null;function lb(e,{repeat:t,repeatType:r="loop"},n,o=1){const i=e.filter(JB),c=o<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const QB={decay:Nw,inertia:Nw,tween:jl,keyframes:jl,spring:ih};function iN(e){typeof e.type=="string"&&(e.type=QB[e.type])}class cb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const XB=e=>e/100;class fb extends cb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,o;const{motionValue:r}=this.options;r&&r.updatedAt!==Or.now()&&this.tick(Or.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(n=this.options).onStop)==null||o.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;iN(t);const{type:r=jl,repeat:n=0,repeatDelay:o=0,repeatType:i,velocity:s=0}=t;let{keyframes:c}=t;const h=r||jl;h!==jl&&typeof c[0]!="number"&&(this.mixKeyframes=Sc(XB,tN(c[0],c[1])),c=[0,100]);const u=h({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=ub(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:o,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:p,repeatType:v,repeatDelay:g,type:w,onUpdate:b,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const C=this.currentTime-u*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let x=this.currentTime,R=n;if(p){const V=Math.min(this.currentTime,o)/c;let D=Math.floor(V),B=V%1;!B&&V>=1&&(B=1),B===1&&D--,D=Math.min(D,p+1),!!(D%2)&&(v==="reverse"?(B=1-B,g&&(B-=g/c)):v==="mirror"&&(R=s)),x=Wi(0,1,B)*c}const L=I?{done:!1,value:f[0]}:R.next(x);i&&(L.value=i(L.value));let{done:F}=L;!I&&h!==null&&(F=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return H&&w!==Nw&&(L.value=lb(f,this.options,T,this.speed)),b&&b(L.value),H&&this.finish(),L}then(t,r){return this.finished.then(t,r)}get duration(){return dn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(this.currentTime)}set time(t){var r;t=vi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Or.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=dn(this.currentTime))}play(){var o,i;if(this.isStopped)return;const{driver:t=kB,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(o=this.options).onPlay)==null||i.call(o);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Or.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function ZB(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _a=e=>e*180/Math.PI,Lw=e=>{const t=_a(Math.atan2(e[1],e[0]));return Dw(t)},e4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Lw,rotateZ:Lw,skewX:e=>_a(Math.atan(e[1])),skewY:e=>_a(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Dw=e=>(e=e%360,e<0&&(e+=360),e),G2=Lw,z2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),K2=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),t4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z2,scaleY:K2,scale:e=>(z2(e)+K2(e))/2,rotateX:e=>Dw(_a(Math.atan2(e[6],e[5]))),rotateY:e=>Dw(_a(Math.atan2(-e[2],e[0]))),rotateZ:G2,rotate:G2,skewX:e=>_a(Math.atan(e[4])),skewY:e=>_a(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function kw(e){return e.includes("scale")?1:0}function Mw(e,t){if(!e||e==="none")return kw(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,o;if(r)n=t4,o=r;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=e4,o=c}if(!o)return kw(t);const i=n[t],s=o[1].split(",").map(n4);return typeof i=="function"?i(s):s[i]}const r4=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Mw(r,t)};function n4(e){return parseFloat(e.trim())}const du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hu=new Set(du),Y2=e=>e===fu||e===Pe,i4=new Set(["x","y","z"]),o4=du.filter(e=>!i4.has(e));function a4(e){const t=[];return o4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ta={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Mw(t,"x"),y:(e,{transform:t})=>Mw(t,"y")};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const Ca=new Set;let Fw=!1,jw=!1,Uw=!1;function oN(){if(jw){const e=Array.from(Ca).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const o=a4(n);o.length&&(r.set(n,o),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const o=r.get(n);o&&o.forEach(([i,s])=>{var c;(c=n.getValue(i))==null||c.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}jw=!1,Fw=!1,Ca.forEach(e=>e.complete(Uw)),Ca.clear()}function aN(){Ca.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jw=!0)})}function s4(){Uw=!0,aN(),oN(),Uw=!1}class db{constructor(t,r,n,o,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=o,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ca.add(this),Fw||(Fw=!0,ut.read(aN),ut.resolveKeyframes(oN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:o}=this;if(t[0]===null){const i=o==null?void 0:o.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,s);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=s),o&&i===void 0&&o.set(t[0])}ZB(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ca.delete(this)}cancel(){this.state==="scheduled"&&(Ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const u4=e=>e.startsWith("--");function l4(e,t,r){u4(t)?e.style.setProperty(t,r):e.style[t]=r}const c4=eb(()=>window.ScrollTimeline!==void 0),f4={};function d4(e,t){const r=eb(e);return()=>f4[t]??r()}const sN=d4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,J2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function uN(e,t){if(e)return typeof e=="function"?sN()?rN(e,t):"ease-out":HP(e)?Cl(e):Array.isArray(e)?e.map(r=>uN(r,t)||J2.easeOut):J2[e]}function h4(e,t,r,{delay:n=0,duration:o=300,repeat:i=0,repeatType:s="loop",ease:c="easeOut",times:h}={},u=void 0){const f={[t]:r};h&&(f.offset=h);const p=uN(c,o);Array.isArray(p)&&(f.easing=p);const v={delay:n,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(v.pseudoElement=u),e.animate(f,v)}function lN(e){return typeof e=="function"&&"applyToOptions"in e}function p4({type:e,...t}){return lN(e)&&sN()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class m4 extends cb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:o,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,Z_(typeof t.type!="string");const u=p4(t);this.animation=h4(r,n,o,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=lb(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):l4(r,n,f),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return dn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+dn(t)}get time(){return dn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&c4()?(this.animation.timeline=t,hn):r(this)}}const cN={anticipate:$P,backInOut:BP,circInOut:VP};function v4(e){return e in cN}function y4(e){typeof e.ease=="string"&&v4(e.ease)&&(e.ease=cN[e.ease])}const Q2=10;class g4 extends m4{constructor(t){y4(t),iN(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:o,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new fb({...s,autoplay:!1}),h=vi(this.finishedTime??this.time);r.setWithVelocity(c.sample(h-Q2).value,c.sample(h).value,Q2),c.stop()}}const X2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lo.test(e)||e==="0")&&!e.startsWith("url("));function w4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function _4(e,t,r,n){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=X2(o,t),c=X2(i,t);return!s||!c?!1:w4(e)||(r==="spring"||lN(r))&&n}function Bw(e){e.duration=0,e.type="keyframes"}const b4=new Set(["opacity","clipPath","filter","transform"]),S4=eb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function E4(e){var f;const{motionValue:t,name:r,repeatDelay:n,repeatType:o,damping:i,type:s}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:u}=t.owner.getProps();return S4()&&r&&b4.has(r)&&(r!=="transform"||!u)&&!h&&!n&&o!=="mirror"&&i!==0&&s!=="inertia"}const T4=40;class C4 extends cb{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:s="loop",keyframes:c,name:h,motionValue:u,element:f,...p}){var w;super(),this.stop=()=>{var b,T;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Or.now();const v={autoplay:t,delay:r,type:n,repeat:o,repeatDelay:i,repeatType:s,name:h,motionValue:u,element:f,...p},g=(f==null?void 0:f.KeyframeResolver)||db;this.keyframeResolver=new g(c,(b,T,C)=>this.onKeyframesResolved(b,T,v,!C),h,u,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,r,n,o){this.keyframeResolver=void 0;const{name:i,type:s,velocity:c,delay:h,isHandoff:u,onUpdate:f}=n;this.resolvedAt=Or.now(),_4(t,i,s,c)||((Hi.instantAnimations||!h)&&(f==null||f(lb(t,n,r))),t[0]=t[t.length-1],Bw(n),n.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>T4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&E4(v)?new g4({...v,element:v.motionValue.owner.current}):new fb(v);g.finished.then(()=>this.notifyFinished()).catch(hn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),s4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const I4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x4(e){const t=I4.exec(e);if(!t)return[,];const[,r,n,o]=t;return[`--${r??n}`,o]}function fN(e,t,r=1){const[n,o]=x4(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return NP(s)?parseFloat(s):s}return ib(o)?fN(o,t,r+1):o}function hb(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const dN=new Set(["width","height","top","left","right","bottom",...du]),A4={test:e=>e==="auto",parse:e=>e},hN=e=>t=>t.test(e),pN=[fu,Pe,yi,go,wB,gB,A4],Z2=e=>pN.find(hN(e));function R4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||DP(e):!0}const O4=new Set(["brightness","contrast","saturate","opacity"]);function P4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(ob)||[];if(!n)return e;const o=r.replace(n,"");let i=O4.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+o+")"}const N4=/\b([a-z-]*)\(.*?\)/gu,$w={...Lo,getAnimatableNone:e=>{const t=e.match(N4);return t?t.map(P4).join(" "):e}},eT={...fu,transform:Math.round},L4={rotate:go,rotateX:go,rotateY:go,rotateZ:go,scale:Jf,scaleX:Jf,scaleY:Jf,scaleZ:Jf,skew:go,skewX:go,skewY:go,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Zl,originX:$2,originY:$2,originZ:Pe},pb={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...L4,zIndex:eT,fillOpacity:Zl,strokeOpacity:Zl,numOctaves:eT},D4={...pb,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:$w,WebkitFilter:$w},mN=e=>D4[e];function vN(e,t){let r=mN(e);return r!==$w&&(r=Lo),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const k4=new Set(["auto","none","0"]);function M4(e,t,r){let n=0,o;for(;n<e.length&&!o;){const i=e[n];typeof i=="string"&&!k4.has(i)&&ec(i).values.length&&(o=e[n]),n++}if(o&&r)for(const i of t)e[i]=vN(r,o)}class F4 extends db{constructor(t,r,n,o,i){super(t,r,n,o,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let u=t[h];if(typeof u=="string"&&(u=u.trim(),ib(u))){const f=fN(u,r.current);f!==void 0&&(t[h]=f),h===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!dN.has(n)||t.length!==2)return;const[o,i]=t,s=Z2(o),c=Z2(i);if(s!==c)if(Y2(s)&&Y2(c))for(let h=0;h<t.length;h++){const u=t[h];typeof u=="string"&&(t[h]=parseFloat(u))}else Ta[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let o=0;o<t.length;o++)(t[o]===null||R4(t[o]))&&n.push(o);n.length&&M4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ta[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){var c;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Ta[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,u])=>{t.getValue(h).set(u)}),this.resolveNoneKeyframes()}}function j4(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const o=(r==null?void 0:r[e])??n.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const yN=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function U4(e){return LP(e)&&"offsetHeight"in e}const tT=30,B4=e=>!isNaN(parseFloat(e));class $4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const o=Or.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Or.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=B4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new tb);const n=this.events[t].add(r);return t==="change"?()=>{n(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,tT);return kP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(e,t){return new $4(e,t)}const{schedule:mb}=GP(queueMicrotask,!1),jn={x:!1,y:!1};function gN(){return jn.x||jn.y}function q4(e){return e==="x"||e==="y"?jn[e]?null:(jn[e]=!0,()=>{jn[e]=!1}):jn.x||jn.y?null:(jn.x=jn.y=!0,()=>{jn.x=jn.y=!1})}function wN(e,t){const r=j4(e),n=new AbortController,o={passive:!0,...t,signal:n.signal};return[r,o,()=>n.abort()]}function rT(e){return!(e.pointerType==="touch"||gN())}function V4(e,t,r={}){const[n,o,i]=wN(e,r),s=c=>{if(!rT(c))return;const{target:h}=c,u=t(h,c);if(typeof u!="function"||!h)return;const f=p=>{rT(p)&&(u(p),h.removeEventListener("pointerleave",f))};h.addEventListener("pointerleave",f,o)};return n.forEach(c=>{c.addEventListener("pointerenter",s,o)}),i}const _N=(e,t)=>t?e===t?!0:_N(e,t.parentElement):!1,vb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,W4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H4(e){return W4.has(e.tagName)||e.tabIndex!==-1}const Ld=new WeakSet;function nT(e){return t=>{t.key==="Enter"&&e(t)}}function Pv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const G4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=nT(()=>{if(Ld.has(r))return;Pv(r,"down");const o=nT(()=>{Pv(r,"up")}),i=()=>Pv(r,"cancel");r.addEventListener("keyup",o,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function iT(e){return vb(e)&&!gN()}function z4(e,t,r={}){const[n,o,i]=wN(e,r),s=c=>{const h=c.currentTarget;if(!iT(c))return;Ld.add(h);const u=t(h,c),f=(g,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),Ld.has(h)&&Ld.delete(h),iT(g)&&typeof u=="function"&&u(g,{success:w})},p=g=>{f(g,h===window||h===document||r.useGlobalTarget||_N(h,g.target))},v=g=>{f(g,!1)};window.addEventListener("pointerup",p,o),window.addEventListener("pointercancel",v,o)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",s,o),U4(c)&&(c.addEventListener("focus",u=>G4(u,o)),!H4(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function bN(e){return LP(e)&&"ownerSVGElement"in e}function K4(e){return bN(e)&&e.tagName==="svg"}const Xt=e=>!!(e&&e.getVelocity),Y4=[...pN,bt,Lo],J4=e=>Y4.find(hN(e)),SN=$.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Q4(e=!0){const t=$.useContext(J_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=t,i=$.useId();$.useEffect(()=>{if(e)return o(i)},[e]);const s=$.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const EN=$.createContext({strict:!1}),oT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ru={};for(const e in oT)ru[e]={isEnabled:t=>oT[e].some(r=>!!t[r])};function X4(e){for(const t in e)ru[t]={...ru[t],...e[t]}}const Z4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Z4.has(e)}let TN=e=>!oh(e);function e$(e){typeof e=="function"&&(TN=t=>t.startsWith("on")?!oh(t):e(t))}try{e$(require("@emotion/is-prop-valid").default)}catch{}function t$(e,t,r){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(TN(o)||r===!0&&oh(o)||!t&&!oh(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}const Kh=$.createContext({});function Yh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tc(e){return typeof e=="string"||Array.isArray(e)}const yb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gb=["initial",...yb];function Jh(e){return Yh(e.animate)||gb.some(t=>tc(e[t]))}function CN(e){return!!(Jh(e)||e.variants)}function r$(e,t){if(Jh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||tc(r)?r:void 0,animate:tc(n)?n:void 0}}return e.inherit!==!1?t:{}}function n$(e){const{initial:t,animate:r}=r$(e,$.useContext(Kh));return $.useMemo(()=>({initial:t,animate:r}),[aT(t),aT(r)])}function aT(e){return Array.isArray(e)?e.join(" "):e}function sT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pe.test(e))e=parseFloat(e);else return e;const r=sT(e,t.target.x),n=sT(e,t.target.y);return`${r}% ${n}%`}},i$={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=Lo.parse(e);if(o.length>5)return n;const i=Lo.createTransformer(e),s=typeof o[0]!="number"?1:0,c=r.x.scale*t.x,h=r.y.scale*t.y;o[0+s]/=c,o[1+s]/=h;const u=ft(c,h,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}},qw={borderRadius:{...sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sl,borderTopRightRadius:sl,borderBottomLeftRadius:sl,borderBottomRightRadius:sl,boxShadow:i$};function IN(e,{layout:t,layoutId:r}){return hu.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!qw[e]||e==="opacity")}const o$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a$=du.length;function s$(e,t,r){let n="",o=!0;for(let i=0;i<a$;i++){const s=du[i],c=e[s];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(s.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||r){const u=yN(c,pb[s]);if(!h){o=!1;const f=o$[s]||s;n+=`${f}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,o?"":n):o&&(n="none"),n}function wb(e,t,r){const{style:n,vars:o,transformOrigin:i}=e;let s=!1,c=!1;for(const h in t){const u=t[h];if(hu.has(h)){s=!0;continue}else if(KP(h)){o[h]=u;continue}else{const f=yN(u,pb[h]);h.startsWith("origin")?(c=!0,i[h]=f):n[h]=f}}if(t.transform||(s||r?n.transform=s$(t,e.transform,r):n.transform&&(n.transform="none")),c){const{originX:h="50%",originY:u="50%",originZ:f=0}=i;n.transformOrigin=`${h} ${u} ${f}`}}const _b=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xN(e,t,r){for(const n in t)!Xt(t[n])&&!IN(n,r)&&(e[n]=t[n])}function u$({transformTemplate:e},t){return $.useMemo(()=>{const r=_b();return wb(r,t,e),Object.assign({},r.vars,r.style)},[t])}function l$(e,t){const r=e.style||{},n={};return xN(n,r,e),Object.assign(n,u$(e,t)),n}function c$(e,t){const r={},n=l$(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const f$={offset:"stroke-dashoffset",array:"stroke-dasharray"},d$={offset:"strokeDashoffset",array:"strokeDasharray"};function h$(e,t,r=1,n=0,o=!0){e.pathLength=1;const i=o?f$:d$;e[i.offset]=Pe.transform(-n);const s=Pe.transform(t),c=Pe.transform(r);e[i.array]=`${s} ${c}`}function AN(e,{attrX:t,attrY:r,attrScale:n,pathLength:o,pathSpacing:i=1,pathOffset:s=0,...c},h,u,f){if(wb(e,c,u),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v}=e;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&h$(p,o,i,s,!1)}const RN=()=>({..._b(),attrs:{}}),ON=e=>typeof e=="string"&&e.toLowerCase()==="svg";function p$(e,t,r,n){const o=$.useMemo(()=>{const i=RN();return AN(i,t,ON(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};xN(i,e.style,e),o.style={...i,...o.style}}return o}const m$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bb(e){return typeof e!="string"||e.includes("-")?!1:!!(m$.indexOf(e)>-1||/[A-Z]/u.test(e))}function v$(e,t,r,{latestValues:n},o,i=!1){const c=(bb(e)?p$:c$)(t,n,o,e),h=t$(t,typeof e=="string",i),u=e!==$.Fragment?{...h,...c,ref:r}:{},{children:f}=t,p=$.useMemo(()=>Xt(f)?f.get():f,[f]);return $.createElement(e,{...u,children:p})}function uT(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Sb(e,t,r,n){if(typeof t=="function"){const[o,i]=uT(n);t=t(r!==void 0?r:e.custom,o,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,i]=uT(n);t=t(r!==void 0?r:e.custom,o,i)}return t}function Dd(e){return Xt(e)?e.get():e}function y$({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,o){return{latestValues:g$(r,n,o,e),renderState:t()}}function g$(e,t,r,n){const o={},i=n(e,{});for(const v in i)o[v]=Dd(i[v]);let{initial:s,animate:c}=e;const h=Jh(e),u=CN(e);t&&u&&!h&&e.inherit!==!1&&(s===void 0&&(s=t.initial),c===void 0&&(c=t.animate));let f=r?r.initial===!1:!1;f=f||s===!1;const p=f?c:s;if(p&&typeof p!="boolean"&&!Yh(p)){const v=Array.isArray(p)?p:[p];for(let g=0;g<v.length;g++){const w=Sb(e,v[g]);if(w){const{transitionEnd:b,transition:T,...C}=w;for(const I in C){let x=C[I];if(Array.isArray(x)){const R=f?x.length-1:0;x=x[R]}x!==null&&(o[I]=x)}for(const I in b)o[I]=b[I]}}}return o}const PN=e=>(t,r)=>{const n=$.useContext(Kh),o=$.useContext(J_),i=()=>y$(e,t,n,o);return r?i():XU(i)};function Eb(e,t,r){var i;const{style:n}=e,o={};for(const s in n)(Xt(n[s])||t.style&&Xt(t.style[s])||IN(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(o[s]=n[s]);return o}const w$=PN({scrapeMotionValuesFromProps:Eb,createRenderState:_b});function NN(e,t,r){const n=Eb(e,t,r);for(const o in e)if(Xt(e[o])||Xt(t[o])){const i=du.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[i]=e[o]}return n}const _$=PN({scrapeMotionValuesFromProps:NN,createRenderState:RN}),b$=Symbol.for("motionComponentSymbol");function Ls(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function S$(e,t,r){return $.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ls(r)&&(r.current=n))},[t])}const Tb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E$="framerAppearId",LN="data-"+Tb(E$),DN=$.createContext({});function T$(e,t,r,n,o){var b,T;const{visualElement:i}=$.useContext(Kh),s=$.useContext(EN),c=$.useContext(J_),h=$.useContext(SN).reducedMotion,u=$.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const f=u.current,p=$.useContext(DN);f&&!f.projection&&o&&(f.type==="html"||f.type==="svg")&&C$(u.current,r,o,p);const v=$.useRef(!1);$.useInsertionEffect(()=>{f&&v.current&&f.update(r,c)});const g=r[LN],w=$.useRef(!!g&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,g))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,g)));return ZU(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),$.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,g)}),w.current=!1),f.enteringChildren=void 0)}),f}function C$(e,t,r,n){const{layoutId:o,layout:i,drag:s,dragConstraints:c,layoutScroll:h,layoutRoot:u,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:kN(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:!!s||c&&Ls(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:h,layoutRoot:u})}function kN(e){if(e)return e.options.allowProjection!==!1?e.projection:kN(e.parent)}function Nv(e,{forwardMotionProps:t=!1}={},r,n){r&&X4(r);const o=bb(e)?_$:w$;function i(c,h){let u;const f={...$.useContext(SN),...c,layoutId:I$(c)},{isStatic:p}=f,v=n$(c),g=o(c,p);if(!p&&Y_){x$();const w=A$(f);u=w.MeasureLayout,v.visualElement=T$(e,g,f,n,w.ProjectionNode)}return ae.jsxs(Kh.Provider,{value:v,children:[u&&v.visualElement?ae.jsx(u,{visualElement:v.visualElement,...f}):null,v$(e,c,S$(g,v.visualElement,h),g,p,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=$.forwardRef(i);return s[b$]=e,s}function I$({layoutId:e}){const t=$.useContext(PP).id;return t&&e!==void 0?t+"-"+e:e}function x$(e,t){$.useContext(EN).strict}function A$(e){const{drag:t,layout:r}=ru;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function R$(e,t){if(typeof Proxy>"u")return Nv;const r=new Map,n=(i,s)=>Nv(i,s,e,t),o=(i,s)=>n(i,s);return new Proxy(o,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,Nv(s,void 0,e,t)),r.get(s))})}function MN({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function O$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function P$(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Lv(e){return e===void 0||e===1}function Vw({scale:e,scaleX:t,scaleY:r}){return!Lv(e)||!Lv(t)||!Lv(r)}function ca(e){return Vw(e)||FN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FN(e){return lT(e.x)||lT(e.y)}function lT(e){return e&&e!=="0%"}function ah(e,t,r){const n=e-r,o=t*n;return r+o}function cT(e,t,r,n,o){return o!==void 0&&(e=ah(e,o,n)),ah(e,r,n)+t}function Ww(e,t=0,r=1,n,o){e.min=cT(e.min,t,r,n,o),e.max=cT(e.max,t,r,n,o)}function jN(e,{x:t,y:r}){Ww(e.x,t.translate,t.scale,t.originPoint),Ww(e.y,r.translate,r.scale,r.originPoint)}const fT=.999999999999,dT=1.0000000000001;function N$(e,t,r,n=!1){const o=r.length;if(!o)return;t.x=t.y=1;let i,s;for(let c=0;c<o;c++){i=r[c],s=i.projectionDelta;const{visualElement:h}=i.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ks(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,jN(e,s)),n&&ca(i.latestValues)&&ks(e,i.latestValues))}t.x<dT&&t.x>fT&&(t.x=1),t.y<dT&&t.y>fT&&(t.y=1)}function Ds(e,t){e.min=e.min+t,e.max=e.max+t}function hT(e,t,r,n,o=.5){const i=ft(e.min,e.max,o);Ww(e,t,r,i,n)}function ks(e,t){hT(e.x,t.x,t.scaleX,t.scale,t.originX),hT(e.y,t.y,t.scaleY,t.scale,t.originY)}function UN(e,t){return MN(P$(e.getBoundingClientRect(),t))}function L$(e,t,r){const n=UN(e,r),{scroll:o}=t;return o&&(Ds(n.x,o.offset.x),Ds(n.y,o.offset.y)),n}const pT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ms=()=>({x:pT(),y:pT()}),mT=()=>({min:0,max:0}),Ot=()=>({x:mT(),y:mT()}),Hw={current:null},BN={current:!1};function D$(){if(BN.current=!0,!!Y_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hw.current=e.matches;e.addEventListener("change",t),t()}else Hw.current=!1}const k$=new WeakMap;function M$(e,t,r){for(const n in t){const o=t[n],i=r[n];if(Xt(o))e.addValue(n,o);else if(Xt(i))e.addValue(n,tu(o,{owner:e}));else if(i!==o)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(o):s.hasAnimated||s.set(o)}else{const s=e.getStaticValue(n);e.addValue(n,tu(s!==void 0?s:o,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const vT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class F${scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:i,visualState:s},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=db,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Or.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ut.render(this.render,!1,!0))};const{latestValues:h,renderState:u}=s;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Jh(r),this.isVariantNode=CN(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in p){const g=p[v];h[v]!==void 0&&Xt(g)&&g.set(h[v])}}mount(t){var r;this.current=t,k$.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,o)=>this.bindToMotionValue(o,n)),BN.current||D$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hw.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=hu.has(t);n&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&ut.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{o(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ru){const r=ru[t];if(!r)continue;const{isEnabled:n,Feature:o}=r;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<vT.length;n++){const o=vT[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i="on"+o,s=t[i];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=M$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=tu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(NP(n)||DP(n))?n=parseFloat(n):!J4(n)&&Lo.test(r)&&(n=vN(t,r)),this.setBaseTarget(t,Xt(n)?n.get():n)),Xt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Sb(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Xt(o)?o:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new tb),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){mb.render(this.render)}}class $N extends F${constructor(){super(...arguments),this.KeyframeResolver=F4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qN(e,{style:t,vars:r},n,o){const i=e.style;let s;for(s in t)i[s]=t[s];o==null||o.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function j$(e){return window.getComputedStyle(e)}class U$ extends $N{constructor(){super(...arguments),this.type="html",this.renderInstance=qN}readValueFromInstance(t,r){var n;if(hu.has(r))return(n=this.projection)!=null&&n.isProjecting?kw(r):r4(t,r);{const o=j$(t),i=(KP(r)?o.getPropertyValue(r):o[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return UN(t,r)}build(t,r,n){wb(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Eb(t,r,n)}}const VN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B$(e,t,r,n){qN(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(VN.has(o)?o:Tb(o),t.attrs[o])}class $$ extends $N{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(hu.has(r)){const n=mN(r);return n&&n.default||0}return r=VN.has(r)?r:Tb(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return NN(t,r,n)}build(t,r,n){AN(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,o){B$(t,r,n,o)}mount(t){this.isSVGTag=ON(t.tagName),super.mount(t)}}const q$=(e,t)=>bb(e)?new $$(t):new U$(t,{allowProjection:e!==$.Fragment});function Gs(e,t,r){const n=e.getProps();return Sb(n,t,r!==void 0?r:n.custom,e)}const Gw=e=>Array.isArray(e);function V$(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,tu(r))}function W$(e){return Gw(e)?e[e.length-1]||0:e}function H$(e,t){const r=Gs(e,t);let{transitionEnd:n={},transition:o={},...i}=r||{};i={...i,...n};for(const s in i){const c=W$(i[s]);V$(e,s,c)}}function G$(e){return!!(Xt(e)&&e.add)}function zw(e,t){const r=e.getValue("willChange");if(G$(r))return r.add(t);if(!r&&Hi.WillChange){const n=new Hi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function WN(e){return e.props[LN]}const z$=e=>e!==null;function K$(e,{repeat:t,repeatType:r="loop"},n){const o=e.filter(z$),i=t&&r!=="loop"&&t%2===1?0:o.length-1;return o[i]}const Y$={type:"spring",stiffness:500,damping:25,restSpeed:10},J$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Q$={type:"keyframes",duration:.8},X$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z$=(e,{keyframes:t})=>t.length>2?Q$:hu.has(e)?e.startsWith("scale")?J$(t[1]):Y$:X$;function e6({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:c,from:h,elapsed:u,...f}){return!!Object.keys(f).length}const Cb=(e,t,r,n={},o,i)=>s=>{const c=hb(n,e)||{},h=c.delay||n.delay||0;let{elapsed:u=0}=n;u=u-vi(h);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-u,onUpdate:v=>{t.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{s(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:o};e6(c)||Object.assign(f,Z$(e,f)),f.duration&&(f.duration=vi(f.duration)),f.repeatDelay&&(f.repeatDelay=vi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Bw(f),f.delay===0&&(p=!0)),(Hi.instantAnimations||Hi.skipAnimations)&&(p=!0,Bw(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,p&&!i&&t.get()!==void 0){const v=K$(f.keyframes,c);if(v!==void 0){ut.update(()=>{f.onUpdate(v),f.onComplete()});return}}return c.isSync?new fb(f):new C4(f)};function t6({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function HN(e,t,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...c}=t;n&&(i=n);const h=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const f in c){const p=e.getValue(f,e.latestValues[f]??null),v=c[f];if(v===void 0||u&&t6(u,f))continue;const g={delay:r,...hb(i||{},f)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===w&&!g.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const C=WN(e);if(C){const I=window.MotionHandoffAnimation(C,f,ut);I!==null&&(g.startTime=I,b=!0)}}zw(e,f),p.start(Cb(f,p,v,e.shouldReduceMotion&&dN.has(f)?{type:!1}:g,e,b));const T=p.animation;T&&h.push(T)}return s&&Promise.all(h).then(()=>{ut.update(()=>{s&&H$(e,s)})}),h}function GN(e,t,r,n=0,o=1){const i=Array.from(e).sort((u,f)=>u.sortNodePosition(f)).indexOf(t),s=e.size,c=(s-1)*n;return typeof r=="function"?r(i,s):o===1?i*n:c-i*n}function Kw(e,t,r={}){var h;const n=Gs(e,t,r.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);const i=n?()=>Promise.all(HN(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:v}=o;return r6(e,t,u,f,p,v,r)}:()=>Promise.resolve(),{when:c}=o;if(c){const[u,f]=c==="beforeChildren"?[i,s]:[s,i];return u().then(()=>f())}else return Promise.all([i(),s(r.delay)])}function r6(e,t,r=0,n=0,o=0,i=1,s){const c=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),c.push(Kw(h,t,{...s,delay:r+(typeof n=="function"?0:n)+GN(e.variantChildren,h,n,o,i)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(c)}function n6(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(i=>Kw(e,i,r));n=Promise.all(o)}else if(typeof t=="string")n=Kw(e,t,r);else{const o=typeof t=="function"?Gs(e,t,r.custom):t;n=Promise.all(HN(e,o,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function zN(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const i6=gb.length;function KN(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?KN(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<i6;r++){const n=gb[r],o=e.props[n];(tc(o)||o===!1)&&(t[n]=o)}return t}const o6=[...yb].reverse(),a6=yb.length;function s6(e){return t=>Promise.all(t.map(({animation:r,options:n})=>n6(e,r,n)))}function u6(e){let t=s6(e),r=yT(),n=!0;const o=h=>(u,f)=>{var v;const p=Gs(e,f,h==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(p){const{transition:g,transitionEnd:w,...b}=p;u={...u,...b,...w}}return u};function i(h){t=h(e)}function s(h){const{props:u}=e,f=KN(e.parent)||{},p=[],v=new Set;let g={},w=1/0;for(let T=0;T<a6;T++){const C=o6[T],I=r[C],x=u[C]!==void 0?u[C]:f[C],R=tc(x),L=C===h?I.isActive:null;L===!1&&(w=T);let F=x===f[C]&&x!==u[C]&&R;if(F&&n&&e.manuallyAnimateOnMount&&(F=!1),I.protectedKeys={...g},!I.isActive&&L===null||!x&&!I.prevProp||Yh(x)||typeof x=="boolean")continue;const H=l6(I.prevProp,x);let V=H||C===h&&I.isActive&&!F&&R||T>w&&R,D=!1;const B=Array.isArray(x)?x:[x];let U=B.reduce(o(C),{});L===!1&&(U={});const{prevResolvedValues:K={}}=I,Q={...K,...U},ee=ue=>{V=!0,v.has(ue)&&(D=!0,v.delete(ue)),I.needsAnimating[ue]=!0;const Y=e.getValue(ue);Y&&(Y.liveStyle=!1)};for(const ue in Q){const Y=U[ue],X=K[ue];if(g.hasOwnProperty(ue))continue;let J=!1;Gw(Y)&&Gw(X)?J=!zN(Y,X):J=Y!==X,J?Y!=null?ee(ue):v.add(ue):Y!==void 0&&v.has(ue)?ee(ue):I.protectedKeys[ue]=!0}I.prevProp=x,I.prevResolvedValues=U,I.isActive&&(g={...g,...U}),n&&e.blockInitialAnimation&&(V=!1);const fe=F&&H;V&&(!fe||D)&&p.push(...B.map(ue=>{const Y={type:C};if(typeof ue=="string"&&n&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:X}=e,J=Gs(X,ue);if(X.enteringChildren&&J){const{delayChildren:M}=J.transition||{};Y.delay=GN(X.enteringChildren,e,M)}}return{animation:ue,options:Y}}))}if(v.size){const T={};if(typeof u.initial!="boolean"){const C=Gs(e,Array.isArray(u.initial)?u.initial[0]:u.initial);C&&C.transition&&(T.transition=C.transition)}v.forEach(C=>{const I=e.getBaseTarget(C),x=e.getValue(C);x&&(x.liveStyle=!0),T[C]=I??null}),p.push({animation:T})}let b=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(p):Promise.resolve()}function c(h,u){var p;if(r[h].isActive===u)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(v=>{var g;return(g=v.animationState)==null?void 0:g.setActive(h,u)}),r[h].isActive=u;const f=s(h);for(const v in r)r[v].protectedKeys={};return f}return{animateChanges:s,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=yT()}}}function l6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zN(t,e):!1}function ea(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yT(){return{animate:ea(!0),whileInView:ea(),whileHover:ea(),whileTap:ea(),whileDrag:ea(),whileFocus:ea(),exit:ea()}}class Fo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class c6 extends Fo{constructor(t){super(t),t.animationState||(t.animationState=u6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let f6=0;class d6 extends Fo{constructor(){super(...arguments),this.id=f6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);r&&!t&&o.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const h6={animation:{Feature:c6},exit:{Feature:d6}};function rc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Cc(e){return{point:{x:e.pageX,y:e.pageY}}}const p6=e=>t=>vb(t)&&e(t,Cc(t));function Ul(e,t,r,n){return rc(e,t,p6(r),n)}const YN=1e-4,m6=1-YN,v6=1+YN,JN=.01,y6=0-JN,g6=0+JN;function lr(e){return e.max-e.min}function w6(e,t,r){return Math.abs(e-t)<=r}function gT(e,t,r,n=.5){e.origin=n,e.originPoint=ft(t.min,t.max,e.origin),e.scale=lr(r)/lr(t),e.translate=ft(r.min,r.max,e.origin)-e.originPoint,(e.scale>=m6&&e.scale<=v6||isNaN(e.scale))&&(e.scale=1),(e.translate>=y6&&e.translate<=g6||isNaN(e.translate))&&(e.translate=0)}function Bl(e,t,r,n){gT(e.x,t.x,r.x,n?n.originX:void 0),gT(e.y,t.y,r.y,n?n.originY:void 0)}function wT(e,t,r){e.min=r.min+t.min,e.max=e.min+lr(t)}function _6(e,t,r){wT(e.x,t.x,r.x),wT(e.y,t.y,r.y)}function _T(e,t,r){e.min=t.min-r.min,e.max=e.min+lr(t)}function sh(e,t,r){_T(e.x,t.x,r.x),_T(e.y,t.y,r.y)}function rn(e){return[e("x"),e("y")]}const QN=({current:e})=>e?e.ownerDocument.defaultView:null,bT=(e,t)=>Math.abs(e-t);function b6(e,t){const r=bT(e.x,t.x),n=bT(e.y,t.y);return Math.sqrt(r**2+n**2)}class XN{constructor(t,r,{transformPagePoint:n,contextWindow:o=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=kv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,w=b6(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!w)return;const{point:b}=v,{timestamp:T}=qt;this.history.push({...b,timestamp:T});const{onStart:C,onMove:I}=this.handlers;g||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,v)},this.handlePointerMove=(v,g)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Dv(g,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(v,g)=>{this.end();const{onEnd:w,onSessionEnd:b,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=kv(v.type==="pointercancel"?this.lastMoveEventInfo:Dv(g,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,C),b&&b(v,C)},!vb(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=o||window;const c=Cc(t),h=Dv(c,this.transformPagePoint),{point:u}=h,{timestamp:f}=qt;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=r;p&&p(t,kv(h,this.history)),this.removeListeners=Sc(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}}function Dv(e,t){return t?{point:t(e.point)}:e}function ST(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kv({point:e},t){return{point:e,delta:ST(e,ZN(t)),offset:ST(e,S6(t)),velocity:E6(t,.1)}}function S6(e){return e[0]}function ZN(e){return e[e.length-1]}function E6(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=ZN(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>vi(t)));)r--;if(!n)return{x:0,y:0};const i=dn(o.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-n.x)/i,y:(o.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function T6(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ft(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ft(r,e,n.max):Math.min(e,r)),e}function ET(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function C6(e,{top:t,left:r,bottom:n,right:o}){return{x:ET(e.x,r,o),y:ET(e.y,t,n)}}function TT(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function I6(e,t){return{x:TT(e.x,t.x),y:TT(e.y,t.y)}}function x6(e,t){let r=.5;const n=lr(e),o=lr(t);return o>n?r=Xl(t.min,t.max-n,e.min):n>o&&(r=Xl(e.min,e.max-o,t.min)),Wi(0,1,r)}function A6(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Yw=.35;function R6(e=Yw){return e===!1?e=0:e===!0&&(e=Yw),{x:CT(e,"left","right"),y:CT(e,"top","bottom")}}function CT(e,t,r){return{min:IT(e,t),max:IT(e,r)}}function IT(e,t){return typeof e=="number"?e:e[t]||0}const O6=new WeakMap;class P6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Cc(p).point)},s=(p,v)=>{const{drag:g,dragPropagation:w,onDragStart:b}=this.getProps();if(g&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q4(g),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(C=>{let I=this.getAxisMotionValue(C).get()||0;if(yi.test(I)){const{projection:x}=this.visualElement;if(x&&x.layout){const R=x.layout.layoutBox[C];R&&(I=lr(R)*(parseFloat(I)/100))}}this.originPoint[C]=I}),b&&ut.postRender(()=>b(p,v)),zw(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v;const{dragPropagation:g,dragDirectionLock:w,onDirectionLock:b,onDrag:T}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:C}=v;if(w&&this.currentDirection===null){this.currentDirection=N6(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),T&&T(p,v)},h=(p,v)=>{this.latestPointerEvent=p,this.latestPanInfo=v,this.stop(p,v),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>rn(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)==null?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new XN(t,{onSessionStart:i,onStart:s,onMove:c,onSessionEnd:h,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:QN(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,o=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!o||!n)return;const{velocity:s}=o;this.startAnimation(s);const{onDragEnd:c}=this.getProps();c&&ut.postRender(()=>c(n,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:o}=this.getProps();if(!n||!Qf(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=T6(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,o=this.constraints;t&&Ls(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=C6(n.layoutBox,t):this.constraints=!1,this.elastic=R6(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&rn(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=A6(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ls(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=L$(n,o.root,this.visualElement.getTransformPagePoint());let s=I6(o.layout.layoutBox,i);if(r){const c=r(O$(s));this.hasMutatedConstraints=!!c,c&&(s=MN(c))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},u=rn(f=>{if(!Qf(f,r,this.currentDirection))return;let p=h&&h[f]||{};s&&(p={min:0,max:0});const v=o?200:1e6,g=o?40:1e7,w={type:"inertia",velocity:n?t[f]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(u).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return zw(this.visualElement,t),n.start(Cb(t,n,0,r,this.visualElement,!1))}stopAnimation(){rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){rn(r=>{const{drag:n}=this.getProps();if(!Qf(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(r);if(o&&o.layout){const{min:s,max:c}=o.layout.layoutBox[r];i.set(t[r]-ft(s,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ls(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};rn(s=>{const c=this.getAxisMotionValue(s);if(c&&this.constraints!==!1){const h=c.get();o[s]=x6({min:h,max:h},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),rn(s=>{if(!Qf(s,t,null))return;const c=this.getAxisMotionValue(s),{min:h,max:u}=this.constraints[s];c.set(ft(h,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;O6.set(this.visualElement,this);const t=this.visualElement.current,r=Ul(t,"pointerdown",h=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Ls(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ut.read(n);const s=rc(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:u})=>{this.isDragging&&u&&(rn(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=h[f].translate,p.set(p.get()+h[f].translate))}),this.visualElement.render())}));return()=>{s(),r(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=Yw,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:c}}}function Qf(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function N6(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class L6 extends Fo{constructor(t){super(t),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new P6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xT=e=>(t,r)=>{e&&ut.postRender(()=>e(t,r))};class D6 extends Fo{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(t){this.session=new XN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:xT(t),onStart:xT(r),onMove:n,onEnd:(i,s)=>{delete this.session,o&&ut.postRender(()=>o(i,s))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Mv=!1;class k6 extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&o&&n.register(i),Mv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:o,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,Mv=!0,o||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||ut.postRender(()=>{const c=s.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;Mv=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eL(e){const[t,r]=Q4(),n=$.useContext(PP);return ae.jsx(k6,{...e,layoutGroup:n,switchLayoutGroup:$.useContext(DN),isPresent:t,safeToRemove:r})}function M6(e,t,r){const n=Xt(e)?e:tu(e);return n.start(Cb("",n,t,r)),n.animation}const F6=(e,t)=>e.depth-t.depth;class j6{constructor(){this.children=[],this.isDirty=!1}add(t){Q_(this.children,t),this.isDirty=!0}remove(t){X_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(F6),this.isDirty=!1,this.children.forEach(t)}}function U6(e,t){const r=Or.now(),n=({timestamp:o})=>{const i=o-r;i>=t&&(No(n),e(i-t))};return ut.setup(n,!0),()=>No(n)}const tL=["TopLeft","TopRight","BottomLeft","BottomRight"],B6=tL.length,AT=e=>typeof e=="string"?parseFloat(e):e,RT=e=>typeof e=="number"||Pe.test(e);function $6(e,t,r,n,o,i){o?(e.opacity=ft(0,r.opacity??1,q6(n)),e.opacityExit=ft(t.opacity??1,0,V6(n))):i&&(e.opacity=ft(t.opacity??1,r.opacity??1,n));for(let s=0;s<B6;s++){const c=`border${tL[s]}Radius`;let h=OT(t,c),u=OT(r,c);if(h===void 0&&u===void 0)continue;h||(h=0),u||(u=0),h===0||u===0||RT(h)===RT(u)?(e[c]=Math.max(ft(AT(h),AT(u),n),0),(yi.test(u)||yi.test(h))&&(e[c]+="%")):e[c]=u}(t.rotate||r.rotate)&&(e.rotate=ft(t.rotate||0,r.rotate||0,n))}function OT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const q6=rL(0,.5,qP),V6=rL(.5,.95,hn);function rL(e,t,r){return n=>n<e?0:n>t?1:r(Xl(e,t,n))}function PT(e,t){e.min=t.min,e.max=t.max}function On(e,t){PT(e.x,t.x),PT(e.y,t.y)}function NT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function LT(e,t,r,n,o){return e-=t,e=ah(e,1/r,n),o!==void 0&&(e=ah(e,1/o,n)),e}function W6(e,t=0,r=1,n=.5,o,i=e,s=e){if(yi.test(t)&&(t=parseFloat(t),t=ft(s.min,s.max,t/100)-s.min),typeof t!="number")return;let c=ft(i.min,i.max,n);e===i&&(c-=t),e.min=LT(e.min,t,r,c,o),e.max=LT(e.max,t,r,c,o)}function DT(e,t,[r,n,o],i,s){W6(e,t[r],t[n],t[o],t.scale,i,s)}const H6=["x","scaleX","originX"],G6=["y","scaleY","originY"];function kT(e,t,r,n){DT(e.x,t,H6,r?r.x:void 0,n?n.x:void 0),DT(e.y,t,G6,r?r.y:void 0,n?n.y:void 0)}function MT(e){return e.translate===0&&e.scale===1}function nL(e){return MT(e.x)&&MT(e.y)}function FT(e,t){return e.min===t.min&&e.max===t.max}function z6(e,t){return FT(e.x,t.x)&&FT(e.y,t.y)}function jT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iL(e,t){return jT(e.x,t.x)&&jT(e.y,t.y)}function UT(e){return lr(e.x)/lr(e.y)}function BT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class K6{constructor(){this.members=[]}add(t){Q_(this.members,t),t.scheduleRender()}remove(t){if(X_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y6(e,t,r){let n="";const o=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((o||i||s)&&(n=`translate3d(${o}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:v,skewX:g,skewY:w}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),v&&(n+=`rotateY(${v}deg) `),g&&(n+=`skewX(${g}deg) `),w&&(n+=`skewY(${w}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(n+=`scale(${c}, ${h})`),n||"none"}const Fv=["","X","Y","Z"],J6=1e3;let Q6=0;function jv(e,t,r,n){const{latestValues:o}=t;o[e]&&(r[e]=o[e],t.setStaticValue(e,0),n&&(n[e]=0))}function oL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=WN(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ut,!(o||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&oL(n)}function aL({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(s={},c=t==null?void 0:t()){this.id=Q6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eq),this.nodes.forEach(iq),this.nodes.forEach(oq),this.nodes.forEach(tq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new j6)}addEventListener(s,c){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new tb),this.eventHandlers.get(s).add(c)}notifyListeners(s,...c){const h=this.eventHandlers.get(s);h&&h.notify(...c)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=bN(s)&&!K4(s),this.instance=s;const{layoutId:c,layout:h,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),e){let f,p=0;const v=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{p=window.innerWidth}),e(s,()=>{const g=window.innerWidth;g!==p&&(p=g,this.root.updateBlockedByResize=!0,f&&f(),f=U6(v,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(VT)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||cq,{onLayoutAnimationStart:b,onLayoutAnimationComplete:T}=u.getProps(),C=!this.targetLayout||!iL(this.targetLayout,g),I=!p&&v;if(this.options.layoutRoot||this.resumeFrom||I||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...hb(w,"layout"),onPlay:b,onComplete:T};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(f,I)}else p||VT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aq),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($T);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nq),this.nodes.forEach(X6),this.nodes.forEach(Z6)):this.nodes.forEach(qT),this.clearAllSnapshots();const c=Or.now();qt.delta=Wi(0,1e3/60,c-qt.timestamp),qt.timestamp=c,qt.isProcessing=!0,Iv.update.process(qt),Iv.preRender.process(qt),Iv.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rq),this.sharedNodes.forEach(sq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lr(this.snapshot.measuredBox.x)&&!lr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(c=!1),c&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!nL(this.projectionDelta),h=this.getTransformTemplate(),u=h?h(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;s&&this.instance&&(c||ca(this.latestValues)||f)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return s&&(h=this.removeTransform(h)),fq(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Ot();const c=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(dq))){const{scroll:f}=this.root;f&&(Ds(c.x,f.offset.x),Ds(c.y,f.offset.y))}return c}removeElementScroll(s){var h;const c=Ot();if(On(c,s),(h=this.scroll)!=null&&h.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:v}=f;f!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&On(c,s),Ds(c.x,p.offset.x),Ds(c.y,p.offset.y))}return c}applyTransform(s,c=!1){const h=Ot();On(h,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ks(h,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ca(f.latestValues)&&ks(h,f.latestValues)}return ca(this.latestValues)&&ks(h,this.latestValues),h}removeTransform(s){const c=Ot();On(c,s);for(let h=0;h<this.path.length;h++){const u=this.path[h];if(!u.instance||!ca(u.latestValues))continue;Vw(u.latestValues)&&u.updateSnapshot();const f=Ot(),p=u.measurePageBox();On(f,p),kT(c,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return ca(this.latestValues)&&kT(c,this.latestValues),c}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(s||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=qt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),jN(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Vw(this.parent.latestValues)||FN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,c,h){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),sh(this.relativeTargetOrigin,c,h),On(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const s=this.getLead(),c=!!this.resumingFrom||this!==s;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(h=!1),h)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;On(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;N$(this.layoutCorrected,this.treeScale,this.path,c),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ot());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NT(this.prevProjectionDelta.x,this.projectionDelta.x),NT(this.prevProjectionDelta.y,this.projectionDelta.y)),Bl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!BT(this.projectionDelta.x,this.prevProjectionDelta.x)||!BT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),s){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ms(),this.projectionDelta=Ms(),this.projectionDeltaWithTransform=Ms()}setAnimationOrigin(s,c=!1){const h=this.snapshot,u=h?h.latestValues:{},f={...this.latestValues},p=Ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Ot(),g=h?h.source:void 0,w=this.layout?this.layout.source:void 0,b=g!==w,T=this.getStack(),C=!T||T.members.length<=1,I=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(lq));this.animationProgress=0;let x;this.mixTargetDelta=R=>{const L=R/1e3;WT(p.x,s.x,L),WT(p.y,s.y,L),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sh(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uq(this.relativeTarget,this.relativeTargetOrigin,v,L),x&&z6(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ot()),On(x,this.relativeTarget)),b&&(this.animationValues=f,$6(f,u,this.latestValues,L,I,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var c,h,u;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(u=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||u.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tu(0)),this.currentAnimation=M6(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),s.onUpdate&&s.onUpdate(f)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:c,target:h,layout:u,latestValues:f}=s;if(!(!c||!h||!u)){if(this!==s&&this.layout&&u&&sL(this.options.animationType,this.layout.layoutBox,u.layoutBox)){h=this.target||Ot();const p=lr(this.layout.layoutBox.x);h.x.min=s.target.x.min,h.x.max=h.x.min+p;const v=lr(this.layout.layoutBox.y);h.y.min=s.target.y.min,h.y.max=h.y.min+v}On(c,h),ks(c,f),Bl(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(s,c){this.sharedNodes.has(s)||this.sharedNodes.set(s,new K6),this.sharedNodes.get(s).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var c;const{layoutId:s}=this.options;return s?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:s}=this.options;return s?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:c,preserveFollowOpacity:h}={}){const u=this.getStack();u&&u.promote(this,h),s&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let c=!1;const{latestValues:h}=s;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const u={};h.z&&jv("z",s,u,this.animationValues);for(let f=0;f<Fv.length;f++)jv(`rotate${Fv[f]}`,s,u,this.animationValues),jv(`skew${Fv[f]}`,s,u,this.animationValues);s.render();for(const f in u)s.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);s.scheduleRender()}applyProjectionStyles(s,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Dd(c==null?void 0:c.pointerEvents)||"",s.transform=h?h(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Dd(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(s.transform=h?h({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=Y6(this.projectionDeltaWithTransform,this.treeScale,f);h&&(p=h(f,p)),s.transform=p;const{x:v,y:g}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,u.animationValues?s.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in qw){if(f[w]===void 0)continue;const{correct:b,applyTo:T,isCSSVariable:C}=qw[w],I=p==="none"?f[w]:b(f[w],u);if(T){const x=T.length;for(let R=0;R<x;R++)s[T[R]]=I}else C?this.options.visualElement.renderState.vars[w]=I:s[w]=I}this.options.layoutId&&(s.pointerEvents=u===this?Dd(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var c;return(c=s.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach($T),this.root.sharedNodes.clear()}}}function X6(e){e.updateLayout()}function Z6(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?rn(p=>{const v=s?t.measuredBox[p]:t.layoutBox[p],g=lr(v);v.min=n[p].min,v.max=v.min+g}):sL(i,t.layoutBox,n)&&rn(p=>{const v=s?t.measuredBox[p]:t.layoutBox[p],g=lr(n[p]);v.max=v.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+g)});const c=Ms();Bl(c,n,t.layoutBox);const h=Ms();s?Bl(h,e.applyTransform(o,!0),t.measuredBox):Bl(h,n,t.layoutBox);const u=!nL(c);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:g}=p;if(v&&g){const w=Ot();sh(w,t.layoutBox,v.layoutBox);const b=Ot();sh(b,n,g.layoutBox),iL(w,b)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function eq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rq(e){e.clearSnapshot()}function $T(e){e.clearMeasurements()}function qT(e){e.isLayoutDirty=!1}function nq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function VT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iq(e){e.resolveTargetDelta()}function oq(e){e.calcProjection()}function aq(e){e.resetSkewAndRotation()}function sq(e){e.removeLeadSnapshot()}function WT(e,t,r){e.translate=ft(t.translate,0,r),e.scale=ft(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function HT(e,t,r,n){e.min=ft(t.min,r.min,n),e.max=ft(t.max,r.max,n)}function uq(e,t,r,n){HT(e.x,t.x,r.x,n),HT(e.y,t.y,r.y,n)}function lq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cq={duration:.45,ease:[.4,0,.1,1]},GT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zT=GT("applewebkit/")&&!GT("chrome/")?Math.round:hn;function KT(e){e.min=zT(e.min),e.max=zT(e.max)}function fq(e){KT(e.x),KT(e.y)}function sL(e,t,r){return e==="position"||e==="preserve-aspect"&&!w6(UT(t),UT(r),.2)}function dq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hq=aL({attachResizeListener:(e,t)=>rc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uv={current:void 0},uL=aL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Uv.current){const e=new hq({});e.mount(window),e.setOptions({layoutScroll:!0}),Uv.current=e}return Uv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pq={pan:{Feature:D6},drag:{Feature:L6,ProjectionNode:uL,MeasureLayout:eL}};function YT(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,i=n[o];i&&ut.postRender(()=>i(t,Cc(t)))}class mq extends Fo{mount(){const{current:t}=this.node;t&&(this.unmount=V4(t,(r,n)=>(YT(this.node,n,"Start"),o=>YT(this.node,o,"End"))))}unmount(){}}class vq extends Fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(rc(this.node.current,"focus",()=>this.onFocus()),rc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JT(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),i=n[o];i&&ut.postRender(()=>i(t,Cc(t)))}class yq extends Fo{mount(){const{current:t}=this.node;t&&(this.unmount=z4(t,(r,n)=>(JT(this.node,n,"Start"),(o,{success:i})=>JT(this.node,o,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jw=new WeakMap,Bv=new WeakMap,gq=e=>{const t=Jw.get(e.target);t&&t(e)},wq=e=>{e.forEach(gq)};function _q({root:e,...t}){const r=e||document;Bv.has(r)||Bv.set(r,{});const n=Bv.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(wq,{root:e,...t})),n[o]}function bq(e,t,r){const n=_q(t);return Jw.set(e,r),n.observe(e),()=>{Jw.delete(e),n.unobserve(e)}}const Sq={some:0,all:1};class Eq extends Fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:Sq[o]},c=h=>{const{isIntersecting:u}=h;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),v=u?f:p;v&&v(h)};return bq(this.node.current,s,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Tq(t,r))&&this.startObserver()}unmount(){}}function Tq({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Cq={inView:{Feature:Eq},tap:{Feature:yq},focus:{Feature:vq},hover:{Feature:mq}},Iq={layout:{ProjectionNode:uL,MeasureLayout:eL}},xq={...h6,...Cq,...pq,...Iq},lL=R$(xq,q$),Aq=({video:e})=>{const[t,r]=$.useState(!1);return ae.jsx(K_,{to:`/video/${e._id}`,children:ae.jsxs(lL.div,{className:"bg-ios-card rounded-ios shadow-ios overflow-hidden cursor-pointer group h-full flex flex-col",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[ae.jsxs("div",{"trae-inspector-start-line":"24","trae-inspector-start-column":"8","trae-inspector-end-line":"50","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"relative aspect-video bg-gray-200 overflow-hidden",children:[!t&&ae.jsx("div",{"trae-inspector-start-line":"26","trae-inspector-start-column":"12","trae-inspector-end-line":"26","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"absolute inset-0 animate-pulse bg-gray-300"}),ae.jsx("img",{"trae-inspector-start-line":"28","trae-inspector-start-column":"10","trae-inspector-end-line":"36","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",src:e.URL,alt:e.Name,loading:"lazy",className:`w-full h-full object-cover transition-opacity duration-500 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>r(!0)}),ae.jsx("div",{"trae-inspector-start-line":"37","trae-inspector-start-column":"10","trae-inspector-end-line":"39","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"absolute inset-0 bg-black/10 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:ae.jsx(DU,{className:"text-white opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300 w-12 h-12"})}),(e.Year||e.Time)&&ae.jsx("div",{"trae-inspector-start-line":"42","trae-inspector-start-column":"13","trae-inspector-end-line":"44","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md text-white text-xs px-2 py-1 rounded-full font-medium",children:e.Year||e.Time})]}),ae.jsxs("div",{"trae-inspector-start-line":"52","trae-inspector-start-column":"8","trae-inspector-end-line":"60","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"p-4 flex flex-col flex-grow",children:[ae.jsx("h3",{"trae-inspector-start-line":"53","trae-inspector-start-column":"10","trae-inspector-end-line":"53","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-lg font-bold text-ios-text mb-2 line-clamp-1",children:e.Name}),ae.jsx("p",{"trae-inspector-start-line":"54","trae-inspector-start-column":"10","trae-inspector-end-line":"54","trae-inspector-end-column":"94","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-sm text-ios-subtext line-clamp-2 mb-4 flex-grow",children:e.Info}),ae.jsxs("div",{"trae-inspector-start-line":"56","trae-inspector-start-column":"10","trae-inspector-end-line":"59","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex items-center text-xs text-ios-subtext mt-auto",children:[ae.jsx(OP,{className:"w-3 h-3 mr-1"}),ae.jsxs("span",{"trae-inspector-start-line":"58","trae-inspector-start-column":"13","trae-inspector-end-line":"58","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\VideoCard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",children:[e.Year||e.Time,""]})]})]})]})})},Rq=()=>ae.jsx("div",{"trae-inspector-start-line":"5","trae-inspector-start-column":"4","trae-inspector-end-line":"7","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\Loading.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex justify-center items-center p-4",children:ae.jsx("div",{"trae-inspector-start-line":"6","trae-inspector-start-column":"6","trae-inspector-end-line":"6","trae-inspector-end-column":"89","trae-inspector-file-path":"src\\\\components\\\\Loading.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),Oq=()=>ae.jsx("div",{"trae-inspector-start-line":"13","trae-inspector-start-column":"4","trae-inspector-end-line":"15","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\Loading.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex justify-center items-center min-h-[50vh]",children:ae.jsx("div",{"trae-inspector-start-line":"14","trae-inspector-start-column":"6","trae-inspector-end-line":"14","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\Loading.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),QT=e=>{let t;const r=new Set,n=(u,f)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const v=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(g=>g(t,v))}},o=()=>t,c={setState:n,getState:o,getInitialState:()=>h,subscribe:u=>(r.add(u),()=>r.delete(u))},h=t=e(n,o,c);return c},Pq=(e=>e?QT(e):QT),Nq=e=>e;function Lq(e,t=Nq){const r=Gf.useSyncExternalStore(e.subscribe,Gf.useCallback(()=>t(e.getState()),[e,t]),Gf.useCallback(()=>t(e.getInitialState()),[e,t]));return Gf.useDebugValue(r),r}const XT=e=>{const t=Pq(e),r=n=>Lq(t,n);return Object.assign(r,t),r},Dq=(e=>e?XT(e):XT),cL=Dq(e=>({videos:[],loading:!1,page:1,hasMore:!0,searchQuery:"",setVideos:t=>e({videos:t}),addVideos:t=>e(r=>({videos:[...r.videos,...t]})),setLoading:t=>e({loading:t}),setPage:t=>e({page:t}),setHasMore:t=>e({hasMore:t}),setSearchQuery:t=>e({searchQuery:t}),reset:()=>e({videos:[],page:1,hasMore:!0,searchQuery:""})}));var fL="@cloudbase/js-sdk";function kq(e){fL=e}function Qh(){return fL}var dL="https:";function Mq(e){dL=e}function Fq(){return dL}var Xh="https://support.qq.com/products/148793",Rr={INVALID_PARAMS:"INVALID_PARAMS",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL"},nc;(function(e){e.local="local",e.none="none",e.session="session"})(nc||(nc={}));var Ib=(function(){function e(){}return e})(),hL=(function(){function e(){}return e})();function Il(e,t,r){r===void 0&&(r={});var n=/\?/.test(t),o="";for(var i in r)o===""?!n&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(r[i]);return t+=o,/^http(s)?\:\/\//.test(t)?t:""+e+t}const jq=Object.freeze(Object.defineProperty({__proto__:null,AbstractSDKRequest:Ib,AbstractStorage:hL,get StorageType(){return nc},formatUrl:Il},Symbol.toStringTag,{value:"Module"}));function pL(e){return Object.prototype.toString.call(e)==="[object Array]"}function mL(e){return typeof e=="string"}function Uq(e){return Object.prototype.toString.call(e)==="[object Object]"}function Bq(e,t){return e instanceof t}function vL(e){return Object.prototype.toString.call(e)==="[object FormData]"}function $q(){return Math.random().toString(16).slice(2)}function yL(){var e=new Date().getTime(),t=(Date==null?void 0:Date.now)&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=Math.random()*16;return e>0?(n=(e+n)%16|0,e=Math.floor(e/16)):(n=(t+n)%16|0,t=Math.floor(t/16)),(r==="x"?n:n&7|8).toString(16)})}function gL(e,t,r){r===void 0&&(r={});var n=/\?/.test(t),o="";return Object.keys(r).forEach(function(i){o===""?!n&&(t+="?"):o+="&",o+="".concat(i,"=").concat(encodeURIComponent(r[i]))}),t+=o,/^http(s)?:\/\//.test(t)?t:"".concat(e).concat(t)}function qq(e){e===void 0&&(e={});var t=[];return Object.keys(e).forEach(function(r){t.push("".concat(r,"=").concat(encodeURIComponent(e[r])))}),t.join("&")}function wL(e,t,r){if(r===void 0&&(r=null),e&&typeof e=="function")return e(t,r);if(t)throw t;return r}function zs(e,t){console.warn("[".concat(Qh(),"][").concat(e,"]:").concat(t))}var Vq=function(e){e=e.replace(/^\?/,"");var t={},r=e.split("&");return r.forEach(function(n){var o=n.split("="),i=o[0],s=o[1];i=decodeURIComponent(i),s=decodeURIComponent(s),i&&(t[i]?Array.isArray(t[i])?t[i].push(s):t[i]=[t[i],s]:t[i]=s)}),t},Wq=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Kt=function(){return Kt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Kt.apply(this,arguments)},$v=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},qv=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hq=(function(e){Wq(t,e);function t(r){var n=e.call(this)||this,o=r.timeout,i=r.timeoutMsg,s=r.restrictedMethods;return n.timeout=o||0,n.timeoutMsg=i||"",n.restrictedMethods=s||["get","post","upload","download"],n}return t.prototype.get=function(r){return this.request(Kt(Kt({},r),{method:"get"}),this.restrictedMethods.includes("get"))},t.prototype.post=function(r){return this.request(Kt(Kt({},r),{method:"post"}),this.restrictedMethods.includes("post"))},t.prototype.put=function(r){return this.request(Kt(Kt({},r),{method:"put"}))},t.prototype.upload=function(r){var n=r.data,o=r.file,i=r.name,s=r.method,c=r.headers,h=c===void 0?{}:c,u={post:"post",put:"put"}[s==null?void 0:s.toLowerCase()]||"put",f=new FormData;return u==="post"?(Object.keys(n).forEach(function(p){f.append(p,n[p])}),f.append("key",i),f.append("file",o),this.request(Kt(Kt({},r),{data:f,method:u}),this.restrictedMethods.includes("upload"))):this.request(Kt(Kt({},r),{method:"put",headers:h,body:o}),this.restrictedMethods.includes("upload"))},t.prototype.download=function(r){return $v(this,void 0,void 0,function(){var n,o,i,s;return qv(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.get(Kt(Kt({},r),{headers:{},responseType:"blob"}))];case 1:return n=c.sent().data,o=window.URL.createObjectURL(new Blob([n])),i=decodeURIComponent(new URL(r.url).pathname.split("/").pop()||""),s=document.createElement("a"),s.href=o,s.setAttribute("download",i),s.style.display="none",document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(o),document.body.removeChild(s),[3,3];case 2:return c.sent(),[3,3];case 3:return[2,new Promise(function(h){h({statusCode:200,tempFilePath:r.url})})]}})})},t.prototype.fetch=function(r){var n;return $v(this,void 0,void 0,function(){var o,i,s,c,h,u,f,p,v,g,w,b,T,C=this;return qv(this,function(I){switch(I.label){case 0:return o=new AbortController,i=r.url,s=r.enableAbort,c=s===void 0?!1:s,h=r.stream,u=h===void 0?!1:h,f=r.signal,p=r.timeout,v=r.shouldThrowOnError,g=v===void 0?!0:v,w=p??this.timeout,f&&(f.aborted&&o.abort(),f.addEventListener("abort",function(){return o.abort()})),b=null,c&&w&&(b=setTimeout(function(){console.warn(C.timeoutMsg),o.abort(new Error(C.timeoutMsg))},w)),[4,fetch(i,Kt(Kt({},r),{signal:o.signal})).then(function(x){return $v(C,void 0,void 0,function(){var R,L,F;return qv(this,function(H){switch(H.label){case 0:return clearTimeout(b),g?x.ok?(R=x,[3,3]):[3,1]:[3,4];case 1:return F=(L=Promise).reject,[4,x.json()];case 2:R=F.apply(L,[H.sent()]),H.label=3;case 3:return[2,R];case 4:return[2,x]}})})}).catch(function(x){if(clearTimeout(b),g)return Promise.reject(x)})];case 1:return T=I.sent(),[2,{data:u?T.body:!((n=T.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?T.json():T.text(),statusCode:T.status,header:T.headers}]}})})},t.prototype.request=function(r,n){var o=this;n===void 0&&(n=!1);var i=String(r.method).toLowerCase()||"get";return new Promise(function(s){var c=r.url,h=r.headers,u=h===void 0?{}:h,f=r.data,p=r.responseType,v=r.withCredentials,g=r.body,w=r.onUploadProgress,b=gL(Fq(),c,i==="get"?f:{}),T=new XMLHttpRequest;T.open(i,b),p&&(T.responseType=p),Object.keys(u).forEach(function(x){T.setRequestHeader(x,u[x])});var C;w&&T.upload.addEventListener("progress",w),T.onreadystatechange=function(){var x={};if(T.readyState===4){var R=T.getAllResponseHeaders(),L=R.trim().split(/[\r\n]+/),F={};L.forEach(function(H){var V=H.split(": "),D=V.shift().toLowerCase(),B=V.join(": ");F[D]=B}),x.header=F,x.statusCode=T.status;try{x.data=p==="blob"?T.response:JSON.parse(T.responseText)}catch{x.data=p==="blob"?T.response:T.responseText}clearTimeout(C),s(x)}},n&&o.timeout&&(C=setTimeout(function(){console.warn(o.timeoutMsg),T.abort()},o.timeout));var I;vL(f)?I=f:u["content-type"]==="application/x-www-form-urlencoded"?I=qq(f):g?I=g:I=f?JSON.stringify(f):void 0,v&&(T.withCredentials=!0),T.send(I)})},t})(Ib);function Gq(){var e={type:"default",root:window,reqClass:Hq,wsClass:WebSocket,localStorage};return e}var Qw=function(){return Qw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qw.apply(this,arguments)},Xw;(function(e){e.WEB="web",e.WX_MP="wx_mp"})(Xw||(Xw={}));function zq(e,t){for(var r=pL(e)?e:[e],n=0,o=r;n<o.length;n++){var i=o[n],s=i.isMatch,c=i.genAdapter,h=i.runtime;if(s())return{adapter:Qw({isMatch:s},c(t)),runtime:h}}}function Kq(){return{adapter:Gq(),runtime:Xw.WEB}}var Xf={},Yq=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Vv=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,[])).next())})},Wv=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hv=(function(e){Yq(t,e);function t(r){var n=e.call(this)||this;return n.root=r,r.tcbCacheObject||(r.tcbCacheObject={}),n}return t.prototype.setItem=function(r,n){this.root.tcbCacheObject[r]=n},t.prototype.getItem=function(r){return this.root.tcbCacheObject[r]},t.prototype.removeItem=function(r){delete this.root.tcbCacheObject[r]},t.prototype.clear=function(){delete this.root.tcbCacheObject},t})(hL);function Jq(e,t){switch(e){case"local":return t.localStorage?t.localStorage:(zs(Rr.INVALID_PARAMS,"localStorage is not supported on current platform"),new Hv(t.root));case"none":return new Hv(t.root);default:return t.localStorage?t.localStorage:(zs(Rr.INVALID_PARAMS,"localStorage is not supported on current platform"),new Hv(t.root))}}var Qq=(function(){function e(t){this.keys={};var r=t.persistence,n=t.platformInfo,o=n===void 0?{}:n,i=t.keys,s=i===void 0?{}:i;this.platformInfo=o,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||r,this.storage=Jq(this.persistenceTag,this.platformInfo.adapter),this.keys=s)}return Object.defineProperty(e.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),e.prototype.setStore=function(t,r,n){if(this.mode==="async"){zs(Rr.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var o={version:n||"localCachev1",content:r};this.storage.setItem(t,JSON.stringify(o))}catch(i){throw new Error(JSON.stringify({code:Rr.OPERATION_FAIL,msg:"[".concat(Qh(),"][").concat(Rr.OPERATION_FAIL,"]setStore failed"),info:i}))}},e.prototype.setStoreAsync=function(t,r,n){return Vv(this,void 0,void 0,function(){var o;return Wv(this,function(i){switch(i.label){case 0:if(!this.storage)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),o={version:n||"localCachev1",content:r},[4,this.storage.setItem(t,JSON.stringify(o))];case 2:return i.sent(),[3,4];case 3:return i.sent(),[2];case 4:return[2]}})})},e.prototype.getStore=function(t,r){var n;if(this.mode==="async"){zs(Rr.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((n=Xf)===null||n===void 0)&&n.tcb_token))return Xf.tcb_token;if(!this.storage)return""}catch{return""}r=r||"localCachev1";var o=this.storage.getItem(t);if(!o)return"";if(o.indexOf(r)>=0){var i=JSON.parse(o);return i.content}return""},e.prototype.getStoreAsync=function(t,r){var n;return Vv(this,void 0,void 0,function(){var o,i;return Wv(this,function(s){switch(s.label){case 0:try{if(typeof process<"u"&&(!((n=Xf)===null||n===void 0)&&n.tcb_token))return[2,Xf.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return r=r||"localCachev1",[4,this.storage.getItem(t)];case 1:return o=s.sent(),o?o.indexOf(r)>=0?(i=JSON.parse(o),[2,i.content]):[2,""]:[2,""]}})})},e.prototype.removeStore=function(t){if(this.mode==="async"){zs(Rr.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(t)},e.prototype.removeStoreAsync=function(t){return Vv(this,void 0,void 0,function(){return Wv(this,function(r){switch(r.label){case 0:return[4,this.storage.removeItem(t)];case 1:return r.sent(),[2]}})})},e})(),Xq=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Zq=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};function e8(e,t,r){r[e]=r[e]||[],r[e].push(t)}function t8(e,t,r){if(r!=null&&r[e]){var n=r[e].indexOf(t);n!==-1&&r[e].splice(n,1)}}var _L=(function(){function e(t,r){this.data=r||null,this.name=t}return e})(),r8=(function(e){Xq(t,e);function t(r,n){var o=e.call(this,"error",{error:r,data:n})||this;return o.error=r,o}return t})(_L),bL=(function(){function e(){this.listeners={}}return e.prototype.on=function(t,r){return e8(t,r,this.listeners),this},e.prototype.off=function(t,r){return t8(t,r,this.listeners),this},e.prototype.fire=function(t,r){if(Bq(t,r8))return console.error(t.error),this;var n=mL(t)?new _L(t,r||{}):t,o=n.name;if(this.listens(o)){n.target=this;for(var i=this.listeners[o]?Zq([],this.listeners[o],!0):[],s=0,c=i;s<c.length;s++){var h=c[s];h.call(this,n)}}return this},e.prototype.listens=function(t){return this.listeners[t]&&this.listeners[t].length>0},e})(),Zh=new bL,ep="lang_change";typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox");function tp(e){return e.mode,e.customInfo,e.title,e.messages,function(t,r,n){}}function Zw(e){this.message=e}Zw.prototype=new Error,Zw.prototype.name="InvalidCharacterError";typeof window<"u"&&window.atob&&window.atob.bind(window);function ZT(e){this.message=e}ZT.prototype=new Error,ZT.prototype.name="InvalidTokenError";var uh=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},lh=Rr,eC={};function n8(e,t){var r=t.name,n=t.namespace,o=t.entity,i=t.injectEvents,s=t.IIFE,c=s===void 0?!1:s;if(eC[r]||n&&e[n])throw new Error(JSON.stringify({code:lh.INVALID_OPERATION,msg:"Duplicate component ".concat(r)}));if(c){if(!o||typeof o!="function")throw new Error(JSON.stringify({code:lh.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));o.call(e)}if(eC[r]=t,n?e.prototype[n]=o:SL(e.prototype,o),i){var h=i.bus,u=i.events;if(!h||!u||u.length===0)return;var f=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={});var p=e.prototype.events||{};p[r]?e.prototype.events[r].events=uh(uh([],e.prototype.events[r].events,!0),u,!0):e.prototype.events[r]={bus:h,events:u},e.prototype.fire=function(v,g){f(v,g);for(var w=Object.keys(this.events),b=0,T=w;b<T.length;b++){var C=T[b],I=this.events[C],x=I.bus,R=I.events;if(R.includes(v)){x.fire(v,g);break}}}}}function SL(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:{var r=t;return new Date(r.getTime())}case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var n=Object.keys(t),o=0,i=n;o<i.length;o++){var s=i[o];Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=SL(e[s],t[s]))}return e}function i8(e,t){var r=t.entity,n=t.target;if(Object.prototype.hasOwnProperty.call(e,n))throw new Error(JSON.stringify({code:lh.INVALID_OPERATION,msg:"target:".concat(n," is not exist")}));var o=e.prototype[n];if(typeof o!="function")throw new Error(JSON.stringify({code:lh.INVALID_OPERATION,msg:"target:".concat(n," is not a function which is the only type supports hook")}));e.prototype[n]=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return r.call.apply(r,uh([this],i,!1)),o.call.apply(o,uh([this],i,!1))}}/**
 * @license
 * web-streams-polyfill v4.2.0
 * Copyright 2025 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */function ic(){}function Pt(e){return typeof e=="object"&&e!==null||typeof e=="function"}const EL=ic;function Ve(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch{}}const xb=Promise,o8=Promise.resolve.bind(xb),a8=Promise.prototype.then,s8=Promise.reject.bind(xb),u8=o8;function Et(e){return new xb(e)}function We(e){return Et(t=>t(e))}function _e(e){return s8(e)}function hi(e,t,r){return a8.call(e,t,r)}function Pr(e,t,r){hi(hi(e,t,r),void 0,EL)}function Gv(e,t){Pr(e,t)}function e_(e,t){Pr(e,void 0,t)}function $i(e,t,r){return hi(e,t,r)}function pu(e){hi(e,void 0,EL)}let Ia=e=>{if(typeof queueMicrotask=="function")Ia=queueMicrotask;else{const t=We(void 0);Ia=r=>hi(t,r)}return Ia(e)};function Pa(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function Gi(e,t,r){try{return We(Pa(e,t,r))}catch(n){return _e(n)}}class vn{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){const r=this._back;let n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(t),n!==r&&(this._back=n,r._next=n),++this._size}shift(){const t=this._front;let r=t;const n=this._cursor;let o=n+1;const i=t._elements,s=i[n];return o===16384&&(r=t._next,o=0),--this._size,this._cursor=o,t!==r&&(this._front=r),i[n]=void 0,s}forEach(t){let r=this._cursor,n=this._front,o=n._elements;for(;!(r===o.length&&n._next===void 0||r===o.length&&(n=n._next,o=n._elements,r=0,o.length===0));)t(o[r]),++r}peek(){const t=this._front,r=this._cursor;return t._elements[r]}}const TL=Symbol("[[AbortSteps]]"),CL=Symbol("[[ErrorSteps]]"),Ab=Symbol("[[CancelSteps]]"),Rb=Symbol("[[PullSteps]]"),Ob=Symbol("[[ReleaseSteps]]");function IL(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?t_(e):t._state==="closed"?(function(r){t_(r),AL(r)})(e):xL(e,t._storedError)}function Pb(e,t){return Un(e._ownerReadableStream,t)}function ji(e){const t=e._ownerReadableStream;t._state==="readable"?Nb(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(function(r,n){xL(r,n)})(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[Ob](),t._reader=void 0,e._ownerReadableStream=void 0}function ch(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function t_(e){e._closedPromise=Et((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function xL(e,t){t_(e),Nb(e,t)}function Nb(e,t){e._closedPromise_reject!==void 0&&(pu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function AL(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const tC=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},l8=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Ui(e,t){if(e!==void 0&&typeof(r=e)!="object"&&typeof r!="function")throw new TypeError(`${t} is not an object.`);var r}function yn(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function RL(e,t){if(!(function(r){return typeof r=="object"&&r!==null||typeof r=="function"})(e))throw new TypeError(`${t} is not an object.`)}function Na(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function rC(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function OL(e){return Number(e)}function nC(e){return e===0?0:e}function Lb(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=nC(n),!tC(n))throw new TypeError(`${t} is not a finite number`);if(n=(function(o){return nC(l8(o))})(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return tC(n)&&n!==0?n:0}function Db(e,t){if(!wo(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ks(e){return new fa(e)}function PL(e,t){e._reader._readRequests.push(t)}function kb(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function rp(e){return e._reader._readRequests.length}function NL(e){const t=e._reader;return t!==void 0&&!!Co(t)}class fa{constructor(t){if(Na(t,1,"ReadableStreamDefaultReader"),Db(t,"First parameter"),Io(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");IL(this,t),this._readRequests=new vn}get closed(){return Co(this)?this._closedPromise:_e(Zf("closed"))}cancel(t=void 0){return Co(this)?this._ownerReadableStream===void 0?_e(ch("cancel")):Pb(this,t):_e(Zf("cancel"))}read(){if(!Co(this))return _e(Zf("read"));if(this._ownerReadableStream===void 0)return _e(ch("read from"));let t,r;const n=Et((o,i)=>{t=o,r=i});return oc(this,{_chunkSteps:o=>t({value:o,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:o=>r(o)}),n}releaseLock(){if(!Co(this))throw Zf("releaseLock");this._ownerReadableStream!==void 0&&(function(t){ji(t);const r=new TypeError("Reader was released");LL(t,r)})(this)}}function Co(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof fa}function oc(e,t){const r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[Rb](t)}function LL(e,t){const r=e._readRequests;e._readRequests=new vn,r.forEach(n=>{n._errorSteps(t)})}function Zf(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}var zv,Kv,Yv;function xl(e){return e.slice()}function DL(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}Object.defineProperties(fa.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Ve(fa.prototype.cancel,"cancel"),Ve(fa.prototype.read,"read"),Ve(fa.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fa.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let La=e=>(La=typeof e.transfer=="function"?t=>t.transfer():typeof structuredClone=="function"?t=>structuredClone(t,{transfer:[t]}):t=>t,La(e)),Da=e=>(Da=typeof e.detached=="boolean"?t=>t.detached:t=>t.byteLength===0,Da(e));function kL(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,o=new ArrayBuffer(n);return DL(o,0,e,t,n),o}function Al(e,t){const r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(`${String(t)} is not a function`);return r}}function iC(e){try{const t=e.done,r=e.value;return hi(u8(r),n=>({done:t,value:n}))}catch(t){return _e(t)}}const Ic=(Yv=(zv=Symbol.asyncIterator)!==null&&zv!==void 0?zv:(Kv=Symbol.for)===null||Kv===void 0?void 0:Kv.call(Symbol,"Symbol.asyncIterator"))!==null&&Yv!==void 0?Yv:"@@asyncIterator";function ML(e,t="sync",r){if(r===void 0)if(t==="async"){if((r=Al(e,Ic))===void 0)return(function(o){const i={next(){let s;try{s=FL(o)}catch(c){return _e(c)}return iC(s)},return(s){let c;try{const h=Al(o.iterator,"return");if(h===void 0)return We({done:!0,value:s});c=Pa(h,o.iterator,[s])}catch(h){return _e(h)}return Pt(c)?iC(c):_e(new TypeError("The iterator.return() method must return an object"))}};return{iterator:i,nextMethod:i.next,done:!1}})(ML(e,"sync",Al(e,Symbol.iterator)))}else r=Al(e,Symbol.iterator);if(r===void 0)throw new TypeError("The object is not iterable");const n=Pa(r,e,[]);if(!Pt(n))throw new TypeError("The iterator method must return an object");return{iterator:n,nextMethod:n.next,done:!1}}function FL(e){const t=Pa(e.nextMethod,e.iterator,[]);if(!Pt(t))throw new TypeError("The iterator.next() method must return an object");return t}class jL{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){const t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?$i(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){const r=()=>this._returnSteps(t);return this._ongoingPromise=this._ongoingPromise?$i(this._ongoingPromise,r,r):r(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const t=this._reader;let r,n;const o=Et((i,s)=>{r=i,n=s});return oc(t,{_chunkSteps:i=>{this._ongoingPromise=void 0,Ia(()=>r({value:i,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ji(t),r({value:void 0,done:!0})},_errorSteps:i=>{this._ongoingPromise=void 0,this._isFinished=!0,ji(t),n(i)}}),o}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;const r=this._reader;if(!this._preventCancel){const n=Pb(r,t);return ji(r),$i(n,()=>({value:t,done:!0}))}return ji(r),We({value:t,done:!0})}}const UL={next(){return oC(this)?this._asyncIteratorImpl.next():_e(aC("next"))},return(e){return oC(this)?this._asyncIteratorImpl.return(e):_e(aC("return"))},[Ic](){return this}};function oC(e){if(!Pt(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof jL}catch{return!1}}function aC(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(UL,Ic,{enumerable:!1});const BL=Number.isNaN||function(e){return e!=e};function sC(e){const t=kL(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function r_(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Mb(e,t,r){if(typeof(n=r)!="number"||BL(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function jo(e){e._queue=new vn,e._queueTotalSize=0}function $L(e){return e===DataView}class Fs{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Jv(this))throw Qv("view");return this._view}respond(t){if(!Jv(this))throw Qv("respond");if(Na(t,1,"respond"),t=Lb(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Da(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ud(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Jv(this))throw Qv("respondWithNewView");if(Na(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Da(t.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Bd(this._associatedReadableByteStreamController,t)}}Object.defineProperties(Fs.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),Ve(Fs.prototype.respond,"respond"),Ve(Fs.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fs.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Eo{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!da(this))throw ul("byobRequest");return i_(this)}get desiredSize(){if(!da(this))throw ul("desiredSize");return XL(this)}close(){if(!da(this))throw ul("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Rl(this)}enqueue(t){if(!da(this))throw ul("enqueue");if(Na(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);jd(this,t)}error(t=void 0){if(!da(this))throw ul("error");cn(this,t)}[Ab](t){qL(this),jo(this);const r=this._cancelAlgorithm(t);return np(this),r}[Rb](t){const r=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void QL(this,t);const n=this._autoAllocateChunkSize;if(n!==void 0){let o;try{o=new ArrayBuffer(n)}catch(s){return void t._errorSteps(s)}const i={buffer:o,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}PL(r,t),ja(this)}[Ob](){if(this._pendingPullIntos.length>0){const t=this._pendingPullIntos.peek();t.readerType="none",this._pendingPullIntos=new vn,this._pendingPullIntos.push(t)}}}function da(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof Eo}function Jv(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof Fs}function ja(e){if((function(r){const n=r._controlledReadableByteStream;return n._state!=="readable"||r._closeRequested||!r._started?!1:!!(NL(n)&&rp(n)>0||jb(n)&&t3(n)>0||XL(r)>0)})(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Pr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ja(e)),null),r=>(cn(e,r),null))}}function qL(e){Fb(e),e._pendingPullIntos=new vn}function VL(e,t){let r=!1;e._state==="closed"&&(r=!0);const n=WL(t);t.readerType==="default"?kb(e,n,r):(function(o,i,s){const c=o._reader,h=c._readIntoRequests.shift();s?h._closeSteps(i):h._chunkSteps(i)})(e,n,r)}function Md(e,t){for(let r=0;r<t.length;++r)VL(e,t[r])}function WL(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Fd(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function HL(e,t,r,n){let o;try{o=kL(t,r,r+n)}catch(i){throw cn(e,i),i}Fd(e,o,0,n)}function GL(e,t){t.bytesFilled>0&&HL(e,t.buffer,t.byteOffset,t.bytesFilled),Ys(e)}function zL(e,t){const r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r;let o=r,i=!1;const s=n-n%t.elementSize;s>=t.minimumFill&&(o=s-t.bytesFilled,i=!0);const c=e._queue;for(;o>0;){const h=c.peek(),u=Math.min(o,h.byteLength),f=t.byteOffset+t.bytesFilled;DL(t.buffer,f,h.buffer,h.byteOffset,u),h.byteLength===u?c.shift():(h.byteOffset+=u,h.byteLength-=u),e._queueTotalSize-=u,KL(e,u,t),o-=u}return i}function KL(e,t,r){r.bytesFilled+=t}function YL(e){e._queueTotalSize===0&&e._closeRequested?(np(e),xc(e._controlledReadableByteStream)):ja(e)}function Fb(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function n_(e){const t=[];for(;e._pendingPullIntos.length>0&&e._queueTotalSize!==0;){const r=e._pendingPullIntos.peek();zL(e,r)&&(Ys(e),t.push(r))}return t}function c8(e,t,r,n){const o=e._controlledReadableByteStream,i=t.constructor,s=(function(v){return $L(v)?1:v.BYTES_PER_ELEMENT})(i),{byteOffset:c,byteLength:h}=t,u=r*s;let f;try{f=La(t.buffer)}catch(v){return void n._errorSteps(v)}const p={buffer:f,bufferByteLength:f.byteLength,byteOffset:c,byteLength:h,bytesFilled:0,minimumFill:u,elementSize:s,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(p),void uC(o,n);if(o._state==="closed"){const v=new i(p.buffer,p.byteOffset,0);return void n._closeSteps(v)}if(e._queueTotalSize>0){if(zL(e,p)){const v=WL(p);return YL(e),void n._chunkSteps(v)}if(e._closeRequested){const v=new TypeError("Insufficient bytes to fill elements in the given buffer");return cn(e,v),void n._errorSteps(v)}}e._pendingPullIntos.push(p),uC(o,n),ja(e)}function JL(e,t){const r=e._pendingPullIntos.peek();Fb(e),e._controlledReadableByteStream._state==="closed"?(function(n,o){o.readerType==="none"&&Ys(n);const i=n._controlledReadableByteStream;if(jb(i)){const s=[];for(;s.length<t3(i);)s.push(Ys(n));Md(i,s)}})(e,r):(function(n,o,i){if(KL(0,o,i),i.readerType==="none"){GL(n,i);const h=n_(n);return void Md(n._controlledReadableByteStream,h)}if(i.bytesFilled<i.minimumFill)return;Ys(n);const s=i.bytesFilled%i.elementSize;if(s>0){const h=i.byteOffset+i.bytesFilled;HL(n,i.buffer,h-s,s)}i.bytesFilled-=s;const c=n_(n);VL(n._controlledReadableByteStream,i),Md(n._controlledReadableByteStream,c)})(e,t,r),ja(e)}function Ys(e){return e._pendingPullIntos.shift()}function np(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Rl(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&t._state==="readable")if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){const r=e._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!==0){const n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw cn(e,n),n}}np(e),xc(t)}}function jd(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable")return;const{buffer:n,byteOffset:o,byteLength:i}=t;if(Da(n))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const s=La(n);if(e._pendingPullIntos.length>0){const c=e._pendingPullIntos.peek();if(Da(c.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Fb(e),c.buffer=La(c.buffer),c.readerType==="none"&&GL(e,c)}NL(r)?((function(c){const h=c._controlledReadableByteStream._reader;for(;h._readRequests.length>0;){if(c._queueTotalSize===0)return;QL(c,h._readRequests.shift())}})(e),rp(r)===0?Fd(e,s,o,i):(e._pendingPullIntos.length>0&&Ys(e),kb(r,new Uint8Array(s,o,i),!1))):jb(r)?(Fd(e,s,o,i),Md(r,n_(e))):Fd(e,s,o,i),ja(e)}function cn(e,t){const r=e._controlledReadableByteStream;r._state==="readable"&&(qL(e),jo(e),np(e),b3(r,t))}function QL(e,t){const r=e._queue.shift();e._queueTotalSize-=r.byteLength,YL(e);const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function i_(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(Fs.prototype);(function(o,i,s){o._associatedReadableByteStreamController=i,o._view=s})(n,e,r),e._byobRequest=n}return e._byobRequest}function XL(e){const t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Ud(e,t){const r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=La(r.buffer),JL(e,t)}function Bd(e,t){const r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=La(t.buffer),JL(e,n)}function ZL(e,t,r,n,o,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,jo(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=s,t._pendingPullIntos=new vn,e._readableStreamController=t,Pr(We(r()),()=>(t._started=!0,ja(t),null),c=>(cn(t,c),null))}function Qv(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function ul(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function f8(e,t){if((e=`${e}`)!="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function e3(e){return new ha(e)}function uC(e,t){e._reader._readIntoRequests.push(t)}function t3(e){return e._reader._readIntoRequests.length}function jb(e){const t=e._reader;return t!==void 0&&!!ba(t)}Object.defineProperties(Eo.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),Ve(Eo.prototype.close,"close"),Ve(Eo.prototype.enqueue,"enqueue"),Ve(Eo.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Eo.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ha{constructor(t){if(Na(t,1,"ReadableStreamBYOBReader"),Db(t,"First parameter"),Io(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!da(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");IL(this,t),this._readIntoRequests=new vn}get closed(){return ba(this)?this._closedPromise:_e(ed("closed"))}cancel(t=void 0){return ba(this)?this._ownerReadableStream===void 0?_e(ch("cancel")):Pb(this,t):_e(ed("cancel"))}read(t,r={}){if(!ba(this))return _e(ed("read"));if(!ArrayBuffer.isView(t))return _e(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return _e(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return _e(new TypeError("view's buffer must have non-zero byteLength"));if(Da(t.buffer))return _e(new TypeError("view's buffer has been detached"));let n;try{n=(function(h,u){var f;return Ui(h,u),{min:Lb((f=h==null?void 0:h.min)!==null&&f!==void 0?f:1,`${u} has member 'min' that`)}})(r,"options")}catch(h){return _e(h)}const o=n.min;if(o===0)return _e(new TypeError("options.min must be greater than 0"));if((function(h){return $L(h.constructor)})(t)){if(o>t.byteLength)return _e(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(o>t.length)return _e(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return _e(ch("read from"));let i,s;const c=Et((h,u)=>{i=h,s=u});return r3(this,t,o,{_chunkSteps:h=>i({value:h,done:!1}),_closeSteps:h=>i({value:h,done:!0}),_errorSteps:h=>s(h)}),c}releaseLock(){if(!ba(this))throw ed("releaseLock");this._ownerReadableStream!==void 0&&(function(t){ji(t);const r=new TypeError("Reader was released");n3(t,r)})(this)}}function ba(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ha}function r3(e,t,r,n){const o=e._ownerReadableStream;o._disturbed=!0,o._state==="errored"?n._errorSteps(o._storedError):c8(o._readableStreamController,t,r,n)}function n3(e,t){const r=e._readIntoRequests;e._readIntoRequests=new vn,r.forEach(n=>{n._errorSteps(t)})}function ed(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function ac(e,t){const{highWaterMark:r}=e;if(r===void 0)return t;if(BL(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function fh(e){const{size:t}=e;return t||(()=>1)}function dh(e,t){Ui(e,t);const r=e==null?void 0:e.highWaterMark,n=e==null?void 0:e.size;return{highWaterMark:r===void 0?void 0:OL(r),size:n===void 0?void 0:d8(n,`${t} has member 'size' that`)}}function d8(e,t){return yn(e,t),r=>OL(e(r))}function h8(e,t,r){return yn(e,r),n=>Gi(e,t,[n])}function p8(e,t,r){return yn(e,r),()=>Gi(e,t,[])}function m8(e,t,r){return yn(e,r),n=>Pa(e,t,[n])}function v8(e,t,r){return yn(e,r),(n,o)=>Gi(e,t,[n,o])}function i3(e,t){if(!js(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(ha.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Ve(ha.prototype.cancel,"cancel"),Ve(ha.prototype.read,"read"),Ve(ha.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ha.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class pa{constructor(t={},r={}){t===void 0?t=null:RL(t,"First parameter");const n=dh(r,"Second parameter"),o=(function(s,c){Ui(s,c);const h=s==null?void 0:s.abort,u=s==null?void 0:s.close,f=s==null?void 0:s.start,p=s==null?void 0:s.type,v=s==null?void 0:s.write;return{abort:h===void 0?void 0:h8(h,s,`${c} has member 'abort' that`),close:u===void 0?void 0:p8(u,s,`${c} has member 'close' that`),start:f===void 0?void 0:m8(f,s,`${c} has member 'start' that`),write:v===void 0?void 0:v8(v,s,`${c} has member 'write' that`),type:p}})(t,"First parameter");if(a3(this),o.type!==void 0)throw new RangeError("Invalid type is specified");const i=fh(n);(function(s,c,h,u){const f=Object.create(sc.prototype);let p,v,g,w;p=c.start!==void 0?()=>c.start(f):()=>{},v=c.write!==void 0?b=>c.write(b,f):()=>We(void 0),g=c.close!==void 0?()=>c.close():()=>We(void 0),w=c.abort!==void 0?b=>c.abort(b):()=>We(void 0),h3(s,f,p,v,g,w,h,u)})(this,o,ac(n,1),i)}get locked(){if(!js(this))throw rd("locked");return Js(this)}abort(t=void 0){return js(this)?Js(this)?_e(new TypeError("Cannot abort a stream that already has a writer")):hh(this,t):_e(rd("abort"))}close(){return js(this)?Js(this)?_e(new TypeError("Cannot close a stream that already has a writer")):pi(this)?_e(new TypeError("Cannot close an already-closing stream")):s3(this):_e(rd("close"))}getWriter(){if(!js(this))throw rd("getWriter");return o3(this)}}function o3(e){return new _o(e)}function a3(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new vn,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function js(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof pa}function Js(e){return e._writer!==void 0}function hh(e,t){var r;if(e._state==="closed"||e._state==="errored")return We(void 0);e._writableStreamController._abortReason=t,(r=e._writableStreamController._abortController)===null||r===void 0||r.abort(t);const n=e._state;if(n==="closed"||n==="errored")return We(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let o=!1;n==="erroring"&&(o=!0,t=void 0);const i=Et((s,c)=>{e._pendingAbortRequest={_promise:void 0,_resolve:s,_reject:c,_reason:t,_wasAlreadyErroring:o}});return e._pendingAbortRequest._promise=i,o||Ub(e,t),i}function s3(e){const t=e._state;if(t==="closed"||t==="errored")return _e(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=Et((i,s)=>{const c={_resolve:i,_reject:s};e._closeRequest=c}),n=e._writer;var o;return n!==void 0&&e._backpressure&&t==="writable"&&Wb(n),Mb(o=e._writableStreamController,d3,0),ip(o),r}function o_(e,t){e._state!=="writable"?Bb(e):Ub(e,t)}function Ub(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;n!==void 0&&l3(n,t),!(function(o){return!(o._inFlightWriteRequest===void 0&&o._inFlightCloseRequest===void 0)})(e)&&r._started&&Bb(e)}function Bb(e){e._state="errored",e._writableStreamController[CL]();const t=e._storedError;if(e._writeRequests.forEach(n=>{n._reject(t)}),e._writeRequests=new vn,e._pendingAbortRequest===void 0)return void td(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void td(e);Pr(e._writableStreamController[TL](r._reason),()=>(r._resolve(),td(e),null),n=>(r._reject(n),td(e),null))}function pi(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function td(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;t!==void 0&&Vb(t,e._storedError)}function $b(e,t){const r=e._writer;r!==void 0&&t!==e._backpressure&&(t?(function(n){op(n)})(r):Wb(r)),e._backpressure=t}Object.defineProperties(pa.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),Ve(pa.prototype.abort,"abort"),Ve(pa.prototype.close,"close"),Ve(pa.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(pa.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class _o{constructor(t){if(Na(t,1,"WritableStreamDefaultWriter"),i3(t,"First parameter"),Js(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;const r=t._state;if(r==="writable")!pi(t)&&t._backpressure?op(this):lC(this),$d(this);else if(r==="erroring")a_(this,t._storedError),$d(this);else if(r==="closed")lC(this),$d(n=this),y3(n);else{const o=t._storedError;a_(this,o),v3(this,o)}var n}get closed(){return ta(this)?this._closedPromise:_e(ra("closed"))}get desiredSize(){if(!ta(this))throw ra("desiredSize");if(this._ownerWritableStream===void 0)throw Ol("desiredSize");return(function(t){const r=t._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:p3(r._writableStreamController)})(this)}get ready(){return ta(this)?this._readyPromise:_e(ra("ready"))}abort(t=void 0){return ta(this)?this._ownerWritableStream===void 0?_e(Ol("abort")):(function(r,n){return hh(r._ownerWritableStream,n)})(this,t):_e(ra("abort"))}close(){if(!ta(this))return _e(ra("close"));const t=this._ownerWritableStream;return t===void 0?_e(Ol("close")):pi(t)?_e(new TypeError("Cannot close an already-closing stream")):u3(this)}releaseLock(){if(!ta(this))throw ra("releaseLock");this._ownerWritableStream!==void 0&&c3(this)}write(t=void 0){return ta(this)?this._ownerWritableStream===void 0?_e(Ol("write to")):f3(this,t):_e(ra("write"))}}function ta(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof _o}function u3(e){return s3(e._ownerWritableStream)}function y8(e,t){e._closedPromiseState==="pending"?Vb(e,t):(function(r,n){v3(r,n)})(e,t)}function l3(e,t){e._readyPromiseState==="pending"?g3(e,t):(function(r,n){a_(r,n)})(e,t)}function c3(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");l3(e,r),y8(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function f3(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,o=(function(c,h){if(c._strategySizeAlgorithm===void 0)return 1;try{return c._strategySizeAlgorithm(h)}catch(u){return uc(c,u),1}})(n,t);if(r!==e._ownerWritableStream)return _e(Ol("write to"));const i=r._state;if(i==="errored")return _e(r._storedError);if(pi(r)||i==="closed")return _e(new TypeError("The stream is closing or closed and cannot be written to"));if(i==="erroring")return _e(r._storedError);const s=(function(c){return Et((h,u)=>{const f={_resolve:h,_reject:u};c._writeRequests.push(f)})})(r);return(function(c,h,u){try{Mb(c,h,u)}catch(p){return void uc(c,p)}const f=c._controlledWritableStream;!pi(f)&&f._state==="writable"&&$b(f,qb(c)),ip(c)})(n,t,o),s}Object.defineProperties(_o.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),Ve(_o.prototype.abort,"abort"),Ve(_o.prototype.close,"close"),Ve(_o.prototype.releaseLock,"releaseLock"),Ve(_o.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(_o.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const d3={};class sc{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Xv(this))throw Zv("abortReason");return this._abortReason}get signal(){if(!Xv(this))throw Zv("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Xv(this))throw Zv("error");this._controlledWritableStream._state==="writable"&&m3(this,t)}[TL](t){const r=this._abortAlgorithm(t);return ph(this),r}[CL](){jo(this)}}function Xv(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof sc}function h3(e,t,r,n,o,i,s,c){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,jo(t),t._abortReason=void 0,t._abortController=(function(){if(typeof AbortController=="function")return new AbortController})(),t._started=!1,t._strategySizeAlgorithm=c,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;const h=qb(t);$b(e,h),Pr(We(r()),()=>(t._started=!0,ip(t),null),u=>(t._started=!0,o_(e,u),null))}function ph(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function p3(e){return e._strategyHWM-e._queueTotalSize}function ip(e){const t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring")return void Bb(t);if(e._queue.length===0)return;const r=e._queue.peek().value;r===d3?(function(n){const o=n._controlledWritableStream;(function(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0})(o),r_(n);const i=n._closeAlgorithm();ph(n),Pr(i,()=>((function(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,s._state==="erroring"&&(s._storedError=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";const c=s._writer;c!==void 0&&y3(c)})(o),null),s=>((function(c,h){c._inFlightCloseRequest._reject(h),c._inFlightCloseRequest=void 0,c._pendingAbortRequest!==void 0&&(c._pendingAbortRequest._reject(h),c._pendingAbortRequest=void 0),o_(c,h)})(o,s),null))})(e):(function(n,o){const i=n._controlledWritableStream;(function(c){c._inFlightWriteRequest=c._writeRequests.shift()})(i);const s=n._writeAlgorithm(o);Pr(s,()=>{(function(h){h._inFlightWriteRequest._resolve(void 0),h._inFlightWriteRequest=void 0})(i);const c=i._state;if(r_(n),!pi(i)&&c==="writable"){const h=qb(n);$b(i,h)}return ip(n),null},c=>(i._state==="writable"&&ph(n),(function(h,u){h._inFlightWriteRequest._reject(u),h._inFlightWriteRequest=void 0,o_(h,u)})(i,c),null))})(e,r)}function uc(e,t){e._controlledWritableStream._state==="writable"&&m3(e,t)}function qb(e){return p3(e)<=0}function m3(e,t){const r=e._controlledWritableStream;ph(e),Ub(r,t)}function rd(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Zv(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function ra(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ol(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function $d(e){e._closedPromise=Et((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function v3(e,t){$d(e),Vb(e,t)}function Vb(e,t){e._closedPromise_reject!==void 0&&(pu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function y3(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function op(e){e._readyPromise=Et((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function a_(e,t){op(e),g3(e,t)}function lC(e){op(e),Wb(e)}function g3(e,t){e._readyPromise_reject!==void 0&&(pu(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Wb(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(sc.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(sc.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const cC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,g8=(function(){const e=cC==null?void 0:cC.DOMException;return(function(t){if(typeof t!="function"&&typeof t!="object"||t.name!=="DOMException")return!1;try{return new t,!0}catch{return!1}})(e)?e:void 0})()||(function(){const e=function(t,r){this.message=t||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Ve(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e})();function fC(e,t,r,n,o,i){const s=Ks(e),c=o3(t);e._disturbed=!0;let h=!1,u=We(void 0);return Et((f,p)=>{let v;if(i!==void 0){if(v=()=>{const L=i.reason!==void 0?i.reason:new g8("Aborted","AbortError"),F=[];n||F.push(()=>t._state==="writable"?hh(t,L):We(void 0)),o||F.push(()=>e._state==="readable"?Un(e,L):We(void 0)),I(()=>Promise.all(F.map(H=>H())),!0,L)},i.aborted)return void v();i.addEventListener("abort",v)}var g,w,b;if(C(e,s._closedPromise,L=>(n?x(!0,L):I(()=>hh(t,L),!0,L),null)),C(t,c._closedPromise,L=>(o?x(!0,L):I(()=>Un(e,L),!0,L),null)),g=e,w=s._closedPromise,b=()=>(r?x():I(()=>(function(L){const F=L._ownerWritableStream,H=F._state;return pi(F)||H==="closed"?We(void 0):H==="errored"?_e(F._storedError):u3(L)})(c)),null),g._state==="closed"?b():Gv(w,b),pi(t)||t._state==="closed"){const L=new TypeError("the destination writable stream closed before all data could be piped to it");o?x(!0,L):I(()=>Un(e,L),!0,L)}function T(){const L=u;return hi(u,()=>L!==u?T():void 0)}function C(L,F,H){L._state==="errored"?H(L._storedError):e_(F,H)}function I(L,F,H){function V(){return Pr(L(),()=>R(F,H),D=>R(!0,D)),null}h||(h=!0,t._state!=="writable"||pi(t)?V():Gv(T(),V))}function x(L,F){h||(h=!0,t._state!=="writable"||pi(t)?R(L,F):Gv(T(),()=>R(L,F)))}function R(L,F){return c3(c),ji(s),i!==void 0&&i.removeEventListener("abort",v),L?p(F):f(void 0),null}pu(Et((L,F)=>{(function H(V){V?L():hi(h?We(!0):hi(c._readyPromise,()=>Et((D,B)=>{oc(s,{_chunkSteps:U=>{u=hi(f3(c,U),void 0,ic),D(!1)},_closeSteps:()=>D(!0),_errorSteps:B})})),H,F)})(!1)}))})}class To{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!nd(this))throw id("desiredSize");return Hb(this)}close(){if(!nd(this))throw id("close");if(!iu(this))throw new TypeError("The stream is not in a state that permits close");ka(this)}enqueue(t=void 0){if(!nd(this))throw id("enqueue");if(!iu(this))throw new TypeError("The stream is not in a state that permits enqueue");return nu(this,t)}error(t=void 0){if(!nd(this))throw id("error");Wn(this,t)}[Ab](t){jo(this);const r=this._cancelAlgorithm(t);return mh(this),r}[Rb](t){const r=this._controlledReadableStream;if(this._queue.length>0){const n=r_(this);this._closeRequested&&this._queue.length===0?(mh(this),xc(r)):lc(this),t._chunkSteps(n)}else PL(r,t),lc(this)}[Ob](){}}function nd(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof To}function lc(e){if(w3(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Pr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,lc(e)),null),t=>(Wn(e,t),null))}}function w3(e){const t=e._controlledReadableStream;return!iu(e)||!e._started?!1:Io(t)&&rp(t)>0?!0:Hb(e)>0}function mh(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ka(e){if(!iu(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(mh(e),xc(t))}function nu(e,t){if(!iu(e))return;const r=e._controlledReadableStream;if(Io(r)&&rp(r)>0)kb(r,t,!1);else{let n;try{n=e._strategySizeAlgorithm(t)}catch(o){throw Wn(e,o),o}try{Mb(e,t,n)}catch(o){throw Wn(e,o),o}}lc(e)}function Wn(e,t){const r=e._controlledReadableStream;r._state==="readable"&&(jo(e),mh(e),b3(r,t))}function Hb(e){const t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function iu(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function _3(e,t,r,n,o,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,jo(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,Pr(We(r()),()=>(t._started=!0,lc(t),null),c=>(Wn(t,c),null))}function id(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function w8(e,t){return da(e._readableStreamController)?(function(r){let n,o,i,s,c,h=Ks(r),u=!1,f=!1,p=!1,v=!1,g=!1;const w=Et(H=>{c=H});function b(H){e_(H._closedPromise,V=>(H!==h||(cn(i._readableStreamController,V),cn(s._readableStreamController,V),v&&g||c(void 0)),null))}function T(){ba(h)&&(ji(h),h=Ks(r),b(h)),oc(h,{_chunkSteps:H=>{Ia(()=>{f=!1,p=!1;const V=H;let D=H;if(!v&&!g)try{D=sC(H)}catch(B){return cn(i._readableStreamController,B),cn(s._readableStreamController,B),void c(Un(r,B))}v||jd(i._readableStreamController,V),g||jd(s._readableStreamController,D),u=!1,f?I():p&&x()})},_closeSteps:()=>{u=!1,v||Rl(i._readableStreamController),g||Rl(s._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&Ud(i._readableStreamController,0),s._readableStreamController._pendingPullIntos.length>0&&Ud(s._readableStreamController,0),v&&g||c(void 0)},_errorSteps:()=>{u=!1}})}function C(H,V){Co(h)&&(ji(h),h=e3(r),b(h));const D=V?s:i,B=V?i:s;r3(h,H,1,{_chunkSteps:U=>{Ia(()=>{f=!1,p=!1;const K=V?g:v;if(V?v:g)K||Bd(D._readableStreamController,U);else{let Q;try{Q=sC(U)}catch(ee){return cn(D._readableStreamController,ee),cn(B._readableStreamController,ee),void c(Un(r,ee))}K||Bd(D._readableStreamController,U),jd(B._readableStreamController,Q)}u=!1,f?I():p&&x()})},_closeSteps:U=>{u=!1;const K=V?g:v,Q=V?v:g;K||Rl(D._readableStreamController),Q||Rl(B._readableStreamController),U!==void 0&&(K||Bd(D._readableStreamController,U),!Q&&B._readableStreamController._pendingPullIntos.length>0&&Ud(B._readableStreamController,0)),K&&Q||c(void 0)},_errorSteps:()=>{u=!1}})}function I(){if(u)return f=!0,We(void 0);u=!0;const H=i_(i._readableStreamController);return H===null?T():C(H._view,!1),We(void 0)}function x(){if(u)return p=!0,We(void 0);u=!0;const H=i_(s._readableStreamController);return H===null?T():C(H._view,!0),We(void 0)}function R(H){if(v=!0,n=H,g){const V=xl([n,o]),D=Un(r,V);c(D)}return w}function L(H){if(g=!0,o=H,v){const V=xl([n,o]),D=Un(r,V);c(D)}return w}function F(){}return i=hC(F,I,R),s=hC(F,x,L),b(h),[i,s]})(e):(function(r){const n=Ks(r);let o,i,s,c,h,u=!1,f=!1,p=!1,v=!1;const g=Et(I=>{h=I});function w(){return u?(f=!0,We(void 0)):(u=!0,oc(n,{_chunkSteps:I=>{Ia(()=>{f=!1;const x=I,R=I;p||nu(s._readableStreamController,x),v||nu(c._readableStreamController,R),u=!1,f&&w()})},_closeSteps:()=>{u=!1,p||ka(s._readableStreamController),v||ka(c._readableStreamController),p&&v||h(void 0)},_errorSteps:()=>{u=!1}}),We(void 0))}function b(I){if(p=!0,o=I,v){const x=xl([o,i]),R=Un(r,x);h(R)}return g}function T(I){if(v=!0,i=I,p){const x=xl([o,i]),R=Un(r,x);h(R)}return g}function C(){}return s=cc(C,w,b),c=cc(C,w,T),e_(n._closedPromise,I=>(Wn(s._readableStreamController,I),Wn(c._readableStreamController,I),p&&v||h(void 0),null)),[s,c]})(e)}function _8(e){return Pt(t=e)&&t.getReader!==void 0?(function(r){let n;function o(){let s;try{s=r.read()}catch(c){return _e(c)}return $i(s,c=>{if(!Pt(c))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(c.done)ka(n._readableStreamController);else{const h=c.value;nu(n._readableStreamController,h)}})}function i(s){try{return We(r.cancel(s))}catch(c){return _e(c)}}return n=cc(ic,o,i,0),n})(e.getReader()):(function(r){let n;const o=ML(r,"async");function i(){let c;try{c=FL(o)}catch(h){return _e(h)}return $i(We(c),h=>{if(!Pt(h))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(h.done)ka(n._readableStreamController);else{const u=h.value;nu(n._readableStreamController,u)}})}function s(c){const h=o.iterator;let u;try{u=Al(h,"return")}catch(f){return _e(f)}return u===void 0?We(void 0):$i(Gi(u,h,[c]),f=>{if(!Pt(f))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return n=cc(ic,i,s,0),n})(e);var t}function b8(e,t,r){return yn(e,r),n=>Gi(e,t,[n])}function S8(e,t,r){return yn(e,r),n=>Gi(e,t,[n])}function E8(e,t,r){return yn(e,r),n=>Pa(e,t,[n])}function T8(e,t){if((e=`${e}`)!="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function dC(e,t){Ui(e,t);const r=e==null?void 0:e.preventAbort,n=e==null?void 0:e.preventCancel,o=e==null?void 0:e.preventClose,i=e==null?void 0:e.signal;return i!==void 0&&(function(s,c){if(!(function(h){if(typeof h!="object"||h===null)return!1;try{return typeof h.aborted=="boolean"}catch{return!1}})(s))throw new TypeError(`${c} is not an AbortSignal.`)})(i,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!o,signal:i}}Object.defineProperties(To.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),Ve(To.prototype.close,"close"),Ve(To.prototype.enqueue,"enqueue"),Ve(To.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(To.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});let $t=class{constructor(t={},r={}){t===void 0?t=null:RL(t,"First parameter");const n=dh(r,"Second parameter"),o=(function(i,s){Ui(i,s);const c=i,h=c==null?void 0:c.autoAllocateChunkSize,u=c==null?void 0:c.cancel,f=c==null?void 0:c.pull,p=c==null?void 0:c.start,v=c==null?void 0:c.type;return{autoAllocateChunkSize:h===void 0?void 0:Lb(h,`${s} has member 'autoAllocateChunkSize' that`),cancel:u===void 0?void 0:b8(u,c,`${s} has member 'cancel' that`),pull:f===void 0?void 0:S8(f,c,`${s} has member 'pull' that`),start:p===void 0?void 0:E8(p,c,`${s} has member 'start' that`),type:v===void 0?void 0:T8(v,`${s} has member 'type' that`)}})(t,"First parameter");if(Gb(this),o.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(i,s,c){const h=Object.create(Eo.prototype);let u,f,p;u=s.start!==void 0?()=>s.start(h):()=>{},f=s.pull!==void 0?()=>s.pull(h):()=>We(void 0),p=s.cancel!==void 0?g=>s.cancel(g):()=>We(void 0);const v=s.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");ZL(i,h,u,f,p,c,v)})(this,o,ac(n,0))}else{const i=fh(n);(function(s,c,h,u){const f=Object.create(To.prototype);let p,v,g;p=c.start!==void 0?()=>c.start(f):()=>{},v=c.pull!==void 0?()=>c.pull(f):()=>We(void 0),g=c.cancel!==void 0?w=>c.cancel(w):()=>We(void 0),_3(s,f,p,v,g,h,u)})(this,o,ac(n,1),i)}}get locked(){if(!wo(this))throw na("locked");return Io(this)}cancel(t=void 0){return wo(this)?Io(this)?_e(new TypeError("Cannot cancel a stream that already has a reader")):Un(this,t):_e(na("cancel"))}getReader(t=void 0){if(!wo(this))throw na("getReader");return(function(r,n){Ui(r,n);const o=r==null?void 0:r.mode;return{mode:o===void 0?void 0:f8(o,`${n} has member 'mode' that`)}})(t,"First parameter").mode===void 0?Ks(this):e3(this)}pipeThrough(t,r={}){if(!wo(this))throw na("pipeThrough");Na(t,1,"pipeThrough");const n=(function(i,s){Ui(i,s);const c=i==null?void 0:i.readable;rC(c,"readable","ReadableWritablePair"),Db(c,`${s} has member 'readable' that`);const h=i==null?void 0:i.writable;return rC(h,"writable","ReadableWritablePair"),i3(h,`${s} has member 'writable' that`),{readable:c,writable:h}})(t,"First parameter"),o=dC(r,"Second parameter");if(Io(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Js(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return pu(fC(this,n.writable,o.preventClose,o.preventAbort,o.preventCancel,o.signal)),n.readable}pipeTo(t,r={}){if(!wo(this))return _e(na("pipeTo"));if(t===void 0)return _e("Parameter 1 is required in 'pipeTo'.");if(!js(t))return _e(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=dC(r,"Second parameter")}catch(o){return _e(o)}return Io(this)?_e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Js(t)?_e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):fC(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!wo(this))throw na("tee");return xl(w8(this))}values(t=void 0){if(!wo(this))throw na("values");return(function(r,n){const o=Ks(r),i=new jL(o,n),s=Object.create(UL);return s._asyncIteratorImpl=i,s})(this,(function(r,n){return Ui(r,n),{preventCancel:!!(r==null?void 0:r.preventCancel)}})(t,"First parameter").preventCancel)}[Ic](t){return this.values(t)}static from(t){return _8(t)}};function cc(e,t,r,n=1,o=()=>1){const i=Object.create($t.prototype);return Gb(i),_3(i,Object.create(To.prototype),e,t,r,n,o),i}function hC(e,t,r){const n=Object.create($t.prototype);return Gb(n),ZL(n,Object.create(Eo.prototype),e,t,r,0,void 0),n}function Gb(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function wo(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof $t}function Io(e){return e._reader!==void 0}function Un(e,t){if(e._disturbed=!0,e._state==="closed")return We(void 0);if(e._state==="errored")return _e(e._storedError);xc(e);const r=e._reader;if(r!==void 0&&ba(r)){const n=r._readIntoRequests;r._readIntoRequests=new vn,n.forEach(o=>{o._closeSteps(void 0)})}return $i(e._readableStreamController[Ab](t),ic)}function xc(e){e._state="closed";const t=e._reader;if(t!==void 0&&(AL(t),Co(t))){const r=t._readRequests;t._readRequests=new vn,r.forEach(n=>{n._closeSteps()})}}function b3(e,t){e._state="errored",e._storedError=t;const r=e._reader;r!==void 0&&(Nb(r,t),Co(r)?LL(r,t):n3(r,t))}function na(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}Object.defineProperties($t,{from:{enumerable:!0}}),Object.defineProperties($t.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),Ve($t.from,"from"),Ve($t.prototype.cancel,"cancel"),Ve($t.prototype.getReader,"getReader"),Ve($t.prototype.pipeThrough,"pipeThrough"),Ve($t.prototype.pipeTo,"pipeTo"),Ve($t.prototype.tee,"tee"),Ve($t.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty($t.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty($t.prototype,Ic,{value:$t.prototype.values,writable:!0,configurable:!0});const C8=e=>e.byteLength;Ve(C8,"size");const I8=()=>1;Ve(I8,"size");function x8(e,t,r){return yn(e,r),n=>Gi(e,t,[n])}function A8(e,t,r){return yn(e,r),n=>Pa(e,t,[n])}function R8(e,t,r){return yn(e,r),(n,o)=>Gi(e,t,[n,o])}function O8(e,t,r){return yn(e,r),n=>Gi(e,t,[n])}let vh=class{constructor(t={},r={},n={}){t===void 0&&(t=null);const o=dh(r,"Second parameter"),i=dh(n,"Third parameter"),s=(function(v,g){Ui(v,g);const w=v==null?void 0:v.cancel,b=v==null?void 0:v.flush,T=v==null?void 0:v.readableType,C=v==null?void 0:v.start,I=v==null?void 0:v.transform,x=v==null?void 0:v.writableType;return{cancel:w===void 0?void 0:O8(w,v,`${g} has member 'cancel' that`),flush:b===void 0?void 0:x8(b,v,`${g} has member 'flush' that`),readableType:T,start:C===void 0?void 0:A8(C,v,`${g} has member 'start' that`),transform:I===void 0?void 0:R8(I,v,`${g} has member 'transform' that`),writableType:x}})(t,"First parameter");if(s.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(s.writableType!==void 0)throw new RangeError("Invalid writableType specified");const c=ac(i,0),h=fh(i),u=ac(o,1),f=fh(o);let p;(function(v,g,w,b,T,C){function I(){return g}function x(V){return(function(D,B){const U=D._transformStreamController;return D._backpressure?$i(D._backpressureChangePromise,()=>{const K=D._writable;if(K._state==="erroring")throw K._storedError;return mC(U,B)}):mC(U,B)})(v,V)}function R(V){return(function(D,B){const U=D._transformStreamController;if(U._finishPromise!==void 0)return U._finishPromise;const K=D._readable;U._finishPromise=Et((ee,fe)=>{U._finishPromise_resolve=ee,U._finishPromise_reject=fe});const Q=U._cancelAlgorithm(B);return qd(U),Pr(Q,()=>(K._state==="errored"?ps(U,K._storedError):(Wn(K._readableStreamController,B),ey(U)),null),ee=>(Wn(K._readableStreamController,ee),ps(U,ee),null)),U._finishPromise})(v,V)}function L(){return(function(V){const D=V._transformStreamController;if(D._finishPromise!==void 0)return D._finishPromise;const B=V._readable;D._finishPromise=Et((K,Q)=>{D._finishPromise_resolve=K,D._finishPromise_reject=Q});const U=D._flushAlgorithm();return qd(D),Pr(U,()=>(B._state==="errored"?ps(D,B._storedError):(ka(B._readableStreamController),ey(D)),null),K=>(Wn(B._readableStreamController,K),ps(D,K),null)),D._finishPromise})(v)}function F(){return(function(V){return yh(V,!1),V._backpressureChangePromise})(v)}function H(V){return(function(D,B){const U=D._transformStreamController;if(U._finishPromise!==void 0)return U._finishPromise;const K=D._writable;U._finishPromise=Et((ee,fe)=>{U._finishPromise_resolve=ee,U._finishPromise_reject=fe});const Q=U._cancelAlgorithm(B);return qd(U),Pr(Q,()=>(K._state==="errored"?ps(U,K._storedError):(uc(K._writableStreamController,B),s_(D),ey(U)),null),ee=>(uc(K._writableStreamController,ee),s_(D),ps(U,ee),null)),U._finishPromise})(v,V)}v._writable=(function(V,D,B,U,K=1,Q=()=>1){const ee=Object.create(pa.prototype);return a3(ee),h3(ee,Object.create(sc.prototype),V,D,B,U,K,Q),ee})(I,x,L,R,w,b),v._readable=cc(I,F,H,T,C),v._backpressure=void 0,v._backpressureChangePromise=void 0,v._backpressureChangePromise_resolve=void 0,yh(v,!0),v._transformStreamController=void 0})(this,Et(v=>{p=v}),u,f,c,h),(function(v,g){const w=Object.create(ma.prototype);let b,T,C;b=g.transform!==void 0?I=>g.transform(I,w):I=>{try{return E3(w,I),We(void 0)}catch(x){return _e(x)}},T=g.flush!==void 0?()=>g.flush(w):()=>We(void 0),C=g.cancel!==void 0?I=>g.cancel(I):()=>We(void 0),(function(I,x,R,L,F){x._controlledTransformStream=I,I._transformStreamController=x,x._transformAlgorithm=R,x._flushAlgorithm=L,x._cancelAlgorithm=F,x._finishPromise=void 0,x._finishPromise_resolve=void 0,x._finishPromise_reject=void 0})(v,w,b,T,C)})(this,s),s.start!==void 0?p(s.start(this._transformStreamController)):p(void 0)}get readable(){if(!pC(this))throw vC("readable");return this._readable}get writable(){if(!pC(this))throw vC("writable");return this._writable}};function pC(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof vh}function S3(e,t){Wn(e._readable._readableStreamController,t),zb(e,t)}function zb(e,t){qd(e._transformStreamController),uc(e._writable._writableStreamController,t),s_(e)}function s_(e){e._backpressure&&yh(e,!1)}function yh(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=Et(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}Object.defineProperties(vh.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(vh.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class ma{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!od(this))throw ad("desiredSize");return Hb(this._controlledTransformStream._readable._readableStreamController)}enqueue(t=void 0){if(!od(this))throw ad("enqueue");E3(this,t)}error(t=void 0){if(!od(this))throw ad("error");var r;r=t,S3(this._controlledTransformStream,r)}terminate(){if(!od(this))throw ad("terminate");(function(t){const r=t._controlledTransformStream;ka(r._readable._readableStreamController);const n=new TypeError("TransformStream terminated");zb(r,n)})(this)}}function od(e){return!!Pt(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof ma}function qd(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function E3(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!iu(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{nu(n,t)}catch(i){throw zb(r,i),r._readable._storedError}(function(i){return!w3(i)})(n)!==r._backpressure&&yh(r,!0)}function mC(e,t){return $i(e._transformAlgorithm(t),void 0,r=>{throw S3(e._controlledTransformStream,r),r})}function ad(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ey(e){e._finishPromise_resolve!==void 0&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function ps(e,t){e._finishPromise_reject!==void 0&&(pu(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function vC(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(ma.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),Ve(ma.prototype.enqueue,"enqueue"),Ve(ma.prototype.error,"error"),Ve(ma.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ma.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var P8=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),ou=function(){return ou=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ou.apply(this,arguments)},N8=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},L8=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},D8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function k8(){if(typeof wx>"u"||typeof Page>"u"||!wx.getSystemInfoSync||!wx.getStorageSync||!wx.setStorageSync||!wx.connectSocket||!wx.request)return!1;try{if(!wx.getSystemInfoSync()||wx.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}function M8(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}var ty="Error when aborting requestTask",u_=(function(e){P8(t,e);function t(r){r===void 0&&(r={});var n=e.call(this)||this,o=r.timeout,i=r.timeoutMsg,s=r.restrictedMethods;return n._timeout=o||0,n._timeoutMsg=i||"",n._restrictedMethods=s||["get","post","upload","download"],n}return t.prototype.post=function(r){var n=this;return new Promise(function(o,i){var s=r.url,c=r.data,h=r.headers,u=wx.request({url:Il("https:",s),data:c,timeout:n._timeout,method:"POST",header:h,success:function(f){f.statusCode>=200&&f.statusCode<300?o({statusCode:f.statusCode,status:f.statusCode,data:f.data}):i(f)},fail:function(f){i(f)},complete:function(f){if(!(!f||!f.errMsg)&&!(!n._timeout||n._restrictedMethods.indexOf("post")===-1)){var p=f.errMsg;if(p==="request:fail timeout"){console.warn(n._timeoutMsg);try{u.abort()}catch{}}}}})})},t.prototype.get=function(r){var n=this;return new Promise(function(o,i){var s=r.url,c=r.body,h=r.headers,u=Il("https:",s),f=wx.request({url:u,data:c,timeout:n._timeout,method:"GET",header:h,success:function(p){p.statusCode>=200&&p.statusCode<300?o({statusCode:p.statusCode,status:p.statusCode,data:p.data}):i(p)},fail:function(p){i(p)},complete:function(p){if(!(!p||!p.errMsg)&&!(!n._timeout||n._restrictedMethods.indexOf("get")===-1)){var v=p.errMsg;if(v.includes("timeout")){console.warn(n._timeoutMsg);try{f.abort()}catch(g){console.warn(ty,g)}}}}})})},t.prototype.upload=function(r){var n=this,o=this;return new Promise(function(i){return N8(n,void 0,void 0,function(){var s,c,h,u,f,p;return L8(this,function(v){return s=r.url,c=r.file,h=r.data,u=r.headers,f=r.onUploadProgress,p=wx.uploadFile({url:s,filePath:c,name:"file",formData:ou({},h),header:u,timeout:this._timeout,success:function(g){var w={statusCode:g.statusCode,data:g.data||{}};g.statusCode===200&&h.success_action_status&&(w.statusCode=parseInt(h.success_action_status,10)),i(w)},fail:function(g){i(g)},complete:function(g){if(!(!g||!g.errMsg)&&!(!o._timeout||o._restrictedMethods.indexOf("upload")===-1)){var w=g.errMsg;if(w==="request:fail timeout"){console.warn(o._timeoutMsg);try{p.abort()}catch{}}}}}),f&&p.onProgressUpdate(function(g){f(g)}),[2]})})})},t.prototype.download=function(r){var n=this,o=this;return new Promise(function(i,s){var c=r.url,h=r.headers,u=wx.downloadFile({url:Il("https:",c),header:h,timeout:n._timeout,success:function(f){f.statusCode===200&&f.tempFilePath?i({statusCode:200,tempFilePath:f.tempFilePath}):i(f)},fail:function(f){s(f)},complete:function(f){if(!(!f||!f.errMsg)&&!(!o._timeout||o._restrictedMethods.indexOf("download")===-1)){var p=f.errMsg;if(p==="request:fail timeout"){console.warn(o._timeoutMsg);try{u.abort()}catch{}}}}})})},t.prototype.fetch=function(r){var n=r.url,o=r.body,i=r.enableAbort,s=r.headers,c=r.method,h=r.stream,u=h===void 0?!1:h,f=r.signal,p=r.timeout,v=this,g=p??this._timeout,w=null,b=new $t({start:function(T){w=T},cancel:function(){w=null}});return new Promise(function(T,C){u&&T({data:b});var I=wx.request({url:Il("https:",n),data:o,timeout:g,method:c.toUpperCase(),header:s,success:function(R){var L;(L=w)===null||L===void 0||L.close(),!u&&T(R)},fail:function(R){var L;if((L=w)===null||L===void 0||L.close(),C(R),u)throw R},complete:function(R){if(!(!R||!R.errMsg)&&!(!g||v._restrictedMethods.indexOf("post")===-1||!i)){var L=R.errMsg;if(L==="request:fail timeout"){console.warn(v._timeoutMsg);try{I.abort()}catch(F){console.warn(ty,F)}}}},enableChunked:u});if(I.onChunkReceived(function(R){var L;(L=w)===null||L===void 0||L.enqueue(new Uint8Array(R.data))}),f){var x=function(){try{I.abort()}catch(R){console.warn(ty,R)}};f.aborted?x():f.addEventListener("abort",function(){return x()})}})},t})(Ib),T3={setItem:function(e,t){wx.setStorageSync(e,t)},getItem:function(e){return wx.getStorageSync(e)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}},C3=(function(){function e(t,r){r===void 0&&(r={});var n=wx.connectSocket(ou({url:t},r)),o={set onopen(i){n.onOpen(i)},set onmessage(i){n.onMessage(i)},set onclose(i){n.onClose(i)},set onerror(i){n.onError(i)},send:function(i){return n.send({data:i})},close:function(i,s){return n.close({code:i,reason:s})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};return o}return e})();function I3(e){var t={},r=e.replace(/^[?#]/,"");if(!r)return t;var n=r.split("&");return n.forEach(function(o){var i=o.split("="),s=i[0],c=i[1];s=decodeURIComponent(s),c=decodeURIComponent(c),s&&(t[s]?Array.isArray(t[s])?t[s].push(c):t[s]=[t[s],c]:t[s]=c)}),t}function F8(e){var t={root:{globalThis:{}},reqClass:u_,wsClass:C3,captchaOptions:{openURIWithCallback:function(r){var n=e.EventBus,o={},i=r;console.log("openURIWithCallback",r);var s=r.match(/^(data:.*?)(\?[^#\s]*)?$/);if(s){i=s[1],console.log("openURIWithCallback url",i);var c=s[2];c&&(o=I3(c))}console.log("openURIWithCallback queryObj",o);var h=o.token,u=D8(o,["token"]);return/^data:/.test(i)&&!h?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: "+r}):h?new Promise(function(f){console.log("wait for captcha..."),n.$emit("CAPTCHA_DATA_CHANGE",ou(ou({},u),{token:h,url:i})),n.$once("RESOLVE_CAPTCHA_DATA",function(p){f(p)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:T3,primaryStorage:nc.local,getAppSign:function(){var r=wx.getAccountInfoSync();return M8()?r&&r.plugin?r.plugin.appId:"":r&&r.miniProgram?r.miniProgram.appId:""}};return t}var ci={genAdapter:F8,isMatch:k8,runtime:"wx_mp"},$l=function(){return $l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$l.apply(this,arguments)},j8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},Di={},U8=function(){u_.prototype.upload=function(t){var r=this,n=this;return new Promise(function(o){var i=t.url,s=t.file,c=t.data,h=t.headers,u=wx.getFileSystemManager(),f=wx.request({url:i,method:t.method,header:$l({"content-type":" "},h),data:u.readFileSync(s),timeout:r._timeout,success:function(p){var v={statusCode:p.statusCode,data:p.data||{}};p.statusCode===200&&(c!=null&&c.success_action_status)&&(v.statusCode=parseInt(c.success_action_status,10)),o(v)},fail:function(p){o(p)},complete:function(p){if(p!=null&&p.errMsg&&!(!n._timeout||n._restrictedMethods.indexOf("upload")===-1)){var v=p.errMsg;if(v==="request:fail timeout"){console.warn(n._timeoutMsg);try{f.abort()}catch{}}}}})})};function e(){return typeof App>"u"&&typeof getApp>"u"&&!wx.onAppHide&&!wx.offAppHide&&!wx.onAppShow&&!wx.offAppShow}return ci.genAdapter=function(r){var n={root:{globalThis:{}},reqClass:u_,wsClass:C3,captchaOptions:{openURIWithCallback:function(o){var i=r.EventBus,s={},c=o;console.log("openURIWithCallback",o);var h=o.match(/^(data:.*?)(\?[^#\s]*)?$/);if(h){c=h[1],console.log("openURIWithCallback url",c);var u=h[2];u&&(s=I3(u))}console.log("openURIWithCallback queryObj",s);var f=s.token,p=j8(s,["token"]);return/^data:/.test(c)&&!f?Promise.reject({error:"invalid_argument",error_description:"invalie captcha data: ".concat(o)}):f?new Promise(function(v){console.log("wait for captcha..."),i.$emit("CAPTCHA_DATA_CHANGE",$l($l({},p),{token:f,url:c})),i.$once("RESOLVE_CAPTCHA_DATA",function(g){v(g)})}):Promise.reject({error:"unimplemented",error_description:"need to impl captcha data"})}},localStorage:T3,primaryStorage:nc.local,getAppSign:function(){var o=wx.getAccountInfoSync();return e()?o&&o.plugin?o.plugin.appId:"":o&&o.miniProgram?o.miniProgram.appId:""}};return n},ci},Us=function(){return Us=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Us.apply(this,arguments)},B8="user_info",yC=Qq,l_={},c_={};function gC(e){var t=e.env,r=e.platformInfo,n="".concat(B8,"_").concat(t),o={userInfoKey:n};l_[t]=l_[t]||new yC(Us(Us({},e),{keys:o,platformInfo:r})),c_[t]=c_[t]||new yC(Us(Us({},e),{keys:o,platformInfo:r,persistence:"local"}))}function $8(e){return l_[e]}function x3(e){return c_[e]}var gh=function(){return gh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},gh.apply(this,arguments)},q8=["ap-shanghai","ap-guangzhou","ap-shenzhen-fsi","ap-shanghai-fsi","ap-nanjing","ap-beijing","ap-chengdu","ap-chongqing","ap-hongkong"],V8=kq,W8=Mq,A3="",R3="@cloudbase/js-sdk";function H8(e){A3=e}function wh(){return A3}function G8(e){R3=e,V8(e)}function z8(){return R3}var K8="2020-01-10",O3=[],Y8=["env","endPointKey","region"],f_="https:";function P3(e){return O3.find(function(t){return Y8.filter(function(r){return e[r]!=null}).every(function(r){return t[r]===e[r]})})}function _h(e){var t,r;e.protocol&&!/:$/.test(e.protocol)&&(e.protocol="".concat(e.protocol,":"));var n=P3(e);n?(e.baseUrl!=null&&(n.baseUrl=e.baseUrl),e.protocol!=null&&(n.protocol=e.protocol)):O3.push(gh(gh({},e),{protocol:(t=e.protocol)!==null&&t!==void 0?t:f_})),e.endPointKey==="CLOUD_API"&&W8((r=e.protocol)!==null&&r!==void 0?r:f_)}function bh(e,t,r){return P3({env:e,endPointKey:t,region:r})}function J8(e,t,r){r===void 0&&(r="ap-shanghai"),r=r||"ap-shanghai";var n="//".concat(e,".api.tcloudbasegateway.com/v1");q8.includes(r)||(n="//".concat(e,".api.intl.tcloudbasegateway.com/v1")),_h({endPointKey:"GATEWAY",env:e,baseUrl:n,protocol:t})}function Q8(e,t,r){var n="//".concat(e,".").concat(t||"ap-shanghai",".tcb-api.tencentcloudapi.com/web");_h({env:e,region:t,baseUrl:n,protocol:r,endPointKey:"CLOUD_API"})}function wC(e,t){t===void 0&&(t="CLOUD_API");var r=bh(e,t||"CLOUD_API"),n=r.protocol,o=r.baseUrl,i="".concat(n).concat(o);return i.match(/(http(s)?:)?\/\/([^/?#]*)/)[0]}var _C;(function(e){e.NULL="NULL",e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.PHONE="PHONE"})(_C||(_C={}));var Ue=function(){return Ue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ue.apply(this,arguments)},ri=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},ni=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},X8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},ry=Rr,Z8=$q,eV=vL,bC=gL,tV=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function ny(e,t,r){var n=e[t];e[t]=function(o){var i={},s={};r.forEach(function(h){var u=h.call(e,o),f=u.data,p=u.headers;Object.assign(i,f),Object.assign(s,p)});var c=o.data;return c&&(function(){if(eV(c)){Object.keys(i).forEach(function(h){c.append(h,i[h])});return}o.data=Ue(Ue({},c),i)})(),o.headers=Ue(Ue({},o.headers||{}),s),n.call(e,o)}}function iy(){var e=Z8();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/".concat(wh()),"x-seqid":e}}}var rV=(function(){function e(t){var r=this;this.throwWhenRequestFail=!1,this.config=t;var n={timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] ".concat(this.config.timeout/1e3,"s"),restrictedMethods:["post","put"]};this.reqClass=new Di.adapter.reqClass(n),this.throwWhenRequestFail=t.throw||!1,this.localCache=x3(this.config.env),this.config.endPointMode!=="GATEWAY"&&(ny(this.reqClass,"post",[iy]),ny(this.reqClass,"upload",[iy]),ny(this.reqClass,"download",[iy])),Zh.on(ep,function(o){var i;r.config.i18n=((i=o.data)===null||i===void 0?void 0:i.i18n)||r.config.i18n})}return e.prototype.getAccessToken=function(t){return t===void 0&&(t=null),ri(this,void 0,void 0,function(){var r,n,o;return ni(this,function(i){switch(i.label){case 0:if(t!=null)return[2,t];if(r=this.config._fromApp,!r.oauthInstance)throw new Error("you can't request without auth");return n=r.oauthInstance,o=n.oauth2client,[4,this.getOauthAccessTokenV2(o)];case 1:return[2,i.sent().accessToken]}})})},e.prototype.getDefaultHeaders=function(){var t,r,n;return t={},t[(r=this.config.i18n)===null||r===void 0?void 0:r.LANG_HEADER_KEY]=(n=this.config.i18n)===null||n===void 0?void 0:n.lang,t["X-SDK-Version"]="@cloudbase/js-sdk/".concat(wh()),t},e.prototype.post=function(t,r){return ri(this,void 0,void 0,function(){var n;return ni(this,function(o){switch(o.label){case 0:return[4,this.reqClass.post(Ue(Ue({},t),{headers:Ue(Ue({},t.headers),this.getDefaultHeaders()),customReqOpts:r}))];case 1:return n=o.sent(),[2,n]}})})},e.prototype.upload=function(t){return ri(this,void 0,void 0,function(){var r;return ni(this,function(n){switch(n.label){case 0:return[4,this.reqClass.upload(Ue(Ue({},t),{headers:Ue(Ue({},t.headers),this.getDefaultHeaders())}))];case 1:return r=n.sent(),[2,r]}})})},e.prototype.download=function(t){return ri(this,void 0,void 0,function(){var r;return ni(this,function(n){switch(n.label){case 0:return[4,this.reqClass.download(Ue(Ue({},t),{headers:Ue(Ue({},t.headers),this.getDefaultHeaders())}))];case 1:return r=n.sent(),[2,r]}})})},e.prototype.getBaseEndPoint=function(t){return t===void 0&&(t="CLOUD_API"),wC(this.config.env,t)},e.prototype.getOauthAccessTokenV2=function(t){return ri(this,void 0,void 0,function(){var r,n;return ni(this,function(o){switch(o.label){case 0:return[4,t.getAccessToken()];case 1:return r=o.sent(),[4,t.getCredentials()];case 2:return n=o.sent(),[2,{accessToken:r,accessTokenExpire:new Date(n.expires_at).getTime()}]}})})},e.prototype.request=function(t,r,n,o){var i,s;return ri(this,void 0,void 0,function(){var c,h,u,f,p,v,g,w,b,T,C,I,x,R,L,F,H,V,D,B,U;return ni(this,function(K){switch(K.label){case 0:if(c="x-tcb-trace_".concat(this.config.env),h="application/x-www-form-urlencoded",u=Ue({action:t,dataVersion:K8,env:this.config.env},r),tV.indexOf(t)!==-1)return[3,2];if(f=this.config._fromApp,!f.oauthInstance)throw new Error("you can't request without auth");return p=f.oauthInstance,v=p.oauth2client,g=u,[4,this.getOauthAccessTokenV2(v)];case 1:g.access_token=K.sent().accessToken,K.label=2;case 2:return t==="storage.uploadFile"?(w=new FormData,Object.keys(w).forEach(function(Q){Object.prototype.hasOwnProperty.call(w,Q)&&w[Q]!==void 0&&w.append(Q,u[Q])}),h="multipart/form-data"):(h="application/json;charset=UTF-8",w={},Object.keys(u).forEach(function(Q){u[Q]!==void 0&&(w[Q]=u[Q])})),b={headers:Ue({"content-type":h},this.getDefaultHeaders())},n!=null&&n.onUploadProgress&&(b.onUploadProgress=n.onUploadProgress),this.config.region&&(b.headers["X-TCB-Region"]=this.config.region),T=this.localCache.getStore(c),T&&(b.headers["X-TCB-Trace"]=T),C=(n==null?void 0:n.parse)!==void 0?n.parse:r.parse,I=(n==null?void 0:n.inQuery)!==void 0?n.inQuery:r.inQuery,x=(n==null?void 0:n.search)!==void 0?n.search:r.search,R=Ue(Ue({},(n==null?void 0:n.defaultQuery)||{}),{env:this.config.env}),C&&(R.parse=!0),I&&(R=Ue(Ue({},I),R)),L=this.config.endPointMode||"CLOUD_API",F=bh(this.config.env,L),H=F.baseUrl,V=F.protocol,L==="GATEWAY"&&(t==="functions.invokeFunction"||/^(storage|database)\./.test(t))&&(H="".concat(H.match(/\/\/([^/?#]*)/)[0],"/web")),n.pathname?D=bC(V,"".concat((i=wC(this.config.env,L))===null||i===void 0?void 0:i.replace(/^https?:/,""),"/").concat(n.pathname),R):D=bC(V,H,R),x&&(D+=x),[4,this.post(Ue({url:D,data:w},b),o)];case 3:if(B=K.sent(),U=(s=B.header)===null||s===void 0?void 0:s["x-tcb-trace"],U&&this.localCache.setStore(c,U),Number(B.status)!==200&&Number(B.statusCode)!==200||!B.data)throw new Error("network request error");return[2,B]}})})},e.prototype.fetch=function(t){var r,n,o,i,s,c,h,u;return ri(this,void 0,void 0,function(){var f,p,v,g,w,b,T,C=this;return ni(this,function(I){switch(I.label){case 0:f=t.token,p=t.headers,v=p===void 0?{}:p,g=X8(t,["token","headers"]),w=function(){return ri(C,void 0,void 0,function(){var x,R,L,F,H;return ni(this,function(V){switch(V.label){case 0:return R=(x=this.reqClass).fetch,F={},H={"X-SDK-Version":"@cloudbase/js-sdk/".concat(wh())},L="Bearer ".concat,[4,this.getAccessToken(f)];case 1:return[2,R.apply(x,[Ue.apply(void 0,[(F.headers=Ue.apply(void 0,[Ue.apply(void 0,[(H.Authorization=L.apply("Bearer ",[V.sent()]),H),this.getDefaultHeaders()]),v]),F),g])])]}})})},I.label=1;case 1:return I.trys.push([1,3,,6]),[4,w()];case 2:return b=I.sent(),[2,b];case 3:if(T=I.sent(),(T==null?void 0:T.code)!=="ACCESS_TOKEN_EXPIRED")return[3,5];if(typeof((i=(o=(n=(r=this.config)===null||r===void 0?void 0:r._fromApp)===null||n===void 0?void 0:n.oauthInstance)===null||o===void 0?void 0:o.authApi)===null||i===void 0?void 0:i.refreshTokenForce)!="function")throw T;return[4,(u=(h=(c=(s=this.config)===null||s===void 0?void 0:s._fromApp)===null||c===void 0?void 0:c.oauthInstance)===null||h===void 0?void 0:h.authApi)===null||u===void 0?void 0:u.refreshTokenForce()];case 4:return I.sent(),[2,w()];case 5:throw T;case 6:return[2]}})})},e.prototype.send=function(t,r,n,o){return r===void 0&&(r={}),n===void 0&&(n={}),ri(this,void 0,void 0,function(){var i;return ni(this,function(s){switch(s.label){case 0:return[4,this.request(t,r,Ue(Ue({},n),{onUploadProgress:r.onUploadProgress}),o)];case 1:if(i=s.sent(),i.data.code&&this.throwWhenRequestFail)throw new Error(JSON.stringify({code:ry.OPERATION_FAIL,msg:"[".concat(i.data.code,"] ").concat(i.data.message)}));return[2,i.data]}})})},e.prototype.gateWay=function(t,r){return ri(this,void 0,void 0,function(){var n,o,i,s,c,h,u,f,p,v,g,w,b,T,C,I;return ni(this,function(x){switch(x.label){case 0:if(n=t.name,o=t.data,i=t.path,s=i===void 0?"":i,c=t.method,h=t.header,u=h===void 0?{}:h,!n||!s)throw new Error(JSON.stringify({code:ry.INVALID_PARAMS,msg:"[gateWay] invalid function name or path"}));try{f=o?JSON.stringify(o):""}catch{throw new Error(JSON.stringify({code:ry.INVALID_PARAMS,msg:"[gateWay] invalid data"}))}return p=yL(),v=bh(this.config.env,"GATEWAY"),g=v.baseUrl,w=v.protocol,b="".concat(w).concat(g,"/").concat(s,"/").concat(n),[4,this.fetch({method:c||"POST",headers:Ue({"Content-Type":"application/json; charset=utf-8","X-Request-Id":p},u),body:f,url:b,customReqOpts:r})];case 1:return T=x.sent(),C=[Ue({requestId:p},T)],I={},[4,T.data];case 2:return[2,Ue.apply(void 0,C.concat([(I.data=x.sent(),I)]))]}})})},e})(),N3={};function nV(e){N3[e.env]=new rV(Ue(Ue({},e),{throw:!0}))}function iV(e){return N3[e]}var oy,Sh;(function(e){e.ZH="zh-CN",e.EN="en-US"})(Sh||(Sh={}));var oV="Accept-Language",aV=(oy={},oy[Sh.EN]={" AI+ ":"Please check the calling method or visit the AI+ homepage to view the documentation","AI+ ":"AI+ request error, error code",:"error message",:"not implemented"," wasm ":"wasm loading is not supported in mini programs"," js ":"dynamic js loading is not supported in mini programs",:"request timeout"," privatelink sdk ":"missing privatelink sdk address"},oy),SC=function(e,t){var r;return((r=aV[t])===null||r===void 0?void 0:r[e])||e},sV=function(e){return"lang_".concat(e.clientId||e.env)},uV=function(e,t){var r,n,o=sV(t),i=(e.adapter||{}).localStorage,s=t.lang||((r=i==null?void 0:i.getItem)===null||r===void 0?void 0:r.call(i,o))||Sh.ZH;return(n=i==null?void 0:i.setItem)===null||n===void 0||n.call(i,o,s),new Proxy({t:function(c){return SC(c,s)},LANG_HEADER_KEY:oV,lang:s},{get:function(c,h){var u;return h==="lang"&&((u=i==null?void 0:i.getItem)===null||u===void 0?void 0:u.call(i,o))||c[h]},set:function(c,h,u){var f;return h==="lang"&&u!==c[h]&&(c[h]=u,c.t=function(p){return SC(p,u)},(f=i==null?void 0:i.setItem)===null||f===void 0||f.call(i,o,u),Zh.fire(ep,{i18n:c})),c[h]=u,!0}})},ia={},rr={},EC;function L3(){if(EC)return rr;EC=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.COMMUNITY_SITE_URL=rr.IS_DEBUG_MODE=rr.getProtocol=rr.setProtocol=rr.getSdkName=rr.setSdkName=void 0;var e="@cloudbase/js-sdk";function t(s){e=s}rr.setSdkName=t;function r(){return e}rr.getSdkName=r;var n="https:";function o(s){n=s}rr.setProtocol=o;function i(){return n}return rr.getProtocol=i,rr.IS_DEBUG_MODE=!1,rr.COMMUNITY_SITE_URL="https://support.qq.com/products/148793",rr}var ll={},TC;function lV(){return TC||(TC=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.ERRORS=void 0,ll.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}),ll}var CC;function ap(){return CC||(CC=1,(function(e){var t=ia&&ia.__createBinding||(Object.create?(function(n,o,i,s){s===void 0&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}):(function(n,o,i,s){s===void 0&&(s=i),n[s]=o[i]})),r=ia&&ia.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.OATUH_LOGINTYPE=void 0,r(L3(),e),r(lV(),e),e.OATUH_LOGINTYPE="constants"})(ia)),ia}var $e=ap(),fc=function(){return fc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fc.apply(this,arguments)},D3=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},k3=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function cV(e,t){var r,n,o;return D3(this,void 0,void 0,function(){var i,s,c,h,u,f,p,v,g,w,b,T,C,I,x,R;return k3(this,function(L){switch(L.label){case 0:if(i=e||{},s=i.name,c=i.body,h=i.path,u=h===void 0?"":h,f=i.method,p=f===void 0?"POST":f,v=i.headers,g=v===void 0?{}:v,w=i.token,!s)throw new Error(JSON.stringify({code:$e.ERRORS.INVALID_PARAMS,msg:"[apis] invalid api name"}));return b=this.getEndPointWithKey("GATEWAY"),T=b.BASE_URL,C=b.PROTOCOL,I="".concat(C).concat(T,"/apis/").concat(s),x=u.startsWith("/")?u:"/".concat(u),[4,this.request.fetch(fc({url:"".concat(I).concat(x),method:p||"POST",headers:fc({"Content-Type":"application/json; charset=utf-8"},g),body:c,token:((r=w==null?void 0:w.trim)===null||r===void 0?void 0:r.call(w))||((o=(n=g.Authorization)===null||n===void 0?void 0:n.replace)===null||o===void 0?void 0:o.call(n,/^Bearer /,""))||null},t))];case 1:return R=L.sent(),[4,R.data];case 2:return[2,L.sent()]}})})}var fV=["GET","POST","PUT","DELETE","HEAD","OPTIONS","PATCH","REQUEST"];function dV(e){var t=this;return new Proxy({},{get:function(r,n){if(typeof n!="string")throw new Error("[apis] method must be string");var o=n.toLocaleUpperCase();if(!fV.includes(o))throw new Error("[apis] invalid method: ".concat(n));return function(i,s){return D3(t,void 0,void 0,function(){return k3(this,function(c){switch(c.label){case 0:return[4,cV.call(this,fc({name:e,method:(o==="REQUEST"?i.method:o)||"POST"},i),s)];case 1:return[2,c.sent()]}})})}}})}function hV(){var e=this;return new Proxy({},{get:function(t,r){if(typeof r=="string")return dV.call(e,r)}})}var ql=function(){return ql=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ql.apply(this,arguments)},IC=function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},ms=function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},pV=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},mV=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},yV=zq,gV=Kq,sd=Rr,xC=Xh,AC=zs,RC=tp,wV={timeout:15e3,persistence:"local"},OC=1e3*60*10,PC=100,NC={},_V=(function(){function e(t){this.cloudbaseConfig=t||this.cloudbaseConfig,this.authInstance=null,this.oauthInstance=null,this.version=wh()}return Object.defineProperty(e.prototype,"config",{get:function(){return this.cloudbaseConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return Di},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return $8(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return x3(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return iV(this.cloudbaseConfig.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apis",{get:function(){return hV.call(this)},enumerable:!1,configurable:!0}),e.prototype.init=function(t){var r;if(!t.env)throw new Error(JSON.stringify({code:sd.INVALID_PARAMS,msg:"env must not be specified"}));Di.adapter||this.useDefaultAdapter();var n={timeout:t.timeout||5e3,timeoutMsg:"[".concat(z8(),"][REQUEST TIMEOUT] request had been abort since didn't finished within").concat(t.timeout/1e3,"s")};this.requestClient=new Di.adapter.reqClass(n),this.cloudbaseConfig=ql(ql(ql({},wV),t),{i18n:uV(Di,t)}),delete this.cloudbaseConfig.lang,this.cloudbaseConfig.timeout=this.formatTimeout(this.cloudbaseConfig.timeout);var o=this.cloudbaseConfig,i=o.env,s=o.persistence,c=o.debug,h=o.timeout,u=o.oauthClient,f=o.i18n;gC({env:i,persistence:s,debug:c,platformInfo:this.platform}),Q8(i,t.region||""),J8(i,f_,t.region||"");var p=new e(this.cloudbaseConfig);return nV({env:i,region:t.region||"",timeout:h,oauthClient:u,_fromApp:p,i18n:f,endPointMode:t.endPointMode}),p.requestClient=this.requestClient,(r=this===null||this===void 0?void 0:this.fire)===null||r===void 0||r.call(this,"cloudbase_init",p),this.try2InitAuth(t,p),p},e.prototype.updateConfig=function(t){var r=t.persistence,n=t.debug;this.cloudbaseConfig.persistence=r,this.cloudbaseConfig.debug=n,gC({env:this.cloudbaseConfig.env,persistence:r,debug:n,platformInfo:this.platform})},e.prototype.updateLang=function(t){var r;!t||t===((r=this.cloudbaseConfig.i18n)===null||r===void 0?void 0:r.lang)||(this.cloudbaseConfig.i18n.lang=t)},e.prototype.registerExtension=function(t){NC[t.name]=t},e.prototype.invokeExtension=function(t,r){return pV(this,void 0,void 0,function(){var n;return mV(this,function(o){switch(o.label){case 0:if(n=NC[t],!n)throw new Error(JSON.stringify({code:sd.INVALID_PARAMS,msg:"extension:".concat(t," must be registered before invoke")}));return[4,n.invoke(r,this)];case 1:return[2,o.sent()]}})})},e.prototype.useAdapters=function(t,r){var n=yV(t,r)||{},o=n.adapter,i=n.runtime;o&&(Di.adapter=o),i&&(Di.runtime=i)},e.prototype.registerHook=function(t){i8(e,t)},e.prototype.registerComponent=function(t){n8(e,t)},e.prototype.registerVersion=function(t){H8(t),this.version=t},e.prototype.registerSdkName=function(t){G8(t)},e.prototype.registerEndPoint=function(t,r){_h({baseUrl:t,protocol:r,env:this.config.env,endPointKey:"CLOUD_API"})},e.prototype.registerEndPointWithKey=function(t){_h({env:this.config.env,endPointKey:t.key,baseUrl:t.url,protocol:t.protocol})},e.prototype.getEndPointWithKey=function(t){var r=bh(this.config.env,t);return{BASE_URL:r.baseUrl,PROTOCOL:r.protocol}},e.prototype.parseCaptcha=function(t){var r={},n=t.match(/^(data:.*?)(\?[^#\s]*)?$/);if(n){t=n[1];var o=n[2];o&&(r=Vq(o))}var i=r.token,s=vV(r,["token"]);return/^data:/.test(t)&&!i?{error:"invalid_argument",error_description:"invalid captcha data: ".concat(t)}:i?{state:s.state,token:i,captchaData:t}:{error:"unimplemented",error_description:"need to impl captcha data"}},e.prototype.useDefaultAdapter=function(){var t=gV(),r=t.adapter,n=t.runtime;Di.adapter=r,Di.runtime=n},e.prototype.formatTimeout=function(t){switch(!0){case t>OC:return AC(sd.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),OC;case t<PC:return AC(sd.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),PC;default:return t}},e.prototype.try2InitAuth=function(t,r){try{t.accessKey&&r.auth()}catch(n){console.log("try2InitAuth error:",n)}},IC([RC({mode:"sync",title:"Cloudbase ",messages:["","  1 -  cloudbase.init() ","  2 - https://docs.cloudbase.net/api-reference/webv3/adapter#%E7%AC%AC-2-%E6%AD%A5%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E5%BA%94%E7%94%A8%E6%9D%A5%E6%BA%90","".concat(xC)]}),ms("design:type",Function),ms("design:paramtypes",[Object]),ms("design:returntype",e)],e.prototype,"init",null),IC([RC({title:"",messages:["","  1 -  invokeExtension() ","  2 -  registerExtension() ","".concat(xC)]}),ms("design:type",Function),ms("design:paramtypes",[String,Object]),ms("design:returntype",Promise)],e.prototype,"invokeExtension",null),e})(),Ir=new _V;Ir.useAdapters(U8());const sp="/auth";var Le;(function(e){e.AUTH_SIGN_UP_URL="/v1/signup",e.AUTH_TOKEN_URL="/v1/token",e.AUTH_REVOKE_URL="/v1/revoke",e.WEDA_USER_URL="/v1/plugin/weda/userinfo",e.AUTH_RESET_PASSWORD="/v1/reset",e.AUTH_GET_DEVICE_CODE="/v1/device/code",e.CHECK_USERNAME="/v1/checkUsername",e.CHECK_IF_USER_EXIST="/v1/checkIfUserExist",e.GET_PROVIDER_TYPE="/v1/mgr/provider/providerSubType",e.AUTH_SIGN_IN_URL="/v1/signin",e.AUTH_SIGN_IN_ANONYMOUSLY_URL="/v1/signin/anonymously",e.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v1/signin/with/provider",e.AUTH_SIGN_IN_WITH_WECHAT_URL="/v1/signin/wechat/noauth",e.AUTH_SIGN_IN_CUSTOM="/v1/signin/custom",e.PROVIDER_TOKEN_URL="/v1/provider/token",e.PROVIDER_URI_URL="/v1/provider/uri",e.USER_ME_URL="/v1/user/me",e.AUTH_SIGNOUT_URL="/v1/user/signout",e.USER_QUERY_URL="/v1/user/query",e.USER_PRIFILE_URL="/v1/user/profile",e.USER_BASIC_EDIT_URL="/v1/user/basic/edit",e.USER_TRANS_BY_PROVIDER_URL="/v1/user/trans/by/provider",e.PROVIDER_LIST="/v1/user/provider",e.PROVIDER_BIND_URL="/v1/user/provider/bind",e.PROVIDER_UNBIND_URL="/v1/user/provider",e.CHECK_PWD_URL="/v1/user/sudo",e.SUDO_URL="/v1/user/sudo",e.BIND_CONTACT_URL="/v1/user/contact",e.AUTH_SET_PASSWORD="/v1/user/password",e.AUTHORIZE_DEVICE_URL="/v1/user/device/authorize",e.AUTHORIZE_URL="/v1/user/authorize",e.AUTHORIZE_INFO_URL="/v1/user/authorize/info",e.AUTHORIZED_DEVICES_DELETE_URL="/v1/user/authorized/devices/",e.AUTH_REVOKE_ALL_URL="/v1/user/revoke/all",e.GET_USER_BEHAVIOR_LOG="/v1/user/security/history",e.VERIFICATION_URL="/v1/verification",e.VERIFY_URL="/v1/verification/verify",e.CAPTCHA_DATA_URL="/v1/captcha/data",e.VERIFY_CAPTCHA_DATA_URL="/v1/captcha/data/verify",e.GET_CAPTCHA_URL="/v1/captcha/init",e.GET_MINIPROGRAM_QRCODE="/v1/qrcode/generate",e.GET_MINIPROGRAM_QRCODE_STATUS="/v1/qrcode/get/status"})(Le||(Le={}));var Qs;(function(e){e.AUTH_SIGN_IN_URL="/v2/signin/username",e.AUTH_TOKEN_URL="/v2/token",e.USER_ME_URL="/v2/user/me",e.VERIFY_URL="/v2/signin/verificationcode",e.AUTH_SIGN_IN_WITH_PROVIDER_URL="/v2/signin/with/provider",e.AUTH_PUBLIC_KEY="/v2/signin/publichkey",e.AUTH_RESET_PASSWORD="/v2/signin/password/update"})(Qs||(Qs={}));var LC;(function(e){e.REGISTER="REGISTER",e.SIGN_IN="SIGN_IN",e.PASSWORD_RESET="PASSWORD_RESET",e.EMAIL_ADDRESS_CHANGE="EMAIL_ADDRESS_CHANGE",e.PHONE_NUMBER_CHANGE="PHONE_NUMBER_CHANGE"})(LC||(LC={}));var ur;(function(e){e.UNREACHABLE="unreachable",e.LOCAL="local",e.CANCELLED="cancelled",e.UNKNOWN="unknown",e.UNAUTHENTICATED="unauthenticated",e.RESOURCE_EXHAUSTED="resource_exhausted",e.FAILED_PRECONDITION="failed_precondition",e.INVALID_ARGUMENT="invalid_argument",e.DEADLINE_EXCEEDED="deadline_exceeded",e.NOT_FOUND="not_found",e.ALREADY_EXISTS="already_exists",e.PERMISSION_DENIED="permission_denied",e.ABORTED="aborted",e.OUT_OF_RANGE="out_of_range",e.UNIMPLEMENTED="unimplemented",e.INTERNAL="internal",e.UNAVAILABLE="unavailable",e.DATA_LOSS="data_loss",e.INVALID_PASSWORD="invalid_password",e.PASSWORD_NOT_SET="password_not_set",e.INVALID_STATUS="invalid_status",e.USER_PENDING="user_pending",e.USER_BLOCKED="user_blocked",e.INVALID_VERIFICATION_CODE="invalid_verification_code",e.TWO_FACTOR_REQUIRED="two_factor_required",e.INVALID_TWO_FACTOR="invalid_two_factor",e.INVALID_TWO_FACTOR_RECOVERY="invalid_two_factor_recovery",e.UNDER_REVIEW="under_review",e.INVALID_REQUEST="invalid_request",e.UNAUTHORIZED_CLIENT="unauthorized_client",e.ACCESS_DENIED="access_denied",e.UNSUPPORTED_RESPONSE_TYPE="unsupported_response_type",e.INVALID_SCOPE="invalid_scope",e.INVALID_GRANT="invalid_grant",e.SERVER_ERROR="server_error",e.TEMPORARILY_UNAVAILABLE="temporarily_unavailable",e.INTERACTION_REQUIRED="interaction_required",e.LOGIN_REQUIRED="login_required",e.ACCOUNT_SELECTION_REQUIRED="account_selection_required",e.CONSENT_REQUIRED="consent_required",e.INVALID_REQUEST_URI="invalid_request_uri",e.INVALID_REQUEST_OBJECT="invalid_request_object",e.REQUEST_NOT_SUPPORTED="request_not_supported",e.REQUEST_URI_NOT_SUPPORTED="request_uri_not_supported",e.REGISTRATION_NOT_SUPPORTED="registration_not_supported",e.CAPTCHA_REQUIRED="captcha_required",e.CAPTCHA_INVALID="captcha_invalid"})(ur||(ur={}));var DC;(function(e){e.CLIENT_ID="client_id",e.CLIENT_SECRET="client_secret",e.RESPONSE_TYPE="response_type",e.SCOPE="scope",e.STATE="state",e.REDIRECT_URI="redirect_uri",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ERROR_URI="error_uri",e.GRANT_TYPE="grant_type",e.CODE="code",e.ACCESS_TOKEN="access_token",e.TOKEN_TYPE="token_type",e.EXPIRES_IN="expires_in",e.USERNAME="username",e.PASSWORD="password",e.REFRESH_TOKEN="refresh_token"})(DC||(DC={}));function M3(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const Vd=e=>{const t=n=>{for(const o in e)e.hasOwnProperty(o)&&(n[o]=Vd(e[o]));return n},r=e==null?"NullOrUndefined":Object.prototype.toString.call(e).slice(8,-1);if(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].includes(r))return e.slice();switch(r){case"Object":return t(Object.create(Object.getPrototypeOf(e)));case"Array":return t([]);case"Date":return new Date(e.valueOf());case"RegExp":return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""));default:return e}},kC=e=>{const t=/^(?:http(s)?:\/\/[^\/]+)?(\/[^\?#]*)/,r=e.match(t);return r&&r[2]||""};let cl=new Map;class F3{constructor(t){this.clientId=(t==null?void 0:t.clientId)||"",cl=cl||new Map}async run(t,r){t=`${this.clientId}_${t}`;let n=cl.get(t);return n||(n=new Promise((o,i)=>{(async()=>{try{await this.runIdlePromise();const s=r();o(await s)}catch(s){i(s)}finally{cl.delete(t)}})()}),cl.set(t,n)),n}runIdlePromise(){return Promise.resolve()}}const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bV(e){e=String(e);let t,r,n,o,i="",s=0;const c=e.length%3;for(;s<e.length;){if((r=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");t=r<<16|n<<8|o,i+=ud.charAt(t>>18&63)+ud.charAt(t>>12&63)+ud.charAt(t>>6&63)+ud.charAt(t&63)}return c?i.slice(0,c-3)+"===".substring(c):i}function Kb(){if(typeof globalThis>"u")return!1;const{wx:e}=globalThis;if(typeof e>"u"||globalThis.Page===void 0||!e.getSystemInfoSync||!e.getStorageSync||!e.setStorageSync||!e.connectSocket||!e.request)return!1;try{if(!e.getSystemInfoSync()||e.getSystemInfoSync().AppPlatform==="qq")return!1}catch{return!1}return!0}let dc=!1;function MC(){dc=dc||typeof window!==void 0&&window.__wxjs_environment==="miniprogram"}try{Kb()||(dc=dc||!!navigator.userAgent.match(/miniprogram/i)||window.__wxjs_environment==="miniprogram",window&&window.WeixinJSBridge&&window.WeixinJSBridge.invoke?MC():typeof document<"u"&&document.addEventListener("WeixinJSBridgeReady",MC,!1))}catch{}function FC(){return dc}const jC="x-request-id",UC="x-device-id",BC="device_id",SV=async function(e,t){let r=null,n=null;try{const o=Object.assign({},t);o.method||(o.method="GET"),o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body));const s=await(await fetch(e,o)).json();s!=null&&s.error?(n=s,n.error_uri=new URL(e).pathname):r=s}catch(o){n={error:ur.UNREACHABLE,error_description:o.message,error_uri:new URL(e).pathname}}if(n)throw n;return r};function EV(){return M3()}class TV{constructor(t){this._env=(t==null?void 0:t.env)||""}async getItem(t){return window.localStorage.getItem(`${t}${this._env}`)}async removeItem(t){window.localStorage.removeItem(`${t}${this._env}`)}async setItem(t,r){window.localStorage.setItem(`${t}${this._env}`,r)}getItemSync(t){return window.localStorage.getItem(`${t}${this._env}`)}removeItemSync(t){window.localStorage.removeItem(`${t}${this._env}`)}setItemSync(t,r){window.localStorage.setItem(`${t}${this._env}`,r)}}const Yb=new TV;function j3(e){let t=!0;return e!=null&&e.expires_at&&(e!=null&&e.access_token)&&(t=e.expires_at<new Date),t}class CV{constructor(t){this.credentials=null,this.accessKeyCredentials=null,this.singlePromise=null,this.tokenSectionName=t.tokenSectionName,this.storage=t.storage,this.clientId=t.clientId,this.singlePromise=new F3({clientId:this.clientId}),this.credentials=t.credentials||null}getStorageCredentialsSync(){let t=null;const r=this.storage.getItemSync(this.tokenSectionName);if(r!=null)try{t=JSON.parse(r),t!=null&&t.expires_at&&(t.expires_at=new Date(t.expires_at))}catch{this.storage.removeItem(this.tokenSectionName),t=null}return t}async setCredentials(t){if(t!=null&&t.expires_in){if(t!=null&&t.expires_at||(t.expires_at=new Date(Date.now()+(t.expires_in-30)*1e3)),this.storage){const r=JSON.stringify(t);await this.storage.setItem(this.tokenSectionName,r)}this.credentials=t}else this.storage&&await this.storage.removeItem(this.tokenSectionName),this.credentials=null}setAccessKeyCredentials(t){this.accessKeyCredentials=t}async getCredentials(){return this.singlePromise.run("getCredentials",async()=>{if(j3(this.credentials)){const{credentials:t,isAccessKeyCredentials:r}=await this.getStorageCredentials();if(r)return t;this.credentials=t}return this.credentials})}async getStorageCredentials(){return this.singlePromise.run("_getStorageCredentials",async()=>{let t=null,r=!1;const n=await this.storage.getItem(this.tokenSectionName);if(n)try{t=JSON.parse(n),t!=null&&t.expires_at&&(t.expires_at=new Date(t.expires_at))}catch{await this.storage.removeItem(this.tokenSectionName),t=null}else t=this.accessKeyCredentials||null,r=!0;return{credentials:t,isAccessKeyCredentials:r}})}}class qn{constructor(t){this.singlePromise=null,t.clientSecret||(t.clientSecret=""),!t.clientId&&t.env&&(t.clientId=t.env),this.apiOrigin=t.apiOrigin,this.apiPath=t.apiPath||sp,this.clientId=t.clientId,this.i18n=t.i18n,this.singlePromise=new F3({clientId:this.clientId}),this.retry=this.formatRetry(t.retry,qn.defaultRetry),t.baseRequest?this.baseRequest=t.baseRequest:this.baseRequest=SV,this.tokenInURL=t.tokenInURL,this.headers=t.headers,this.storage=t.storage||Yb,this.localCredentials=new CV({tokenSectionName:`credentials_${t.clientId}`,storage:this.storage,clientId:t.clientId}),this.clientSecret=t.clientSecret,t.clientId&&(this.basicAuth=`Basic ${bV(`${t.clientId}:${this.clientSecret}`)}`),this.wxCloud=t.wxCloud;try{Kb()&&(this.useWxCloud=t.useWxCloud,this.wxCloud===void 0&&t.env&&(wx.cloud.init({env:t.env}),this.wxCloud=wx.cloud))}catch{}this.refreshTokenFunc=t.refreshTokenFunc||this.defaultRefreshTokenFunc,this.anonymousSignInFunc=t.anonymousSignInFunc,this.onCredentialsError=t.onCredentialsError,Zh.on(ep,r=>{var n;this.i18n=((n=r.data)==null?void 0:n.i18n)||this.i18n})}setCredentials(t){return this.localCredentials.setCredentials(t)}setAccessKeyCredentials(t){return this.localCredentials.setAccessKeyCredentials(t)}async getAccessToken(){const t=await this.getCredentials();if(t!=null&&t.access_token)return Promise.resolve(t.access_token);const r={error:ur.UNAUTHENTICATED};return Promise.reject(r)}async request(t,r){var s,c;r||(r={});const n=this.formatRetry(r.retry,this.retry);if(r.headers={...r.headers,[(s=this.i18n)==null?void 0:s.LANG_HEADER_KEY]:(c=this.i18n)==null?void 0:c.lang},this.headers&&(r.headers={...this.headers,...r.headers}),r.headers[jC]||(r.headers[jC]=EV()),!r.headers[UC]){const h=await this.getDeviceId();r.headers[UC]=h}if(r!=null&&r.withBasicAuth&&this.basicAuth&&(r.headers.Authorization=this.basicAuth),r!=null&&r.withCredentials){const h=await this.getCredentials();h&&(this.tokenInURL?(t.indexOf("?")<0&&(t+="?"),t+=`access_token=${h.access_token}`):r.headers.Authorization=`${h.token_type} ${h.access_token}`)}else this.clientId&&t.indexOf("client_id")<0&&(t+=t.indexOf("?")<0?"?":"&",t+=`client_id=${this.clientId}`);t.startsWith("/")&&(t=`${this.apiOrigin}${this.apiPath}${t}`);let o=null;const i=n+1;for(let h=0;h<i;h++){try{r.useWxCloud||this.useWxCloud?o=await this.wxCloudCallFunction(t,r):o=await this.baseRequest(t,r);break}catch(u){if(r.withCredentials&&u&&u.error===ur.UNAUTHENTICATED)return await this.setCredentials(null),Promise.reject(u);if(h===n||!u||u.error!=="unreachable")return Promise.reject(u)}await this.sleep(qn.retryInterval)}return o}async wxCloudCallFunction(t,r){var i;let n=null,o=null;try{let s="";try{s=await wx.getRendererUserAgent()}catch{}const{result:c}=await this.wxCloud.callFunction({name:"httpOverCallFunction",data:{url:t,method:r.method,headers:{origin:"https://servicewechat.com","User-Agent":s,...r.headers},body:r.body}});(i=c==null?void 0:c.body)!=null&&i.error_code?(o=c==null?void 0:c.body,o.error_uri=kC(t)):n=c==null?void 0:c.body}catch(s){o={error:ur.UNREACHABLE,error_description:s.message,error_uri:kC(t)}}if(o)throw o;return n}async getCredentials(){var r,n,o;let t=await this.localCredentials.getCredentials();if(!t){const i="credentials not found";return(r=this.onCredentialsError)==null||r.call(this,{msg:i}),this.unAuthenticatedError(i)}if(j3(t))if(t.refresh_token)try{t=await this.refreshToken(t)}catch(i){if(t.scope==="anonymous")t=await this.anonymousLogin(t);else return(n=this.onCredentialsError)==null||n.call(this,{msg:i.error_description}),Promise.reject(i)}else if(t.scope==="anonymous")t=await this.anonymousLogin(t);else{const i="no refresh token found in credentials";return(o=this.onCredentialsError)==null||o.call(this,{msg:i}),this.unAuthenticatedError(i)}return t}getCredentialsSync(){return this.localCredentials.getStorageCredentialsSync()}getCredentialsAsync(){return this.getCredentials()}async getScope(){var r;const t=await this.localCredentials.getCredentials();if(!t){const n="credentials not found";return(r=this.onCredentialsError)==null||r.call(this,{msg:n}),this.unAuthenticatedError(n)}return t.scope}async getGroups(){var r;const t=await this.localCredentials.getCredentials();if(!t){const n="credentials not found";return(r=this.onCredentialsError)==null||r.call(this,{msg:n}),this.unAuthenticatedError(n)}return t.groups}async refreshToken(t){return this.singlePromise.run("_refreshToken",async()=>{var r,n,o;if(!t||!t.refresh_token){const i="no refresh token found in credentials";return(r=this.onCredentialsError)==null||r.call(this,{msg:i}),this.unAuthenticatedError(i)}try{const i=await this.refreshTokenFunc(t.refresh_token,t);return await this.localCredentials.setCredentials(i),i}catch(i){if(i.error===ur.INVALID_GRANT){await this.localCredentials.setCredentials(null);const s=i.error_description;return(n=this.onCredentialsError)==null||n.call(this,{msg:s}),this.unAuthenticatedError(s)}return(o=this.onCredentialsError)==null||o.call(this,{msg:i.error_description}),Promise.reject(i)}})}async anonymousLogin(t){return this.singlePromise.run("_anonymousLogin",async()=>(this.anonymousSignInFunc?t=await this.anonymousSignInFunc(t)||await this.localCredentials.getCredentials():t=await this.anonymousSignIn(t),t))}checkRetry(t){let r=null;if((typeof t!="number"||t<qn.minRetry||t>qn.maxRetry)&&(r={error:ur.UNREACHABLE,error_description:"wrong options param: retry"}),r)throw r;return t}formatRetry(t,r){return typeof t>"u"?r:this.checkRetry(t)}async sleep(t){return new Promise(r=>{setTimeout(()=>{r()},t)})}async anonymousSignIn(t){return this.singlePromise.run("_anonymous",async()=>{if(!t||t.scope!=="anonymous")return this.unAuthenticatedError("no anonymous in credentials");try{const r=await this.request(Le.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",withBasicAuth:!0,body:{}});return await this.localCredentials.setCredentials(r),r}catch(r){return r.error===ur.INVALID_GRANT?(await this.localCredentials.setCredentials(null),this.unAuthenticatedError(r.error_description)):Promise.reject(r)}})}async defaultRefreshTokenFunc(t,r){var i;if(t===void 0||t===""){const s="refresh token not found";return(i=this.onCredentialsError)==null||i.call(this,{msg:s}),this.unAuthenticatedError(s)}let n=Le.AUTH_TOKEN_URL;return(r==null?void 0:r.version)==="v2"&&(n=Qs.AUTH_TOKEN_URL),{...await this.request(n,{method:"POST",body:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"refresh_token",refresh_token:t}}),version:(r==null?void 0:r.version)||"v1"}}async getDeviceId(){if(this.deviceID)return this.deviceID;let t=await this.storage.getItem(BC);return typeof t=="string"&&t.length>=16&&t.length<=48||(t=M3(),await this.storage.setItem(BC,t)),this.deviceID=t,t}unAuthenticatedError(t){const r={error:ur.UNAUTHENTICATED,error_description:t};return Promise.reject(r)}}qn.defaultRetry=2;qn.minRetry=0;qn.maxRetry=5;qn.retryInterval=1e3;class Pl{constructor(t){if(this.params={},typeof t=="string")this.parse(t);else if(t&&typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.append(r,t[r])}parse(t){t.split("&").forEach(n=>{const[o,i]=n.split("=").map(decodeURIComponent);this.append(o,i)})}append(t,r){this.params[t]?this.params[t]=this.params[t].concat([r]):this.params[t]=[r]}get(t){return this.params[t]?this.params[t][0]:null}getAll(t){return this.params[t]||[]}delete(t){delete this.params[t]}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}set(t,r){this.params[t]=[r]}toString(){const t=[];for(const r in this.params)Object.prototype.hasOwnProperty.call(this.params,r)&&this.params[r].forEach(n=>{t.push(`${encodeURIComponent(r)}=${encodeURIComponent(n)}`)});return t.join("&")}}class IV{constructor(t){t.openURIWithCallback||(t.openURIWithCallback=this.getDefaultOpenURIWithCallback()),t.storage||(t.storage=Yb),this.config=t,this.tokenSectionName=`captcha_${t.clientId}`}isMatch(){var t,r,n;return((n=(r=(t=this.config)==null?void 0:t.adapter)==null?void 0:r.isMatch)==null?void 0:n.call(r))||Kb()}async request(t,r){r||(r={}),r.method||(r.method="GET");const n=`${r.method}:${t}`;let o=t;r.withCaptcha&&(o=await this.appendCaptchaTokenToURL(t,n,!1));let i;try{i=await this.config.request(o,r)}catch(s){return s.error===ur.CAPTCHA_REQUIRED||s.error===ur.CAPTCHA_INVALID?(t=await this.appendCaptchaTokenToURL(t,n,s.error===ur.CAPTCHA_INVALID),this.config.request(t,r)):Promise.reject(s)}return i}getDefaultOpenURIWithCallback(){if(!this.isMatch()&&!FC()&&(window.location.search.indexOf("__captcha")>0&&(document.body.style.display="none"),document.getElementById("captcha_panel_wrap")===null)){const t=document.createElement("div");t.style.cssText="background-color: rgba(0, 0, 0, 0.7);position: fixed;left: 0px;right: 0px;top: 0px;bottom: 0px;padding: 9vw 0 0 0;display: none;z-index:100;",t.setAttribute("id","captcha_panel_wrap"),setTimeout(()=>{document.body.appendChild(t)},0)}return this.defaultOpenURIWithCallback}async defaultOpenURIWithCallback(t,r){const{width:n="355px",height:o="355px"}=r||{};if(t.match(/^(data:.*)$/))return Promise.reject({error:ur.UNIMPLEMENTED,error_description:"need to impl captcha data"});const s=document.getElementById("captcha_panel_wrap"),c=document.createElement("iframe");return s.innerHTML="",c.setAttribute("src",t),c.setAttribute("id","review-panel-iframe"),c.style.cssText=`min-width:${n};display:block;height:${o};margin:0 auto;background-color: rgb(255, 255, 255);border: none;`,s.appendChild(c),s.style.display="block",new Promise((h,u)=>{c.onload=function(){try{const f=window.location,p=c.contentWindow.location;if(p.host+p.pathname===f.host+f.pathname){s.style.display="none";const v=new Pl(p.search),g=v.get("captcha_token");return g?h({captcha_token:g,expires_in:Number(v.get("expires_in"))}):u({error:v.get("error"),error_description:v.get("error_description")})}s.style.display="block"}catch{s.style.display="block"}}})}async getCaptchaToken(t,r){if(!t){const i=await this.findCaptchaToken();if(i)return i}let n;if(!this.isMatch()&&!FC()){const i=`${window.location.origin+window.location.pathname}?__captcha=on`;if(n=await this.config.request(Le.GET_CAPTCHA_URL,{method:"POST",body:{client_id:this.config.clientId,redirect_uri:i,state:r},withCredentials:!1}),n.captcha_token){const s={captcha_token:n.captcha_token,expires_in:n.expires_in};return this.saveCaptchaToken(s),n.captcha_token}}else{const i=await this.config.request(Le.CAPTCHA_DATA_URL,{method:"POST",body:{state:r,redirect_uri:""},withCredentials:!1});n={url:`${i.data}?state=${encodeURIComponent(r)}&token=${encodeURIComponent(i.token)}`}}const o=await this.config.openURIWithCallback(n.url);return this.saveCaptchaToken(o),o.captcha_token}async appendCaptchaTokenToURL(t,r,n){const o=await this.getCaptchaToken(n,r);return t.indexOf("?")>0?t+=`&captcha_token=${o}`:t+=`?captcha_token=${o}`,t}async saveCaptchaToken(t){t.expires_at=new Date(Date.now()+(t.expires_in-10)*1e3);const r=JSON.stringify(t);await this.config.storage.setItem(this.tokenSectionName,r)}async findCaptchaToken(){const t=await this.config.storage.getItem(this.tokenSectionName);if(t!=null)try{const r=JSON.parse(t);return r!=null&&r.expires_at&&(r.expires_at=new Date(r.expires_at)),r.expires_at<new Date?null:r.captcha_token}catch{return await this.config.storage.removeItem(this.tokenSectionName),null}return null}}var xV={};function ay(e,t){var n;const r=()=>{try{return require("../utils/encrypt")}catch{return}};try{if((((n=t==null?void 0:t.root)==null?void 0:n.globalThis)||globalThis).IS_MP_BUILD)return;if(!xV.IS_MP_BUILD&&e)return r()}catch{if(e)return r()}}let AV=class Wd{static parseParamsToSearch(t){return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),new Pl(t).toString()}constructor(t){let{request:r}=t,n=t.credentialsClient;if(!n){const o={apiOrigin:t.apiOrigin,apiPath:t.apiPath,clientId:t.clientId,storage:t.storage,env:t.env,baseRequest:t.baseRequest,anonymousSignInFunc:t.anonymousSignInFunc,wxCloud:t.wxCloud,onCredentialsError:t.onCredentialsError,headers:t.headers||{},i18n:t.i18n};n=new qn(o)}if(!r){const o=n.request.bind(n),i=new IV({clientId:t.clientId,request:o,storage:t.storage,adapter:t.adapter,...t.captchaOptions});r=i.request.bind(i)}this.config={env:t.env,apiOrigin:t.apiOrigin,apiPath:t.apiPath,clientId:t.clientId,request:r,credentialsClient:n,storage:t.storage||Yb,adapter:t.adapter}}getParamsByVersion(t,r){var i;const n=Vd(t),o=((i={v2:Qs}[n==null?void 0:n.version])==null?void 0:i[r])||Le[r];return n&&delete n.version,{params:n,url:o}}async signIn(t){const r=t.version||"v1",n=this.getParamsByVersion(t,"AUTH_SIGN_IN_URL");n.params.query&&delete n.params.query;const o=await this.getEncryptParams(n.params),i=await this.config.request(n.url,{method:"POST",body:o});return await this.config.credentialsClient.setCredentials({...i,version:r}),Promise.resolve(i)}async signInAnonymously(t={},r=!1){const n=await this.config.request(Le.AUTH_SIGN_IN_ANONYMOUSLY_URL,{method:"POST",body:t,useWxCloud:r});return await this.config.credentialsClient.setCredentials(n),Promise.resolve(n)}async signUp(t){const r=await this.config.request(Le.AUTH_SIGN_UP_URL,{method:"POST",body:t});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async signOut(t){let r={};if(t){try{r=await this.config.request(Le.AUTH_SIGNOUT_URL,{method:"POST",withCredentials:!0,body:t})}catch(i){i.error!==ur.UNAUTHENTICATED&&console.log("sign_out_error",i)}return await this.config.credentialsClient.setCredentials(),r}const n=await this.config.credentialsClient.getAccessToken(),o=await this.config.request(Le.AUTH_REVOKE_URL,{method:"POST",body:{token:n}});return await this.config.credentialsClient.setCredentials(),Promise.resolve(o)}async revokeAllDevices(){await this.config.request(Le.AUTH_REVOKE_ALL_URL,{method:"DELETE",withCredentials:!0})}async revokeDevice(t){await this.config.request(Le.AUTHORIZED_DEVICES_DELETE_URL+t.device_id,{method:"DELETE",withCredentials:!0})}async getVerification(t,r){let n=!1;(t.target==="CUR_USER"||await this.hasLoginState())&&(n=!0);const o=Vd(t);return o.phone_number&&!/^\+\d{1,3}\s+\d+/.test(o.phone_number)&&(o.phone_number=`+86 ${o.phone_number}`),this.config.request(Le.VERIFICATION_URL,{method:"POST",body:o,withCaptcha:(r==null?void 0:r.withCaptcha)||!1,withCredentials:n})}async verify(t){const r=this.getParamsByVersion(t,"VERIFY_URL"),n=await this.config.request(r.url,{method:"POST",body:r.params});return(t==null?void 0:t.version)==="v2"&&await this.config.credentialsClient.setCredentials({...n,version:"v2"}),n}async genProviderRedirectUri(t){const{provider_redirect_uri:r,other_params:n={},...o}=t;r&&!o.redirect_uri&&(o.redirect_uri=r);let i=`${Le.PROVIDER_URI_URL}?${Wd.parseParamsToSearch(o)}`;return Object.keys(n).forEach(s=>{const c=n[s];s==="sign_out_uri"&&!((c==null?void 0:c.length)>0)||(i+=`&other_params[${s}]=${encodeURIComponent(c)}`)}),this.config.request(i,{method:"GET"})}async grantProviderToken(t,r=!1){return this.config.request(Le.PROVIDER_TOKEN_URL,{method:"POST",body:t,useWxCloud:r})}async patchProviderToken(t){return this.config.request(Le.PROVIDER_TOKEN_URL,{method:"PATCH",body:t})}async signInWithProvider(t,r=!1){const n=this.getParamsByVersion(t,"AUTH_SIGN_IN_WITH_PROVIDER_URL"),o=await this.config.request(n.url,{method:"POST",body:n.params,useWxCloud:r});return await this.config.credentialsClient.setCredentials({...o,version:(t==null?void 0:t.version)||"v1"}),Promise.resolve(o)}async signInCustom(t){const r=await this.config.request(Le.AUTH_SIGN_IN_CUSTOM,{method:"POST",body:t});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async signInWithWechat(t={}){const r=await this.config.request(Le.AUTH_SIGN_IN_WITH_WECHAT_URL,{method:"POST",body:t});return await this.config.credentialsClient.setCredentials(r),Promise.resolve(r)}async bindWithProvider(t){return this.config.request(Le.PROVIDER_BIND_URL,{method:"POST",body:t,withCredentials:!0})}async getUserProfile(t){return this.getUserInfo(t)}async getUserInfo(t={}){var o;const r=this.getParamsByVersion(t,"USER_ME_URL");if((o=r.params)!=null&&o.query){const i=new Pl(r.params.query);r.url+=`?${i.toString()}`}const n=await this.config.request(r.url,{method:"GET",withCredentials:!0});return n.sub&&(n.uid=n.sub),n}async getWedaUserInfo(){return await this.config.request(Le.WEDA_USER_URL,{method:"GET",withCredentials:!0})}async deleteMe(t){const r=this.getParamsByVersion(t,"USER_ME_URL"),n=`${r.url}?${Wd.parseParamsToSearch(r.params)}`;return this.config.request(n,{method:"DELETE",withCredentials:!0})}async hasLoginState(){try{return await this.config.credentialsClient.getAccessToken(),!0}catch{return!1}}hasLoginStateSync(){return this.config.credentialsClient.getCredentialsSync()}async getLoginState(){return this.config.credentialsClient.getCredentialsAsync()}async transByProvider(t){return this.config.request(Le.USER_TRANS_BY_PROVIDER_URL,{method:"PATCH",body:t,withCredentials:!0})}async grantToken(t){const r=this.getParamsByVersion(t,"AUTH_TOKEN_URL");return this.config.request(r.url,{method:"POST",body:r.params})}async getProviders(){return this.config.request(Le.PROVIDER_LIST,{method:"GET",withCredentials:!0})}async unbindProvider(t){return this.config.request(`${Le.PROVIDER_UNBIND_URL}/${t.provider_id}`,{method:"DELETE",withCredentials:!0})}async checkPassword(t){return this.config.request(`${Le.CHECK_PWD_URL}`,{method:"POST",withCredentials:!0,body:t})}async editContact(t){return this.config.request(`${Le.BIND_CONTACT_URL}`,{method:"PATCH",withCredentials:!0,body:t})}async setPassword(t){return this.config.request(`${Le.AUTH_SET_PASSWORD}`,{method:"PATCH",withCredentials:!0,body:t})}async updatePasswordByOld(t){const r=await this.sudo({password:t.old_password});return this.setPassword({sudo_token:r.sudo_token,new_password:t.new_password})}async sudo(t){return this.config.request(`${Le.SUDO_URL}`,{method:"POST",withCredentials:!0,body:t})}async sendVerificationCodeToCurrentUser(t){return t.target="CUR_USER",this.config.request(Le.VERIFICATION_URL,{method:"POST",body:t,withCredentials:!0,withCaptcha:!0})}async changeBoundProvider(t){return this.config.request(`${Le.PROVIDER_LIST}/${t.provider_id}/trans`,{method:"POST",body:{provider_trans_token:t.trans_token},withCredentials:!0})}async setUserProfile(t){return this.config.request(Le.USER_PRIFILE_URL,{method:"PATCH",body:t,withCredentials:!0})}async updateUserBasicInfo(t){return this.config.request(Le.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:t})}async queryUserProfile(t){const r=new Pl(t);return this.config.request(`${Le.USER_QUERY_URL}?${r.toString()}`,{method:"GET",withCredentials:!0})}setCustomSignFunc(t){this.getCustomSignTicketFn=t}async signInWithCustomTicket(){const t=this.getCustomSignTicketFn;if(!t)return Promise.reject({error:"failed_precondition",error_description:"please use setCustomSignFunc to set custom sign function"});const r=await t();return this.signInCustom({provider_id:"custom",ticket:r})}async resetPassword(t){return this.config.request(Le.AUTH_RESET_PASSWORD,{method:"POST",body:t})}async authorize(t){return this.config.request(Le.AUTHORIZE_URL,{method:"POST",withCredentials:!0,body:t})}async authorizeDevice(t){return this.config.request(Le.AUTHORIZE_DEVICE_URL,{method:"POST",withCredentials:!0,body:t})}async deviceAuthorize(t){return this.config.request(Le.AUTH_GET_DEVICE_CODE,{method:"POST",body:t,withCredentials:!0})}async authorizeInfo(t){const r=`${Le.AUTHORIZE_INFO_URL}?${Wd.parseParamsToSearch(t)}`;let n=!0,o=!1;return await this.hasLoginState()&&(o=!0,n=!1),this.config.request(r,{method:"GET",withBasicAuth:n,withCredentials:o})}async checkUsername(t){return this.config.request(Le.CHECK_USERNAME,{method:"GET",body:t,withCredentials:!0})}async checkIfUserExist(t){const r=new Pl(t);return this.config.request(`${Le.CHECK_IF_USER_EXIST}?${r.toString()}`,{method:"GET"})}async loginScope(){return this.config.credentialsClient.getScope()}async loginGroups(){return this.config.credentialsClient.getGroups()}async refreshTokenForce(t){const r=await this.config.credentialsClient.getCredentials();return await this.config.credentialsClient.refreshToken({...r,version:(t==null?void 0:t.version)||"v1"})}async getCredentials(){return this.config.credentialsClient.getCredentials()}async getPublicKey(){return this.config.request(Qs.AUTH_PUBLIC_KEY,{method:"POST",body:{}})}async getEncryptParams(t){const{isEncrypt:r}=t;delete t.isEncrypt;const n=Vd(t),o=ay(r,this.config.adapter);if(!o)return t;let i="",s="";try{const c=await this.getPublicKey();if(i=c.public_key,s=c.public_key_thumbprint,!i||!s)throw c}catch(c){throw c}return{params:o.getEncryptInfo({publicKey:i,payload:n}),public_key_thumbprint:s}}async getProviderSubType(){return this.config.request(Le.GET_PROVIDER_TYPE,{method:"POST",body:{provider_id:"weda"}})}async verifyCaptchaData({token:t,key:r}){return this.config.request(Le.VERIFY_CAPTCHA_DATA_URL,{method:"POST",body:{token:t,key:r},withCredentials:!1})}async createCaptchaData({state:t,redirect_uri:r=void 0}){return this.config.request(Le.CAPTCHA_DATA_URL,{method:"POST",body:{state:t,redirect_uri:r},withCredentials:!1})}async getMiniProgramCode(t){return this.config.request(Le.GET_MINIPROGRAM_QRCODE,{method:"POST",body:t})}async getMiniProgramQrCodeStatus(t){return this.config.request(Le.GET_MINIPROGRAM_QRCODE_STATUS,{method:"POST",body:t})}async getUserBehaviorLog(t){const r={LOGIN:"query[action]=USER_LOGIN",MODIFY:"ne_query[action]=USER_LOGIN"},n=`${Le.GET_USER_BEHAVIOR_LOG}?${r[t.type]}&limit=${t.limit}${t.page_token?`&page_token=${t.page_token}`:""}`;return this.config.request(n,{method:"GET",withCredentials:!0})}async modifyPassword(t){let r="",n="";const o=ay(!0,this.config.adapter);if(!o)throw new Error("do not support encrypt, a encrypt util required.");try{const c=await this.getPublicKey();if(r=c.public_key,n=c.public_key_thumbprint,!r||!n)throw c}catch(c){throw c}const i=t.password?o.getEncryptInfo({publicKey:r,payload:t.password}):"",s=o.getEncryptInfo({publicKey:r,payload:t.new_password});return this.config.request(Le.USER_BASIC_EDIT_URL,{method:"POST",withCredentials:!0,body:{user_id:t.user_id,encrypt_password:i,encrypt_new_password:s,public_key_thumbprint:n}})}async modifyPasswordWithoutLogin(t){let r="",n="";const o=ay(!0,this.config.adapter);if(!o)throw new Error("do not support encrypt, a encrypt util required.");try{const c=await this.getPublicKey();if(r=c.public_key,n=c.public_key_thumbprint,!r||!n)throw c}catch(c){throw c}const i=t.password?o.getEncryptInfo({publicKey:r,payload:t.password}):"",s=o.getEncryptInfo({publicKey:r,payload:t.new_password});return this.config.request(Qs.AUTH_RESET_PASSWORD,{method:"POST",body:{username:t.username,password:i,new_password:s,public_key_thumbprint:n}})}};class RV{constructor(t){const{apiOrigin:r,apiPath:n=sp,clientId:o,env:i,storage:s,request:c,baseRequest:h,anonymousSignInFunc:u,wxCloud:f,adapter:p,onCredentialsError:v,headers:g,i18n:w,useWxCloud:b}=t;this.oauth2client=new qn({apiOrigin:r,apiPath:n,clientId:o,env:i,storage:s,baseRequest:h||c,anonymousSignInFunc:u,wxCloud:f,onCredentialsError:v,headers:g||{},i18n:w,useWxCloud:b}),this.authApi=new AV({credentialsClient:this.oauth2client,...t,request:c?this.oauth2client.request.bind(this.oauth2client):void 0,adapter:p})}}var Ie={},$C;function mu(){if($C)return Ie;$C=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.parseQueryString=Ie.transformPhone=Ie.sleep=Ie.printGroupLog=Ie.throwError=Ie.printInfo=Ie.printError=Ie.printWarn=Ie.execCallback=Ie.createPromiseCallback=Ie.removeParam=Ie.getHash=Ie.getQuery=Ie.toQueryString=Ie.formatUrl=Ie.generateRequestId=Ie.genSeqId=Ie.isFormData=Ie.isInstanceOf=Ie.isNull=Ie.isPalinObject=Ie.isUndefined=Ie.isString=Ie.isArray=void 0;var e=ap();function t(D){return Object.prototype.toString.call(D)==="[object Array]"}Ie.isArray=t;function r(D){return typeof D=="string"}Ie.isString=r;function n(D){return typeof D>"u"}Ie.isUndefined=n;function o(D){return Object.prototype.toString.call(D)==="[object Object]"}Ie.isPalinObject=o;function i(D){return Object.prototype.toString.call(D)==="[object Null]"}Ie.isNull=i;function s(D,B){return D instanceof B}Ie.isInstanceOf=s;function c(D){return Object.prototype.toString.call(D)==="[object FormData]"}Ie.isFormData=c;function h(){return Math.random().toString(16).slice(2)}Ie.genSeqId=h;function u(){var D=new Date().getTime(),B=(Date==null?void 0:Date.now)&&Date.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(U){var K=Math.random()*16;return D>0?(K=(D+K)%16|0,D=Math.floor(D/16)):(K=(B+K)%16|0,B=Math.floor(B/16)),(U==="x"?K:K&7|8).toString(16)})}Ie.generateRequestId=u;function f(D,B,U){U===void 0&&(U={});var K=/\?/.test(B),Q="";return Object.keys(U).forEach(function(ee){Q===""?!K&&(B+="?"):Q+="&",Q+="".concat(ee,"=").concat(encodeURIComponent(U[ee]))}),B+=Q,/^http(s)?:\/\//.test(B)?B:"".concat(D).concat(B)}Ie.formatUrl=f;function p(D){D===void 0&&(D={});var B=[];return Object.keys(D).forEach(function(U){B.push("".concat(U,"=").concat(encodeURIComponent(D[U])))}),B.join("&")}Ie.toQueryString=p;function v(D,B){if(typeof window>"u")return!1;var U=B||window.location.search,K=new RegExp("(^|&)".concat(D,"=([^&]*)(&|$)")),Q=U.substr(U.indexOf("?")+1).match(K);return Q!=null?Q[2]:""}Ie.getQuery=v;var g=function(D){if(typeof window>"u")return"";var B=window.location.hash.match(new RegExp("[#?&/]".concat(D,"=([^&#]*)")));return B?B[1]:""};Ie.getHash=g;function w(D,B){var U=B.split("?")[0],K,Q=[],ee=B.indexOf("?")!==-1?B.split("?")[1]:"";if(ee!==""){Q=ee.split("&");for(var fe=Q.length-1;fe>=0;fe-=1)K=Q[fe].split("=")[0],K===D&&Q.splice(fe,1);U="".concat(U,"?").concat(Q.join("&"))}return U}Ie.removeParam=w;function b(){var D;if(!Promise){D=function(){},D.promise={};var B=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(D.promise,"then",{get:B}),Object.defineProperty(D.promise,"catch",{get:B}),D}var U=new Promise(function(K,Q){D=function(ee,fe){return ee?Q(ee):K(fe)}});return D.promise=U,D}Ie.createPromiseCallback=b;function T(D,B,U){if(U===void 0&&(U=null),D&&typeof D=="function")return D(B,U);if(B)throw B;return U}Ie.execCallback=T;function C(D,B){console.warn("[".concat((0,e.getSdkName)(),"][").concat(D,"]:").concat(B))}Ie.printWarn=C;function I(D,B){console.error({code:D,msg:"[".concat((0,e.getSdkName)(),"][").concat(D,"]:").concat(B)})}Ie.printError=I;function x(D,B){console.log("[".concat((0,e.getSdkName)(),"][").concat(D,"]:").concat(B))}Ie.printInfo=x;function R(D,B){throw new Error(JSON.stringify({code:D,msg:"[".concat((0,e.getSdkName)(),"][").concat(D,"]:").concat(B)}))}Ie.throwError=R;function L(D){var B,U=D.title,K=D.subtitle,Q=K===void 0?"":K,ee=D.content,fe=ee===void 0?[]:ee,be=D.printTrace,ue=be===void 0?!1:be,Y=D.collapsed,X=Y===void 0?!1:Y;X?(console.groupCollapsed||console.error)(U,Q):(console.group||console.error)(U,Q);for(var J=0,M=fe;J<M.length;J++){var Z=M[J],xe=Z.type,Oe=Z.body;switch(xe){case"info":console.log(Oe);break;case"warn":console.warn(Oe);break;case"error":console.error(Oe);break}}ue&&(console.trace||console.log)("stack trace:"),(B=console.groupEnd)===null||B===void 0||B.call(console)}Ie.printGroupLog=L;var F=function(D){return D===void 0&&(D=0),new Promise(function(B){return setTimeout(B,D)})};Ie.sleep=F;function H(D){return"+86".concat(D)}Ie.transformPhone=H;var V=function(D){D=D.replace(/^\?/,"");var B={},U=D.split("&");return U.forEach(function(K){var Q=K.split("="),ee=Q[0],fe=Q[1];ee=decodeURIComponent(ee),fe=decodeURIComponent(fe),ee&&(B[ee]?Array.isArray(B[ee])?B[ee].push(fe):B[ee]=[B[ee],fe]:B[ee]=fe)}),B};return Ie.parseQueryString=V,Ie}var Xs=mu(),oa={},Pi={},qC;function OV(){if(qC)return Pi;qC=1;var e=Pi&&Pi.__awaiter||function(f,p,v,g){function w(b){return b instanceof v?b:new v(function(T){T(b)})}return new(v||(v=Promise))(function(b,T){function C(R){try{x(g.next(R))}catch(L){T(L)}}function I(R){try{x(g.throw(R))}catch(L){T(L)}}function x(R){R.done?b(R.value):w(R.value).then(C,I)}x((g=g.apply(f,p||[])).next())})},t=Pi&&Pi.__generator||function(f,p){var v={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},g,w,b,T;return T={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function C(x){return function(R){return I([x,R])}}function I(x){if(g)throw new TypeError("Generator is already executing.");for(;T&&(T=0,x[0]&&(v=0)),v;)try{if(g=1,w&&(b=x[0]&2?w.return:x[0]?w.throw||((b=w.return)&&b.call(w),0):w.next)&&!(b=b.call(w,x[1])).done)return b;switch(w=0,b&&(x=[x[0]&2,b.value]),x[0]){case 0:case 1:b=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++,w=x[1],x=[0];continue;case 7:x=v.ops.pop(),v.trys.pop();continue;default:if(b=v.trys,!(b=b.length>0&&b[b.length-1])&&(x[0]===6||x[0]===2)){v=0;continue}if(x[0]===3&&(!b||x[1]>b[0]&&x[1]<b[3])){v.label=x[1];break}if(x[0]===6&&v.label<b[1]){v.label=b[1],b=x;break}if(b&&v.label<b[2]){v.label=b[2],v.ops.push(x);break}b[2]&&v.ops.pop(),v.trys.pop();continue}x=p.call(f,v)}catch(R){x=[6,R],w=0}finally{g=b=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.catchErrorsDecorator=void 0;var r=mu(),n=ap(),o=!1;typeof navigator<"u"&&navigator.userAgent&&(o=navigator.userAgent.indexOf("Firefox")!==-1);var i=o?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,s=/https?:\/\/.+:\d*\/.*\.js:\d+:\d+/;function c(f){var p=f.mode,v=p===void 0?"async":p,g=f.customInfo,w=g===void 0?{}:g,b=f.title,T=f.messages,C=T===void 0?[]:T;return function(I,x,R){if(n.IS_DEBUG_MODE){var L=w.className||I.constructor.name,F=w.methodName||x,H=R.value,V=h(new Error);v==="sync"?R.value=function(){for(var D=[],B=0;B<arguments.length;B++)D[B]=arguments[B];var U=u({err:new Error,className:L,methodName:F,sourceLink:V});try{return H.apply(this,D)}catch(Y){var K=Y,Q=Y.message,ee=Y.error,fe=Y.error_description,be={title:b||"".concat(L,".").concat(F," failed"),content:[{type:"error",body:Y}]};if(Q&&/^\{.*\}$/.test(Q)){var ue=JSON.parse(Q);be.subtitle=Q,ue.code&&(U?(U.code=ue.code,U.msg=ue.msg):(Y.code=ue.code,Y.message=ue.msg),K=U||Y,be.content=C.map(function(X){return{type:"info",body:X}}))}throw ee&&fe&&(be.subtitle=fe,U?(U.code=ee,U.msg=fe):(Y.code=ee,Y.message=fe),K=U||Y,be.content=C.map(function(X){return{type:"info",body:X}})),(0,r.printGroupLog)(be),K}}:R.value=function(){for(var D=[],B=0;B<arguments.length;B++)D[B]=arguments[B];return e(this,void 0,void 0,function(){var U,K,Q,ee,fe,be,ue,Y;return t(this,function(X){switch(X.label){case 0:U=u({err:new Error,className:L,methodName:F,sourceLink:V}),X.label=1;case 1:return X.trys.push([1,3,,4]),[4,H.apply(this,D)];case 2:return[2,X.sent()];case 3:throw K=X.sent(),Q=K,ee=K.message,fe=K.error,be=K.error_description,ue={title:b||"".concat(L,".").concat(F," failed"),content:[{type:"error",body:K}]},ee&&/^\{.*\}$/.test(ee)&&(Y=JSON.parse(ee),ue.subtitle=Y,Y.code&&(U?(U.code=Y.code,U.message=Y.msg):(K.code=Y.code,K.message=Y.msg),Q=U||K,ue.content=C.map(function(J){return{type:"info",body:J}}))),fe&&be&&(ue.subtitle=be,U?(U.code=fe,U.msg=be):(K.code=fe,K.message=be),Q=U||K,ue.content=C.map(function(J){return{type:"info",body:J}})),(0,r.printGroupLog)(ue),Q;case 4:return[2]}})})}}}}Pi.catchErrorsDecorator=c;function h(f){var p="",v=f.stack.split(`
`),g=v.findIndex(function(b){return i.test(b)});if(g!==-1){var w=s.exec(v[g+1]||"");p=w?w[0]:""}return p}function u(f){var p=f.err,v=f.className,g=f.methodName,w=f.sourceLink;if(!w)return null;var b=p.stack.split(`
`),T=o?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp("".concat(v,"\\.descriptor.value\\s*\\[as\\s").concat(g,"\\]\\s*\\(.*\\)$")),C=o?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp("".concat(v,"\\.descriptor.value\\s*\\[as\\s").concat(g,"\\]")),I=b.findIndex(function(L){return T.test(L)}),x;if(I!==-1){var R=b.filter(function(L,F){return F>I});R.unshift(b[I].replace(C,"".concat(v,".").concat(g)).replace(s,w)),x=new Error,x.stack="".concat(o?"@debugger":"Error",`
`).concat(R.join(`
`))}return x}return Pi}var VC;function PV(){return VC||(VC=1,(function(e){var t=oa&&oa.__createBinding||(Object.create?(function(n,o,i,s){s===void 0&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}):(function(n,o,i,s){s===void 0&&(s=i),n[s]=o[i]})),r=oa&&oa.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(OV(),e)})(oa)),oa}var Xe=PV(),At={},WC;function NV(){if(WC)return At;WC=1;var e=At&&At.__extends||(function(){var v=function(g,w){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(b[C]=T[C])},v(g,w)};return function(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");v(g,w);function b(){this.constructor=g}g.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}})(),t=At&&At.__spreadArray||function(v,g,w){if(w||arguments.length===2)for(var b=0,T=g.length,C;b<T;b++)(C||!(b in g))&&(C||(C=Array.prototype.slice.call(g,0,b)),C[b]=g[b]);return v.concat(C||Array.prototype.slice.call(g))};Object.defineProperty(At,"__esModule",{value:!0}),At.removeEventListener=At.activateEvent=At.addEventListener=At.CloudbaseEventEmitter=At.IErrorEvent=At.CloudbaseEvent=void 0;var r=mu();function n(v,g,w){w[v]=w[v]||[],w[v].push(g)}function o(v,g,w){if(w!=null&&w[v]){var b=w[v].indexOf(g);b!==-1&&w[v].splice(b,1)}}var i=(function(){function v(g,w){this.data=w||null,this.name=g}return v})();At.CloudbaseEvent=i;var s=(function(v){e(g,v);function g(w,b){var T=v.call(this,"error",{error:w,data:b})||this;return T.error=w,T}return g})(i);At.IErrorEvent=s;var c=(function(){function v(){this.listeners={}}return v.prototype.on=function(g,w){return n(g,w,this.listeners),this},v.prototype.off=function(g,w){return o(g,w,this.listeners),this},v.prototype.fire=function(g,w){if((0,r.isInstanceOf)(g,s))return console.error(g.error),this;var b=(0,r.isString)(g)?new i(g,w||{}):g,T=b.name;if(this.listens(T)){b.target=this;for(var C=this.listeners[T]?t([],this.listeners[T],!0):[],I=0,x=C;I<x.length;I++){var R=x[I];R.call(this,b)}}return this},v.prototype.listens=function(g){return this.listeners[g]&&this.listeners[g].length>0},v})();At.CloudbaseEventEmitter=c;var h=new c;function u(v,g){h.on(v,g)}At.addEventListener=u;function f(v,g){g===void 0&&(g={}),h.fire(v,g)}At.activateEvent=f;function p(v,g){h.off(v,g)}return At.removeEventListener=p,At}var LV=NV(),Pn={};const U3=WF(jq);var HC;function DV(){if(HC)return Pn;HC=1;var e={},t=Pn&&Pn.__extends||(function(){var f=function(p,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&(g[b]=w[b])},f(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(p,v);function g(){this.constructor=p}p.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}})(),r=Pn&&Pn.__awaiter||function(f,p,v,g){function w(b){return b instanceof v?b:new v(function(T){T(b)})}return new(v||(v=Promise))(function(b,T){function C(R){try{x(g.next(R))}catch(L){T(L)}}function I(R){try{x(g.throw(R))}catch(L){T(L)}}function x(R){R.done?b(R.value):w(R.value).then(C,I)}x((g=g.apply(f,p||[])).next())})},n=Pn&&Pn.__generator||function(f,p){var v={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},g,w,b,T;return T={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function C(x){return function(R){return I([x,R])}}function I(x){if(g)throw new TypeError("Generator is already executing.");for(;T&&(T=0,x[0]&&(v=0)),v;)try{if(g=1,w&&(b=x[0]&2?w.return:x[0]?w.throw||((b=w.return)&&b.call(w),0):w.next)&&!(b=b.call(w,x[1])).done)return b;switch(w=0,b&&(x=[x[0]&2,b.value]),x[0]){case 0:case 1:b=x;break;case 4:return v.label++,{value:x[1],done:!1};case 5:v.label++,w=x[1],x=[0];continue;case 7:x=v.ops.pop(),v.trys.pop();continue;default:if(b=v.trys,!(b=b.length>0&&b[b.length-1])&&(x[0]===6||x[0]===2)){v=0;continue}if(x[0]===3&&(!b||x[1]>b[0]&&x[1]<b[3])){v.label=x[1];break}if(x[0]===6&&v.label<b[1]){v.label=b[1],b=x;break}if(b&&v.label<b[2]){v.label=b[2],v.ops.push(x);break}b[2]&&v.ops.pop(),v.trys.pop();continue}x=p.call(f,v)}catch(R){x=[6,R],w=0}finally{g=b=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.CloudbaseCache=void 0;var o=U3,i=mu(),s=ap(),c=(function(f){t(p,f);function p(v){var g=f.call(this)||this;return g.root=v,v.tcbCacheObject||(v.tcbCacheObject={}),g}return p.prototype.setItem=function(v,g){this.root.tcbCacheObject[v]=g},p.prototype.getItem=function(v){return this.root.tcbCacheObject[v]},p.prototype.removeItem=function(v){delete this.root.tcbCacheObject[v]},p.prototype.clear=function(){delete this.root.tcbCacheObject},p})(o.AbstractStorage);function h(f,p){switch(f){case"local":return p.localStorage?p.localStorage:((0,i.printWarn)(s.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new c(p.root));case"none":return new c(p.root);default:return p.localStorage?p.localStorage:((0,i.printWarn)(s.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new c(p.root))}}var u=(function(){function f(p){this.keys={};var v=p.persistence,g=p.platformInfo,w=g===void 0?{}:g,b=p.keys,T=b===void 0?{}:b;this.platformInfo=w,this.storage||(this.persistenceTag=this.platformInfo.adapter.primaryStorage||v,this.storage=h(this.persistenceTag,this.platformInfo.adapter),this.keys=T)}return Object.defineProperty(f.prototype,"mode",{get:function(){return this.storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"persistence",{get:function(){return this.persistenceTag},enumerable:!1,configurable:!0}),f.prototype.setStore=function(p,v,g){if(this.mode==="async"){(0,i.printWarn)(s.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed");return}if(this.storage)try{var w={version:g||"localCachev1",content:v};this.storage.setItem(p,JSON.stringify(w))}catch(b){throw new Error(JSON.stringify({code:s.ERRORS.OPERATION_FAIL,msg:"[".concat((0,s.getSdkName)(),"][").concat(s.ERRORS.OPERATION_FAIL,"]setStore failed"),info:b}))}},f.prototype.setStoreAsync=function(p,v,g){return r(this,void 0,void 0,function(){var w;return n(this,function(b){switch(b.label){case 0:if(!this.storage)return[2];b.label=1;case 1:return b.trys.push([1,3,,4]),w={version:g||"localCachev1",content:v},[4,this.storage.setItem(p,JSON.stringify(w))];case 2:return b.sent(),[3,4];case 3:return b.sent(),[2];case 4:return[2]}})})},f.prototype.getStore=function(p,v){var g;if(this.mode==="async"){(0,i.printWarn)(s.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed");return}try{if(typeof process<"u"&&(!((g=e)===null||g===void 0)&&g.tcb_token))return e.tcb_token;if(!this.storage)return""}catch{return""}v=v||"localCachev1";var w=this.storage.getItem(p);if(!w)return"";if(w.indexOf(v)>=0){var b=JSON.parse(w);return b.content}return""},f.prototype.getStoreAsync=function(p,v){var g;return r(this,void 0,void 0,function(){var w,b;return n(this,function(T){switch(T.label){case 0:try{if(typeof process<"u"&&(!((g=e)===null||g===void 0)&&g.tcb_token))return[2,e.tcb_token];if(!this.storage)return[2,""]}catch{return[2,""]}return v=v||"localCachev1",[4,this.storage.getItem(p)];case 1:return w=T.sent(),w?w.indexOf(v)>=0?(b=JSON.parse(w),[2,b.content]):[2,""]:[2,""]}})})},f.prototype.removeStore=function(p){if(this.mode==="async"){(0,i.printWarn)(s.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed");return}this.storage.removeItem(p)},f.prototype.removeStoreAsync=function(p){return r(this,void 0,void 0,function(){return n(this,function(v){switch(v.label){case 0:return[4,this.storage.removeItem(p)];case 1:return v.sent(),[2]}})})},f})();return Pn.CloudbaseCache=u,Pn}var kV=DV(),Nn={},nr={},GC;function MV(){if(GC)return nr;GC=1;var e=nr&&nr.__extends||(function(){var u=function(f,p){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(v[w]=g[w])},u(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");u(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}})(),t=nr&&nr.__assign||function(){return t=Object.assign||function(u){for(var f,p=1,v=arguments.length;p<v;p++){f=arguments[p];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(u[g]=f[g])}return u},t.apply(this,arguments)},r=nr&&nr.__awaiter||function(u,f,p,v){function g(w){return w instanceof p?w:new p(function(b){b(w)})}return new(p||(p=Promise))(function(w,b){function T(x){try{I(v.next(x))}catch(R){b(R)}}function C(x){try{I(v.throw(x))}catch(R){b(R)}}function I(x){x.done?w(x.value):g(x.value).then(T,C)}I((v=v.apply(u,f||[])).next())})},n=nr&&nr.__generator||function(u,f){var p={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},v,g,w,b;return b={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(I){return function(x){return C([I,x])}}function C(I){if(v)throw new TypeError("Generator is already executing.");for(;b&&(b=0,I[0]&&(p=0)),p;)try{if(v=1,g&&(w=I[0]&2?g.return:I[0]?g.throw||((w=g.return)&&w.call(g),0):g.next)&&!(w=w.call(g,I[1])).done)return w;switch(g=0,w&&(I=[I[0]&2,w.value]),I[0]){case 0:case 1:w=I;break;case 4:return p.label++,{value:I[1],done:!1};case 5:p.label++,g=I[1],I=[0];continue;case 7:I=p.ops.pop(),p.trys.pop();continue;default:if(w=p.trys,!(w=w.length>0&&w[w.length-1])&&(I[0]===6||I[0]===2)){p=0;continue}if(I[0]===3&&(!w||I[1]>w[0]&&I[1]<w[3])){p.label=I[1];break}if(I[0]===6&&p.label<w[1]){p.label=w[1],w=I;break}if(w&&p.label<w[2]){p.label=w[2],p.ops.push(I);break}w[2]&&p.ops.pop(),p.trys.pop();continue}I=f.call(u,p)}catch(x){I=[6,x],g=0}finally{v=w=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}};Object.defineProperty(nr,"__esModule",{value:!0}),nr.WebRequest=nr.genAdapter=void 0;var o=U3,i=mu(),s=L3(),c=(function(u){e(f,u);function f(p){var v=u.call(this)||this,g=p.timeout,w=p.timeoutMsg,b=p.restrictedMethods;return v.timeout=g||0,v.timeoutMsg=w||"",v.restrictedMethods=b||["get","post","upload","download"],v}return f.prototype.get=function(p){return this.request(t(t({},p),{method:"get"}),this.restrictedMethods.includes("get"))},f.prototype.post=function(p){return this.request(t(t({},p),{method:"post"}),this.restrictedMethods.includes("post"))},f.prototype.put=function(p){return this.request(t(t({},p),{method:"put"}))},f.prototype.upload=function(p){var v=p.data,g=p.file,w=p.name,b=p.method,T=p.headers,C=T===void 0?{}:T,I={post:"post",put:"put"}[b==null?void 0:b.toLowerCase()]||"put",x=new FormData;return I==="post"?(Object.keys(v).forEach(function(R){x.append(R,v[R])}),x.append("key",w),x.append("file",g),this.request(t(t({},p),{data:x,method:I}),this.restrictedMethods.includes("upload"))):this.request(t(t({},p),{method:"put",headers:C,body:g}),this.restrictedMethods.includes("upload"))},f.prototype.download=function(p){return r(this,void 0,void 0,function(){var v,g,w,b;return n(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,this.get(t(t({},p),{headers:{},responseType:"blob"}))];case 1:return v=T.sent().data,g=window.URL.createObjectURL(new Blob([v])),w=decodeURIComponent(new URL(p.url).pathname.split("/").pop()||""),b=document.createElement("a"),b.href=g,b.setAttribute("download",w),b.style.display="none",document.body.appendChild(b),b.click(),window.URL.revokeObjectURL(g),document.body.removeChild(b),[3,3];case 2:return T.sent(),[3,3];case 3:return[2,new Promise(function(C){C({statusCode:200,tempFilePath:p.url})})]}})})},f.prototype.fetch=function(p){var v;return r(this,void 0,void 0,function(){var g,w,b,T,C,I,x,R,L,F,H,V,D,B=this;return n(this,function(U){switch(U.label){case 0:return g=new AbortController,w=p.url,b=p.enableAbort,T=b===void 0?!1:b,C=p.stream,I=C===void 0?!1:C,x=p.signal,R=p.timeout,L=p.shouldThrowOnError,F=L===void 0?!0:L,H=R??this.timeout,x&&(x.aborted&&g.abort(),x.addEventListener("abort",function(){return g.abort()})),V=null,T&&H&&(V=setTimeout(function(){console.warn(B.timeoutMsg),g.abort(new Error(B.timeoutMsg))},H)),[4,fetch(w,t(t({},p),{signal:g.signal})).then(function(K){return r(B,void 0,void 0,function(){var Q,ee,fe;return n(this,function(be){switch(be.label){case 0:return clearTimeout(V),F?K.ok?(Q=K,[3,3]):[3,1]:[3,4];case 1:return fe=(ee=Promise).reject,[4,K.json()];case 2:Q=fe.apply(ee,[be.sent()]),be.label=3;case 3:return[2,Q];case 4:return[2,K]}})})}).catch(function(K){if(clearTimeout(V),F)return Promise.reject(K)})];case 1:return D=U.sent(),[2,{data:I?D.body:!((v=D.headers.get("content-type"))===null||v===void 0)&&v.includes("application/json")?D.json():D.text(),statusCode:D.status,header:D.headers}]}})})},f.prototype.request=function(p,v){var g=this;v===void 0&&(v=!1);var w=String(p.method).toLowerCase()||"get";return new Promise(function(b){var T=p.url,C=p.headers,I=C===void 0?{}:C,x=p.data,R=p.responseType,L=p.withCredentials,F=p.body,H=p.onUploadProgress,V=(0,i.formatUrl)((0,s.getProtocol)(),T,w==="get"?x:{}),D=new XMLHttpRequest;D.open(w,V),R&&(D.responseType=R),Object.keys(I).forEach(function(K){D.setRequestHeader(K,I[K])});var B;H&&D.upload.addEventListener("progress",H),D.onreadystatechange=function(){var K={};if(D.readyState===4){var Q=D.getAllResponseHeaders(),ee=Q.trim().split(/[\r\n]+/),fe={};ee.forEach(function(be){var ue=be.split(": "),Y=ue.shift().toLowerCase(),X=ue.join(": ");fe[Y]=X}),K.header=fe,K.statusCode=D.status;try{K.data=R==="blob"?D.response:JSON.parse(D.responseText)}catch{K.data=R==="blob"?D.response:D.responseText}clearTimeout(B),b(K)}},v&&g.timeout&&(B=setTimeout(function(){console.warn(g.timeoutMsg),D.abort()},g.timeout));var U;(0,i.isFormData)(x)?U=x:I["content-type"]==="application/x-www-form-urlencoded"?U=(0,i.toQueryString)(x):F?U=F:U=x?JSON.stringify(x):void 0,L&&(D.withCredentials=!0),D.send(U)})},f})(o.AbstractSDKRequest);nr.WebRequest=c;function h(){var u={type:"default",root:window,reqClass:c,wsClass:WebSocket,localStorage};return u}return nr.genAdapter=h,nr}var zC;function FV(){return zC||(zC=1,(function(e){var t=Nn&&Nn.__assign||function(){return t=Object.assign||function(f){for(var p,v=1,g=arguments.length;v<g;v++){p=arguments[v];for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&(f[w]=p[w])}return f},t.apply(this,arguments)},r=Nn&&Nn.__createBinding||(Object.create?(function(f,p,v,g){g===void 0&&(g=v);var w=Object.getOwnPropertyDescriptor(p,v);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(f,g,w)}):(function(f,p,v,g){g===void 0&&(g=v),f[g]=p[v]})),n=Nn&&Nn.__setModuleDefault||(Object.create?(function(f,p){Object.defineProperty(f,"default",{enumerable:!0,value:p})}):function(f,p){f.default=p}),o=Nn&&Nn.__importStar||function(f){if(f&&f.__esModule)return f;var p={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&r(p,f,v);return n(p,f),p};Object.defineProperty(e,"__esModule",{value:!0}),e.useDefaultAdapter=e.useAdapters=e.RUNTIME=void 0;var i=o(MV()),s=mu(),c;(function(f){f.WEB="web",f.WX_MP="wx_mp"})(c=e.RUNTIME||(e.RUNTIME={}));function h(f,p){for(var v=(0,s.isArray)(f)?f:[f],g=0,w=v;g<w.length;g++){var b=w[g],T=b.isMatch,C=b.genAdapter,I=b.runtime;if(T())return{adapter:t({isMatch:T},C(p)),runtime:I}}}e.useAdapters=h;function u(){return{adapter:i.genAdapter(),runtime:c.WEB}}e.useDefaultAdapter=u})(Nn)),Nn}var jV=FV(),Vn=function(){return Vn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vn.apply(this,arguments)},Vl=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},Wl=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},B3=(function(){function e(t){var r,n;try{this.localStorage=(t==null?void 0:t.localStorage)||(((n=(r=t==null?void 0:t.adapter)===null||r===void 0?void 0:r.root)===null||n===void 0?void 0:n.globalThis)||globalThis).localStorage}catch{this.localStorage=(t==null?void 0:t.localStorage)||{}}}return e.prototype.getItem=function(t){return Vl(this,void 0,void 0,function(){return Wl(this,function(r){return[2,this.localStorage.getItem(t)]})})},e.prototype.removeItem=function(t){return Vl(this,void 0,void 0,function(){return Wl(this,function(r){return this.localStorage.removeItem(t),[2]})})},e.prototype.setItem=function(t,r){return Vl(this,void 0,void 0,function(){return Wl(this,function(n){return this.localStorage.setItem(t,r),[2]})})},e.prototype.getItemSync=function(t){return this.localStorage.getItem(t)},e.prototype.setItemSync=function(t,r){this.localStorage.setItem(t,r)},e.prototype.removeItemSync=function(t){this.localStorage.removeItem(t)},e})(),UV=/^[^:]+:\/\/[^/]+(\/[^?#]+)/,$3=function(e,t){var r,n,o,i=(r=t==null?void 0:t.headers)===null||r===void 0?void 0:r["x-request-id"];return e||(e={}),(e!=null&&e.code||!((n=e==null?void 0:e.data)===null||n===void 0)&&n.error_code)&&(e={error:e.code||e.data.error,error_description:e.data.error_description||e.message||e.code||e.data.error_code,request_id:e.requestId,error_code:(o=e.data)===null||o===void 0?void 0:o.error_code}),e!=null&&e.request_id||(e.request_id=e.request_id||i),e!=null&&e.error?(e.error_uri=$V(t==null?void 0:t.url),e):(e==null?void 0:e.data)||{}};function BV(e){return function(t,r){return Vl(this,void 0,void 0,function(){return Wl(this,function(n){return[2,new Promise(function(o,i){var s=Object.assign({},r);s.body&&typeof s.body!="string"&&(s.body=JSON.stringify(s.body));var c=wx.request({url:t,data:s.body,timeout:e._timeout,method:s.method||"GET",header:s.headers,success:function(h){h=$3(h,Vn(Vn({},r),{url:t})),h.error&&i(h),o(h)},fail:function(h){i({error:"unreachable",error_description:h.message})},complete:function(h){if(!(!h||!h.errMsg)&&!(!e._timeout||e._restrictedMethods.indexOf("request")===-1)){var u=h.errMsg;if(u==="request:fail timeout"){console.warn(e._timeoutMsg);try{c.abort()}catch{}}}}})})]})})}}function $V(e){return UV.test(e)?RegExp.$1:e}var qV=function(e,t){var r=Vn({},e);try{if(!(e!=null&&e.storage)&&(t!=null&&t.localStorage)&&(r.storage=new B3({localStorage:t.localStorage,adapter:t})),!e.captchaOptions&&(t!=null&&t.captchaOptions)&&(r.captchaOptions=t.captchaOptions),!e.baseRequest&&!e.request&&(t!=null&&t.reqClass)){var n={timeout:1e4,restrictedMethods:["get","post","upload","download","request"]},o=new t.reqClass(n);r.baseRequest=function(i,s){var c,h,u,f,p;return Vl(this,void 0,void 0,function(){var v,g,w,b;return Wl(this,function(T){switch(T.label){case 0:if(v={},g=((c=s.method)===null||c===void 0?void 0:c.toLocaleLowerCase())||"post",w=(u=(h=o==null?void 0:o[g])===null||h===void 0?void 0:h.bind)===null||u===void 0?void 0:u.call(h,o),typeof w!="function")throw new Error("invalid ".concat(g," request method"));T.label=1;case 1:return T.trys.push([1,3,,4]),(!(!((f=s.headers)===null||f===void 0)&&f["content-type"])||!((p=s.headers)===null||p===void 0)&&p["content-type"].includes("application/json"))&&!["string","undefined"].includes(typeof s.body)&&(s.data=s.data||s.body,s.body=JSON.stringify(s.body)),[4,w(Vn({url:i},s))];case 2:return v=T.sent(),v=$3(v,Vn(Vn({},s),{url:i})),[3,4];case 3:throw b=T.sent(),v=b,b;case 4:if(v!=null&&v.error)throw v;return[2,v]}})})}}}catch(i){console.error("user adapter generate fail:",i)}return r},VV=function(e,t){if(!ci.isMatch()||e.storage&&e.baseRequest)return e;var r=Vn({},e),n={};try{var o=ci.genAdapter({}),i=o.localStorage,s=o.reqClass;if(i&&(n.storage=new B3({localStorage:i,adapter:t})),s){var c=new s({timeout:1e4,restrictedMethods:["get","post","upload","download","request"]});n.request=BV(c)}return r.captchaOptions&&(n.baseRequest=n.request,n.request=void 0),Vn(Vn({},r),n)}catch(h){console.error("adapter generate fail:",h)}return r},WV=function(e){return e.adapter&&e.adapter.type!=="default"?qV(e,e.adapter):VV(e,e.adapter)},Vt=function(){return Vt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vt.apply(this,arguments)},Ze=function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},ce=function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},pe=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},me=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},HV="auth",Hd={SIGN_OUT:"sign_out",SIGN_IN:"sign_in",CREDENTIALS_ERROR:"credentials_error"},Gd={LOGIN_STATE_CHANGED:"loginStateChanged"},zd=new LV.CloudbaseEventEmitter,GV=function(e){zd.fire(Gd.LOGIN_STATE_CHANGED,Vt(Vt({},e),{eventType:Hd.CREDENTIALS_ERROR}))},zV=(function(){function e(t){var r=t.cache,n=t.oauthInstance;this.cache=r,this.oauthInstance=n,this.setUserInfo()}return e.prototype.checkLocalInfo=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){return this.uid=this.getLocalUserInfo("uid"),this.gender=this.getLocalUserInfo("gender"),this.picture=this.getLocalUserInfo("picture"),this.email=this.getLocalUserInfo("email"),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),this.username=this.getLocalUserInfo("username"),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]})})},e.prototype.checkLocalInfoAsync=function(){return pe(this,void 0,void 0,function(){var t,r,n,o;return me(this,function(i){switch(i.label){case 0:return t=this,[4,this.getLocalUserInfoAsync("uid")];case 1:return t.uid=i.sent(),r=this,[4,this.getLocalUserInfoAsync("gender")];case 2:return r.gender=i.sent(),this.picture=this.getLocalUserInfo("picture"),n=this,[4,this.getLocalUserInfoAsync("email")];case 3:return n.email=i.sent(),this.emailVerified=this.getLocalUserInfo("email_verified"),this.phoneNumber=this.getLocalUserInfo("phone_number"),o=this,[4,this.getLocalUserInfoAsync("username")];case 4:return o.username=i.sent(),this.name=this.getLocalUserInfo("name"),this.birthdate=this.getLocalUserInfo("birthdate"),this.zoneinfo=this.getLocalUserInfo("zoneinfo"),this.locale=this.getLocalUserInfo("locale"),this.sub=this.getLocalUserInfo("sub"),this.createdFrom=this.getLocalUserInfo("created_from"),this.providers=this.getLocalUserInfo("providers"),[2]}})})},e.prototype.update=function(t){return pe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:return[4,this.oauthInstance.authApi.setUserProfile(Vt({},t))];case 1:return r=n.sent(),this.setLocalUserInfo(r),[2]}})})},e.prototype.updateUserBasicInfo=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.updateUserBasicInfo(Vt({},t))];case 1:return r.sent(),this.setLocalUserInfo({username:t.username}),[2]}})})},e.prototype.updatePassword=function(t,r){return this.oauthInstance.authApi.updatePasswordByOld({old_password:r,new_password:t})},e.prototype.updateUsername=function(t){return typeof t!="string"&&Xs.throwError($e.ERRORS.INVALID_PARAMS,"username must be a string"),this.update({username:t})},e.prototype.refresh=function(t){return pe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:return[4,this.oauthInstance.authApi.getUserInfo(t)];case 1:if(r=n.sent(),r.code==="INVALID_ACCESS_TOKEN")throw this.setLocalUserInfo({}),r;return this.setLocalUserInfo(r),[2,r]}})})},e.prototype.getLocalUserInfo=function(t){var r=this.cache.keys.userInfoKey,n=this.cache.getStore(r);return n[t]},e.prototype.getLocalUserInfoAsync=function(t){return pe(this,void 0,void 0,function(){var r,n;return me(this,function(o){switch(o.label){case 0:return r=this.cache.keys.userInfoKey,[4,this.cache.getStoreAsync(r)];case 1:return n=o.sent(),[2,n[t]]}})})},e.prototype.setUserInfo=function(){var t=this,r=this.cache.keys.userInfoKey,n=this.cache.getStore(r);["uid","email","name","gender","picture","email_verified","phone_number","birthdate","zoneinfo","locale","sub","created_from","providers","username"].forEach(function(o){t[o]=n[o]})},e.prototype.setLocalUserInfo=function(t){var r=this.cache.keys.userInfoKey;this.cache.setStore(r,t),this.setUserInfo()},Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.update() ","  2 - ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"update",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.updatePassword() ","  3 - ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[String,String]),ce("design:returntype",void 0)],e.prototype,"updatePassword",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.updateUsername() ","  2 - ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[String]),ce("design:returntype",void 0)],e.prototype,"updateUsername",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  User.refresh() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"refresh",null),e})(),sy=(function(){function e(t){var r=t.envId,n=t.cache,o=t.oauthInstance;r||Xs.throwError($e.ERRORS.INVALID_PARAMS,"envId is not defined"),this.cache=n,this.oauthInstance=o,this.user=new zV({cache:this.cache,oauthInstance:o})}return e.prototype.checkLocalState=function(){var t;this.oauthLoginState=(t=this.oauthInstance)===null||t===void 0?void 0:t.authApi.hasLoginStateSync(),this.user.checkLocalInfo()},e.prototype.checkLocalStateAsync=function(){var t;return pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,(t=this.oauthInstance)===null||t===void 0?void 0:t.authApi.getLoginState()];case 1:return r.sent(),[4,this.user.checkLocalInfoAsync()];case 2:return r.sent(),[2]}})})},e})(),KV=(function(){function e(t){this.config=t,this.cache=t.cache,this.oauthInstance=t.oauthInstance,this.setAccessKey()}return e.prototype.bindPhoneNumber=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.editContact(t)]})})},e.prototype.unbindProvider=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.unbindProvider(t)]})})},e.prototype.bindEmail=function(t){return this.oauthInstance.authApi.editContact(t)},e.prototype.verify=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.verify(t)]})})},e.prototype.getVerification=function(t,r){return pe(this,void 0,void 0,function(){return me(this,function(n){return[2,this.oauthInstance.authApi.getVerification(t,r)]})})},Object.defineProperty(e.prototype,"currentUser",{get:function(){if(this.cache.mode==="async"){Xs.printWarn($e.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrentUser instead");return}var t=this.hasLoginState();return t&&t.user||null},enumerable:!1,configurable:!0}),e.prototype.getCurrentUser=function(){return pe(this,void 0,void 0,function(){var t;return me(this,function(r){switch(r.label){case 0:return[4,this.getLoginState()];case 1:return t=r.sent(),t?[4,t.user.checkLocalInfoAsync()]:[3,3];case 2:return r.sent(),[2,t.user||null];case 3:return[2,null]}})})},e.prototype.signInAnonymously=function(t){return t===void 0&&(t={}),pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInAnonymously(t)];case 1:return r.sent(),[2,this.createLoginState()]}})})},e.prototype.signInAnonymouslyInWx=function(t){var r=t===void 0?{}:t,n=r.useWxCloud;return pe(this,void 0,void 0,function(){var o,i,s=this;return me(this,function(c){switch(c.label){case 0:if(!ci.isMatch())throw Error("wx api undefined");return o=wx.getAccountInfoSync().miniProgram,i=function(h){return pe(s,void 0,void 0,function(){var u,f,p;return me(this,function(v){switch(v.label){case 0:u=void 0,f=void 0,v.label=1;case 1:return v.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:o==null?void 0:o.appId,provider_code:h,provider_params:{provider_code_type:"open_id",appid:o==null?void 0:o.appId}},n)];case 2:if(u=v.sent(),u!=null&&u.error_code||!u.provider_token)throw u;return[4,this.oauthInstance.authApi.signInAnonymously({provider_token:u.provider_token},n)];case 3:if(f=v.sent(),f!=null&&f.error_code)throw f;return[3,5];case 4:throw p=v.sent(),p;case 5:return[2]}})})},[4,new Promise(function(h,u){wx.login({success:function(f){return pe(s,void 0,void 0,function(){var p;return me(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,i(f.code)];case 1:return v.sent(),h(!0),[3,3];case 2:return p=v.sent(),u(p),[3,3];case 3:return[2]}})})},fail:function(f){var p=new Error(f==null?void 0:f.errMsg);p.code=f==null?void 0:f.errno,u(p)}})})];case 1:return c.sent(),[2,this.createLoginState(void 0,{asyncRefreshUser:!0})]}})})},e.prototype.bindOpenId=function(){return pe(this,void 0,void 0,function(){var t,r,n=this;return me(this,function(o){switch(o.label){case 0:if(!ci.isMatch())throw Error("wx api undefined");return t=wx.getAccountInfoSync().miniProgram,r=function(i){return pe(n,void 0,void 0,function(){var s,c;return me(this,function(h){switch(h.label){case 0:s=void 0,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:t==null?void 0:t.appId,provider_code:i,provider_params:{provider_code_type:"open_id",appid:t==null?void 0:t.appId}})];case 2:if(s=h.sent(),s!=null&&s.error_code||!s.provider_token)throw s;return[4,this.oauthInstance.authApi.bindWithProvider({provider_token:s.provider_token})];case 3:return h.sent(),[3,5];case 4:throw c=h.sent(),c;case 5:return[2]}})})},[4,new Promise(function(i,s){wx.login({success:function(c){return pe(n,void 0,void 0,function(){var h;return me(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,r(c.code)];case 1:return u.sent(),i(!0),[3,3];case 2:return h=u.sent(),s(h),[3,3];case 3:return[2]}})})},fail:function(c){var h=new Error(c==null?void 0:c.errMsg);h.code=c==null?void 0:c.errno,s(h)}})})];case 1:return o.sent(),[2]}})})},e.prototype.signInWithOpenId=function(t){var r=t===void 0?{}:t,n=r.useWxCloud,o=n===void 0?!0:n;return pe(this,void 0,void 0,function(){var i,s,c=this;return me(this,function(h){switch(h.label){case 0:if(!ci.isMatch())throw Error("wx api undefined");return i=wx.getAccountInfoSync().miniProgram,s=function(u){return pe(c,void 0,void 0,function(){var f,p,v;return me(this,function(g){switch(g.label){case 0:f=void 0,p=void 0,g.label=1;case 1:return g.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_id:i==null?void 0:i.appId,provider_code:u,provider_params:{provider_code_type:"open_id",appid:i==null?void 0:i.appId}},o)];case 2:if(f=g.sent(),f!=null&&f.error_code||!f.provider_token)throw f;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:f.provider_token},o)];case 3:if(p=g.sent(),p!=null&&p.error_code)throw p;return[3,5];case 4:throw v=g.sent(),v;case 5:return[4,this.oauthInstance.oauth2client.setCredentials(p)];case 6:return g.sent(),[2]}})})},[4,new Promise(function(u,f){wx.login({success:function(p){return pe(c,void 0,void 0,function(){var v;return me(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,s(p.code)];case 1:return g.sent(),u(!0),[3,3];case 2:return v=g.sent(),f(v),[3,3];case 3:return[2]}})})},fail:function(p){var v=new Error(p==null?void 0:p.errMsg);v.code=p==null?void 0:p.errno,f(v)}})})];case 1:return h.sent(),[2,this.createLoginState()]}})})},e.prototype.signInWithUnionId=function(){return pe(this,void 0,void 0,function(){var t,r=this;return me(this,function(n){switch(n.label){case 0:if(!ci.isMatch())throw Error("wx api undefined");n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new Promise(function(o,i){var s=wx.getAccountInfoSync().miniProgram;wx.login({success:function(c){return pe(r,void 0,void 0,function(){var h,u,f,p,v;return me(this,function(g){switch(g.label){case 0:h=s==null?void 0:s.appId,g.label=1;case 1:return g.trys.push([1,4,,5]),[4,this.oauthInstance.authApi.grantProviderToken({provider_code:c.code,provider_id:h,provider_params:{provider_code_type:"union_id",appid:s==null?void 0:s.appId}})];case 2:return u=g.sent(),f=u.provider_token,f?[4,this.oauthInstance.authApi.signInWithProvider({provider_id:h,provider_token:f})]:(i(u),[2]);case 3:return p=g.sent(),p!=null&&p.error_code?(i(p),[2]):(o(!0),[3,5]);case 4:return v=g.sent(),i(v),[3,5];case 5:return[2]}})})},fail:function(c){var h=new Error(c==null?void 0:c.errMsg);h.code=c==null?void 0:c.errno,i(h)}})})];case 2:return n.sent(),[3,4];case 3:throw t=n.sent(),t;case 4:return[2,this.createLoginState()]}})})},e.prototype.signInWithPhoneAuth=function(t){var r=t.phoneCode,n=r===void 0?"":r;return pe(this,void 0,void 0,function(){var o,i,s,c,h,u;return me(this,function(f){switch(f.label){case 0:if(!ci.isMatch())throw Error("wx api undefined");return o=wx.getAccountInfoSync().miniProgram,i={provider_params:{provider_code_type:"phone"},provider_id:o.appId},[4,wx.login()];case 1:s=f.sent().code,i.provider_code=s,f.label=2;case 2:return f.trys.push([2,6,,7]),[4,this.oauthInstance.authApi.grantProviderToken(i)];case 3:if(c=f.sent(),c.error_code)throw c;return[4,this.oauthInstance.authApi.patchProviderToken({provider_token:c.provider_token,provider_id:o.appId,provider_params:{code:n,provider_code_type:"phone"}})];case 4:if(c=f.sent(),c.error_code)throw c;return[4,this.oauthInstance.authApi.signInWithProvider({provider_token:c.provider_token})];case 5:if(h=f.sent(),h!=null&&h.error_code)throw h;return[3,7];case 6:throw u=f.sent(),u;case 7:return[2,this.createLoginState()]}})})},e.prototype.signInWithSms=function(t){var r=t.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=t.verificationCode,i=o===void 0?"":o,s=t.phoneNum,c=s===void 0?"":s,h=t.bindInfo,u=h===void 0?void 0:h;return pe(this,void 0,void 0,function(){return me(this,function(f){try{return[2,this.signInWithUsername({verificationInfo:n,verificationCode:i,bindInfo:u,username:c,loginType:"sms"})]}catch(p){throw p}return[2]})})},e.prototype.signInWithEmail=function(t){var r=t.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=t.verificationCode,i=o===void 0?"":o,s=t.bindInfo,c=s===void 0?void 0:s,h=t.email,u=h===void 0?"":h;return pe(this,void 0,void 0,function(){return me(this,function(f){try{return[2,this.signInWithUsername({verificationInfo:n,verificationCode:i,bindInfo:c,username:u,loginType:"email"})]}catch(p){throw p}return[2]})})},e.prototype.setCustomSignFunc=function(t){this.oauthInstance.authApi.setCustomSignFunc(t)},e.prototype.signInWithCustomTicket=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){switch(t.label){case 0:return[4,this.oauthInstance.authApi.signInWithCustomTicket()];case 1:return t.sent(),[2,this.createLoginState()]}})})},e.prototype.signIn=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signIn(t)];case 1:return r.sent(),[2,this.createLoginState(t)]}})})},e.prototype.signUp=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signUp(t)];case 1:return r.sent(),[2,this.createLoginState()]}})})},e.prototype.setPassword=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.setPassword(t)]})})},e.prototype.isUsernameRegistered=function(t){return pe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:return typeof t!="string"&&Xs.throwError($e.ERRORS.INVALID_PARAMS,"username must be a string"),[4,this.oauthInstance.authApi.checkIfUserExist({username:t})];case 1:return r=n.sent().exist,[2,r]}})})},e.prototype.signOut=function(t){return pe(this,void 0,void 0,function(){var r,n;return me(this,function(o){switch(o.label){case 0:return r=this.cache.keys.userInfoKey,[4,this.oauthInstance.authApi.signOut(t)];case 1:return n=o.sent(),[4,this.cache.removeStoreAsync(r)];case 2:return o.sent(),zd.fire(Gd.LOGIN_STATE_CHANGED,{eventType:Hd.SIGN_OUT}),[2,n]}})})},e.prototype.hasLoginState=function(){var t;if(this.cache.mode==="async"){Xs.printWarn($e.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed");return}var r=(t=this.oauthInstance)===null||t===void 0?void 0:t.authApi.hasLoginStateSync();if(r){var n=new sy({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance});return n}return null},e.prototype.getLoginState=function(){return pe(this,void 0,void 0,function(){var t,r;return me(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.oauthInstance.authApi.getLoginState()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[2,null];case 4:return t?(r=new sy({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[2,r]):[2,null]}})})},e.prototype.getUserInfo=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.getUserInfo(t)]})})},e.prototype.getWedaUserInfo=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){return[2,this.oauthInstance.authApi.getWedaUserInfo()]})})},e.prototype.updateUserBasicInfo=function(t){return pe(this,void 0,void 0,function(){var r;return me(this,function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return r=n.sent(),r?[4,r.user.updateUserBasicInfo(t)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.getAuthHeader=function(){return console.error("Auth.getAuthHeader API "),{}},e.prototype.bindWithProvider=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.bindWithProvider(t)]})})},e.prototype.queryUser=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.queryUserProfile(t)]})})},e.prototype.getAccessToken=function(){return pe(this,void 0,void 0,function(){var t;return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.getAccessToken()];case 1:return t=r.sent(),[2,{accessToken:t,env:this.config.env}]}})})},e.prototype.grantProviderToken=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.grantProviderToken(t)]})})},e.prototype.patchProviderToken=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.patchProviderToken(t)]})})},e.prototype.signInWithProvider=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithProvider(t)];case 1:return r.sent(),[2,this.createLoginState(t)]}})})},e.prototype.signInWithWechat=function(t){return t===void 0&&(t={}),pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.signInWithWechat(t)];case 1:return r.sent(),[2,this.createLoginState(t)]}})})},e.prototype.grantToken=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.authApi.grantToken(t)];case 1:return r.sent(),[2,this.createLoginState()]}})})},e.prototype.genProviderRedirectUri=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.genProviderRedirectUri(t)]})})},e.prototype.resetPassword=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.resetPassword(t)]})})},e.prototype.deviceAuthorize=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.deviceAuthorize(t)]})})},e.prototype.sudo=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.sudo(t)]})})},e.prototype.deleteMe=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.deleteMe(t)]})})},e.prototype.getProviders=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){return[2,this.oauthInstance.authApi.getProviders()]})})},e.prototype.loginScope=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){return[2,this.oauthInstance.authApi.loginScope()]})})},e.prototype.loginGroups=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){return[2,this.oauthInstance.authApi.loginGroups()]})})},e.prototype.onLoginStateChanged=function(t){return pe(this,void 0,void 0,function(){var r,n=this;return me(this,function(o){switch(o.label){case 0:return zd.on(Gd.LOGIN_STATE_CHANGED,function(i){return pe(n,void 0,void 0,function(){var s,c,h;return me(this,function(u){switch(u.label){case 0:return((h=i==null?void 0:i.data)===null||h===void 0?void 0:h.eventType)===Hd.CREDENTIALS_ERROR?[3,2]:[4,this.getLoginState()];case 1:return c=u.sent(),[3,3];case 2:c={},u.label=3;case 3:return s=c,t.call(this,Vt(Vt({},i),s)),[2]}})})}),[4,this.getLoginState()];case 1:return r=o.sent(),t.call(this,r),[2]}})})},e.prototype.refreshTokenForce=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.refreshTokenForce(t)]})})},e.prototype.getCredentials=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){return[2,this.oauthInstance.authApi.getCredentials()]})})},e.prototype.setCredentials=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){switch(r.label){case 0:return[4,this.oauthInstance.oauth2client.setCredentials(t)];case 1:return r.sent(),[2]}})})},e.prototype.getProviderSubType=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){return[2,this.oauthInstance.authApi.getProviderSubType()]})})},e.prototype.createCaptchaData=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.createCaptchaData(t)]})})},e.prototype.verifyCaptchaData=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.verifyCaptchaData(t)]})})},e.prototype.getMiniProgramQrCode=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramCode(t)]})})},e.prototype.getMiniProgramQrCodeStatus=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.getMiniProgramQrCodeStatus(t)]})})},e.prototype.modifyPassword=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.modifyPassword(t)]})})},e.prototype.modifyPasswordWithoutLogin=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.modifyPasswordWithoutLogin(t)]})})},e.prototype.getUserBehaviorLog=function(t){return pe(this,void 0,void 0,function(){return me(this,function(r){return[2,this.oauthInstance.authApi.getUserBehaviorLog(t)]})})},e.prototype.toDefaultLoginPage=function(t){return t===void 0&&(t={}),pe(this,void 0,void 0,function(){var r,n,o,i,s;return me(this,function(c){return r=t.config_version||"env",n=Object.keys(t.query||{}).map(function(h){return"".concat(h,"=").concat(t.query[h])}).join("&"),ci.isMatch()?wx.navigateTo({url:"/packages/$wd_system/pages/login/index".concat(n?"?".concat(n):"")}):(o=t.redirect_uri||window.location.href,i=new URL(o),s="".concat(i.origin,"/__auth/?app_id=").concat(t.app_id||"","&env_id=").concat(this.config.env,"&client_id=").concat(this.config.clientId||this.config.env,"&config_version=").concat(r,"&redirect_uri=").concat(encodeURIComponent(o)).concat(n?"&".concat(n):""),window.location.href=s),[2]})})},e.prototype.createLoginState=function(t,r){return pe(this,void 0,void 0,function(){var n;return me(this,function(o){switch(o.label){case 0:return n=new sy({envId:this.config.env,cache:this.cache,oauthInstance:this.oauthInstance}),[4,n.checkLocalStateAsync()];case 1:return o.sent(),r!=null&&r.asyncRefreshUser?(n.user.refresh(t),[3,4]):[3,2];case 2:return[4,n.user.refresh(t)];case 3:o.sent(),o.label=4;case 4:return zd.fire(Gd.LOGIN_STATE_CHANGED,{eventType:Hd.SIGN_IN}),[2,n]}})})},e.prototype.signInWithUsername=function(t){var r=t.verificationInfo,n=r===void 0?{verification_id:"",is_user:!1}:r,o=t.verificationCode,i=o===void 0?"":o,s=t.username,c=s===void 0?"":s,h=t.bindInfo,u=h===void 0?void 0:h,f=t.loginType,p=f===void 0?"":f;return pe(this,void 0,void 0,function(){var v,g,w,b,T,C,I,x;return me(this,function(R){switch(R.label){case 0:return R.trys.push([0,8,,9]),[4,this.oauthInstance.authApi.verify({verification_id:n.verification_id,verification_code:i})];case 1:if(v=R.sent(),v!=null&&v.error_code)throw v;return g=v.verification_token,w=/^\+\d{1,3}\s+\d+/.test(c)?c:"+86 ".concat(c),b={phone_number:w},p==="email"&&(w=c,b={email:w}),n.is_user?[4,this.oauthInstance.authApi.signIn({username:w,verification_token:g})]:[3,5];case 2:if(T=R.sent(),T!=null&&T.error_code)throw T;return u?[4,this.oauthInstance.authApi.bindWithProvider({provider_token:u==null?void 0:u.providerToken})]:[3,4];case 3:if(C=R.sent(),C!=null&&C.error_code)throw C;R.label=4;case 4:return[3,7];case 5:return[4,this.oauthInstance.authApi.signUp(Vt(Vt({},b),{verification_token:g,provider_token:u==null?void 0:u.providerId}))];case 6:if(I=R.sent(),I!=null&&I.error_code)throw I;R.label=7;case 7:return[2,this.createLoginState()];case 8:throw x=R.sent(),x;case 9:return[2]}})})},e.prototype.setAccessKey=function(){return pe(this,void 0,void 0,function(){return me(this,function(t){if(this.config.accessKey)try{this.oauthInstance.oauth2client.setAccessKeyCredentials({access_token:this.config.accessKey,token_type:"Bearer",scope:"accessKey",expires_at:new Date(+new Date+ +new Date),expires_in:+new Date+ +new Date})}catch(r){console.warn("accessKey error: ",r)}return[2]})})},Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindPhoneNumber() ","  2 - ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"bindPhoneNumber",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().unbindProvider() ","  2 - ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"unbindProvider",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindEmail() ","  2 - ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",void 0)],e.prototype,"bindEmail",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().verify() ","  2 - /","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"verify",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getVerification() ","  2 - /","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object,Object]),ce("design:returntype",Promise)],e.prototype,"getVerification",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getCurrentUser() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],e.prototype,"getCurrentUser",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInAnonymously() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signInAnonymously",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInAnonymouslyInWx() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signInAnonymouslyInWx",null),Ze([Xe.catchErrorsDecorator({title:"OpenID",messages:["","  1 - openId","  2 -  auth().bindOpenId() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],e.prototype,"bindOpenId",null),Ze([Xe.catchErrorsDecorator({title:"openId",messages:["","  1 - openId","  2 -  auth().signInWithOpenId() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signInWithOpenId",null),Ze([Xe.catchErrorsDecorator({title:"unionId",messages:["","  1 - unionId","  2 -  auth().signInWithUnionId() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],e.prototype,"signInWithUnionId",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithPhoneAuth() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signInWithPhoneAuth",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithSms() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signInWithSms",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithEmail() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signInWithEmail",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signInWithCustomTicket() ","  3 - ticket ","  4 -  ticket ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],e.prototype,"signInWithCustomTicket",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().signUp() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signUp",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().isUsernameRegistered() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[String]),ce("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().signOut() ","  2 - signOut","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"signOut",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getLoginState() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],e.prototype,"getLoginState",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getUserInfo() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"getUserInfo",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 - ","  2 -  auth().getWedaUserInfo() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],e.prototype,"getWedaUserInfo",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().bindWithProvider() ","  2 - ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",Promise)],e.prototype,"bindWithProvider",null),Ze([Xe.catchErrorsDecorator({title:"",messages:["","  1 -  auth().getProviderSubType() ","".concat($e.COMMUNITY_SITE_URL)]}),ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",Promise)],e.prototype,"getProviderSubType",null),e})();function YV(e,t){var r=e.region,n=r===void 0?"ap-shanghai":r,o=e.i18n,i=e.accessKey,s=e.useWxCloud,c=(t==null?void 0:t.platform)||jV.useDefaultAdapter(),h=c.runtime,u=c.adapter,f=t||{},p=f.env,v=f.clientId,g=f.debug,w=f.cache,b=f.app,T=(t||{}).apiOrigin;T||(T="https://".concat(p,".").concat(n,".tcb-api.tencentcloudapi.com"));var C={env:p,clientId:v,i18n:o,accessKey:i,useWxCloud:s},I=new RV(WV(Vt(Vt({},C),{apiOrigin:T,apiPath:(e==null?void 0:e.apiPath)||sp,storage:e==null?void 0:e.storage,baseRequest:e==null?void 0:e.baseRequest,request:e==null?void 0:e.request,anonymousSignInFunc:e==null?void 0:e.anonymousSignInFunc,captchaOptions:e==null?void 0:e.captchaOptions,wxCloud:e==null?void 0:e.wxCloud,adapter:u,onCredentialsError:GV,headers:Vt({"X-SDK-Version":"@cloudbase/js-sdk/".concat(e.sdkVersion)},e.headers||{})}))),x=new KV(Vt(Vt({},C),{region:n,persistence:e.persistence,debug:g,cache:w||new kV.CloudbaseCache({persistence:e.persistence,keys:{userInfoKey:"user_info_".concat(p)},platformInfo:c}),runtime:h||"web",_fromApp:b,oauthInstance:I}));return{authInstance:x,oauthInstance:I}}var q3={name:HV,namespace:"auth",entity:function(e){if(e===void 0&&(e={region:"",persistence:"local",apiPath:sp}),this.authInstance)return Xs.printWarn($e.ERRORS.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform.adapter,r=e.persistence||t.primaryStorage;r&&r!==this.config.persistence&&this.updateConfig({persistence:r});var n=YV(Vt(Vt({wxCloud:this.config.wxCloud,storage:this.config.storage},e),{persistence:this.config.persistence,i18n:this.config.i18n,accessKey:this.config.accessKey,useWxCloud:this.config.useWxCloud,sdkVersion:this.version}),{env:this.config.env,clientId:this.config.clientId,apiOrigin:this.request.getBaseEndPoint(this.config.endPointMode||"CLOUD_API"),platform:this.platform,cache:this.cache,app:this,debug:this.config.debug}),o=n.authInstance,i=n.oauthInstance;return this.oauthInstance=i,this.authInstance=o,this.authInstance}};try{cloudbase.registerComponent(q3)}catch{}function JV(e){try{e.registerComponent(q3)}catch(t){console.warn(t)}}var Eh=function(){return Eh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Eh.apply(this,arguments)},V3=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},W3=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},KC=Rr,d_="cloudrun",QV=(function(){function e(){}return e.prototype.callContainer=function(t,r){return V3(this,void 0,void 0,function(){var n,o,i;return W3(this,function(s){switch(s.label){case 0:if(n=t.name,o=t.data,!n)throw new Error(JSON.stringify({code:KC.INVALID_PARAMS,msg:"[".concat(d_,".callContainer] invalid name")}));try{i=o?JSON.stringify(o):""}catch{throw new Error(JSON.stringify({code:KC.INVALID_PARAMS,msg:"[".concat(d_,".callContainer] invalid data")}))}return[4,H3.call(this,Eh(Eh({},t),{data:i}),r)];case 1:return[2,s.sent()]}})})},e})();function H3(e,t){return V3(this,void 0,void 0,function(){var r,n,o,i,s,c,h,u,f,p,v,g,w;return W3(this,function(b){switch(b.label){case 0:return r=e.name,n=e.data,o=e.path,i=o===void 0?"":o,s=e.method,c=e.header,h=c===void 0?{}:c,u=this.getEndPointWithKey("GATEWAY"),f=u.BASE_URL,p=u.PROTOCOL,v="".concat(p).concat(f,"/cloudrun/").concat(r),g=i.startsWith("/")?i:"/".concat(i),[4,this.request.fetch({method:s||"POST",headers:Object.assign({},{"Content-Type":"application/json; charset=utf-8"},h),body:n,url:"".concat(v).concat(g),customReqOpts:t})];case 1:return w=b.sent(),t.from==="node-sdk"?[2,w]:[4,w.data];case 2:return[2,b.sent()]}})})}var XV=new QV,G3={name:d_,entity:{callContainer:XV.callContainer}};try{cloudbase.registerComponent(G3)}catch{}function z3(e){try{e.registerComponent(G3)}catch(t){console.warn(t)}}try{window.registerCloudrun=z3}catch{}var va=function(){return va=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},va.apply(this,arguments)},ZV=function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},uy=function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},eW=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},tW=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},rW=Qh,ly=Rr,nW=Xh,fl=wL,iW=tp,Kd="functions",oW=(function(){function e(){}return e.prototype.callFunction=function(t,r,n){var o,i,s;return eW(this,void 0,void 0,function(){var c,h,u,f,p,v,g,w,b,T,C,I,x,U,R,L,F,H,V,D,B,U,K;return tW(this,function(Q){switch(Q.label){case 0:if(c=t.name,h=t.data,u=t.query,f=t.parse,p=t.search,v=t.type,g=t.path,w=g===void 0?"":g,b=t.method,T=t.header,C=T===void 0?{}:T,!c)throw new Error(JSON.stringify({code:ly.INVALID_PARAMS,msg:"[".concat(Kd,".callFunction] invalid function name")}));try{I=h?JSON.stringify(h):""}catch{throw new Error(JSON.stringify({code:ly.INVALID_PARAMS,msg:"[".concat(Kd,".callFunction] invalid data")}))}return v!=="cloudrun"?[3,2]:(x=yL(),[4,H3.call(this,{name:c,data:I,path:w,method:b,header:va(va({},C),{"X-Request-Id":x})})]);case 1:return U=Q.sent(),[2,{result:U,requestId:x}];case 2:R=this,L=R.request,F=R.config,H="functions.invokeFunction",V={inQuery:u,parse:f,search:p,function_name:c,request_data:I},D={},Q.label=3;case 3:return Q.trys.push([3,8,,9]),F.endPointMode!=="GATEWAY"?[3,5]:[4,L.gateWay(va(va({},t),{path:"functions"}),n)];case 4:return B=Q.sent(),D=va({requestId:B.requestId},!((o=B.data)===null||o===void 0)&&o.code?B.data:{data:{response_data:B.data}}),[3,7];case 5:return[4,L.send(H,V,{defaultQuery:!((i=h==null?void 0:h.params)===null||i===void 0)&&i.action?{action:(s=h==null?void 0:h.params)===null||s===void 0?void 0:s.action}:{}},n)];case 6:D=Q.sent(),Q.label=7;case 7:if(D.code)return[2,fl(r,null,D)];if(U=D.data.response_data,f||F.endPointMode==="GATEWAY")return[2,fl(r,null,{result:U,requestId:D.requestId})];try{return U=JSON.parse(D.data.response_data),[2,fl(r,null,{result:U,requestId:D.requestId})]}catch{fl(r,new Error("[".concat(rW(),"][").concat(ly.INVALID_PARAMS,"][").concat(Kd,".callFunction] response data must be json")))}return[3,9];case 8:return K=Q.sent(),fl(r,K),[3,9];case 9:return[2]}})})},ZV([iW({customInfo:{},title:"",messages:["","  1 -  callFunction() ","  2 - ","  3 - ","".concat(nW)]}),uy("design:type",Function),uy("design:paramtypes",[Object,Function,Object]),uy("design:returntype",Promise)],e.prototype,"callFunction",null),e})(),aW=new oW,K3={name:Kd,entity:{callFunction:aW.callFunction}};try{cloudbase.registerComponent(K3)}catch{}function sW(e){try{e.registerComponent(K3)}catch(t){console.warn(t)}}var _t=function(){return _t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_t.apply(this,arguments)},vs=function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},kt=function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},sn=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},un=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ui;(function(e){e.put="put",e.post="post"})(ui||(ui={}));var YC=Qh,gr=Rr,ys=Xh,cy=pL,dl=mL,uW=Uq,jr=wL,gs=tp,ir="storage";function JC(e){var t=e.lastIndexOf("/");return t===-1?e:e.slice(t+1)}var hl={getUploadInfo:function(e,t,r){return sn(void 0,void 0,void 0,function(){var n,o,i;return un(this,function(s){switch(s.label){case 0:return[4,e.gateWay({path:"storages",name:"get-objects-upload-info",data:[_t({objectId:t.path},t.headers?{signedHeader:t.headers}:{})]},r)];case 1:return n=s.sent(),o=((i=n.data)===null||i===void 0?void 0:i[0])||{},n=_t(_t({},n),{data:_t(_t({},o.code?_t({},o):{}),{authorization:o.authorization,token:o.token,url:o.uploadUrl,fileId:o.cloudObjectId,cosFileId:o.cloudObjectMeta,download_url:o.downloadUrl})}),[2,n]}})})},getDownLoadInfo:function(e,t,r){return sn(void 0,void 0,void 0,function(){var n,o;return un(this,function(i){switch(i.label){case 0:return[4,e.gateWay({path:"storages",name:"get-objects-download-info",data:t.convertedFileList.map(function(s){return{cloudObjectId:s.fileid}})},r)];case 1:return n=i.sent(),n=_t(_t({},n),{data:{download_list:(o=n.data)===null||o===void 0?void 0:o.map(function(s){return{code:s.code||"SUCCESS",message:s.message,fileid:s.cloudObjectId,download_url:s.downloadUrl,fileID:s.cloudObjectId,tempFileURL:s.downloadUrl}})}}),[2,n]}})})},delete:function(e,t,r){return sn(void 0,void 0,void 0,function(){var n,o;return un(this,function(i){switch(i.label){case 0:return[4,e.gateWay({path:"storages",name:"delete-objects",data:t.fileList.map(function(s){return{cloudObjectId:s}})},r)];case 1:return n=i.sent(),n=_t(_t({},n),{data:{delete_list:(o=n.data)===null||o===void 0?void 0:o.map(function(s){return{code:s.code||"SUCCESS",fileID:s.cloudObjectId,message:s.message}})}}),[2,n]}})})},copyFile:function(e,t,r){return sn(void 0,void 0,void 0,function(){var n,o;return un(this,function(i){switch(i.label){case 0:return[4,e.gateWay({path:"storages",name:"copy-objects",data:t.convertedFileList.map(function(s){return{srcPath:s.src_path,dstPath:s.dst_path,overwrite:s.overwrite,removeOriginal:s.remove_original}})},r)];case 1:return n=i.sent(),n=_t(_t({},n),{data:{copy_list:(o=n.data)===null||o===void 0?void 0:o.map(function(s){return{code:s.code||"SUCCESS",fileID:s.cloudObjectId,message:s.message}})}}),[2,n]}})})}},lW=(function(){function e(){}return e.prototype.isGateWay=function(){var t=this.config,r=t.endPointMode||"CLOUD_API";return r==="GATEWAY"},e.prototype.uploadFile=function(t,r){var n;return sn(this,void 0,void 0,function(){var o,i,s,c,h,u,f,p,v,g,w,b,T,C,I,x,R,L,F,H,V,D,B,U,K,Q,ee;return un(this,function(fe){switch(fe.label){case 0:if(o=t.cloudPath,i=t.filePath,s=t.onUploadProgress,c=t.method,h=c===void 0?"put":c,u=t.headers,f=u===void 0?{}:u,p=t.fileContent,!dl(o)||!i&&!p)throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".uploadFile] invalid params")}));return v={put:ui.put,post:ui.post}[h.toLocaleLowerCase()]||ui.put,g="storage.getUploadMetadata",w=this.request,b={path:o,method:v},v===ui.put&&(b.headers=f),T={},this.isGateWay()?[4,hl.getUploadInfo(w,b,t.customReqOpts)]:[3,2];case 1:return T=fe.sent(),[3,4];case 2:return[4,w.send(g,b,t.customReqOpts)];case 3:T=fe.sent(),fe.label=4;case 4:return C=T.data,I=C.url,x=C.authorization,R=C.token,L=C.fileId,F=C.cosFileId,H=C.download_url,V=T.requestId,!((n=T.data)===null||n===void 0)&&n.code?[2,jr(r,new Error("[".concat(YC(),"][").concat(gr.OPERATION_FAIL,"][").concat(ir,"]:").concat(T.data)))]:(D={url:I,file:i,name:o,onUploadProgress:s,fileContent:p,fileId:L,requestId:V},B=_t(_t({},D),{method:ui.put,headers:_t(_t({},f),{authorization:x,"x-cos-meta-fileid":F,"x-cos-security-token":R})}),U=_t(_t({},D),{method:ui.post,data:{key:o,signature:x,"x-cos-meta-fileid":F,success_action_status:"201","x-cos-security-token":R}}),K=(ee={},ee[ui.put]={params:B,isSuccess:function(be){return be>=200&&be<300}},ee[ui.post]={params:U,isSuccess:function(be){return be===201}},ee),[4,w.upload(K[v].params)]);case 5:return Q=fe.sent(),K[v].isSuccess(Q.statusCode)?[2,jr(r,null,{fileID:L,download_url:H,requestId:V})]:[2,jr(r,new Error("[".concat(YC(),"][").concat(gr.OPERATION_FAIL,"][").concat(ir,"]:").concat(Q.data)))]}})})},e.prototype.getUploadMetadata=function(t,r){return sn(this,void 0,void 0,function(){var n,o,i,s,c;return un(this,function(h){switch(h.label){case 0:if(n=t.cloudPath,!dl(n))throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".getUploadMetadata] invalid cloudPath")}));o=this.request,i="storage.getUploadMetadata",h.label=1;case 1:return h.trys.push([1,6,,7]),s={},this.isGateWay()?[4,hl.getUploadInfo(o,{path:n},t.customReqOpts)]:[3,3];case 2:return s=h.sent(),[3,5];case 3:return[4,o.send(i,{path:n},t.customReqOpts)];case 4:s=h.sent(),h.label=5;case 5:return[2,jr(r,null,s)];case 6:return c=h.sent(),[2,jr(r,c)];case 7:return[2]}})})},e.prototype.deleteFile=function(t,r){return sn(this,void 0,void 0,function(){var n,o,i,s,c,h,u,f;return un(this,function(p){switch(p.label){case 0:if(n=t.fileList,!n||!cy(n)||n.length===0)throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".deleteFile] fileList must not be empty")}));for(o=0,i=n;o<i.length;o++)if(s=i[o],!s||!dl(s))throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".deleteFile] fileID must be string")}));return c="storage.batchDeleteFile",h=this.request,u={},this.isGateWay()?[4,hl.delete(h,{fileList:n},t.customReqOpts)]:[3,2];case 1:return u=p.sent(),[3,4];case 2:return[4,h.send(c,{fileid_list:n},t.customReqOpts)];case 3:u=p.sent(),p.label=4;case 4:return u.code?[2,jr(r,null,u)]:(f={fileList:u.data.delete_list,requestId:u.requestId},[2,jr(r,null,f)])}})})},e.prototype.getTempFileURL=function(t,r){return sn(this,void 0,void 0,function(){var n,o,i,s,c,h,u,f;return un(this,function(p){switch(p.label){case 0:if(n=t.fileList,!n||!cy(n)||n.length===0)throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".getTempFileURL] fileList must not be empty")}));for(o=[],i=0,s=n;i<s.length;i++)if(c=s[i],uW(c)){if(!Object.prototype.hasOwnProperty.call(c,"fileID")||!Object.prototype.hasOwnProperty.call(c,"maxAge"))throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".getTempFileURL] file info must include fileID and maxAge")}));o.push({fileid:c.fileID,max_age:c.maxAge})}else if(dl(c))o.push({fileid:c});else throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".getTempFileURL] invalid fileList")}));return h="storage.batchGetDownloadUrl",u=this.request,f={},this.isGateWay()?[4,hl.getDownLoadInfo(u,{convertedFileList:o},t.customReqOpts)]:[3,2];case 1:return f=p.sent(),[3,4];case 2:return[4,u.send(h,{file_list:o},t.customReqOpts)];case 3:f=p.sent(),p.label=4;case 4:return f.code?[2,jr(r,null,f)]:[2,jr(r,null,{fileList:f.data.download_list,requestId:f.requestId})]}})})},e.prototype.downloadFile=function(t,r){return sn(this,void 0,void 0,function(){var n,o,i,s,c,h;return un(this,function(u){switch(u.label){case 0:if(n=t.fileID,!dl(n))throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".getTempFileURL] fileID must be string")}));return[4,this.getTempFileURL.call(this,{fileList:[{fileID:n,maxAge:600}],customReqOpts:t.customReqOpts})];case 1:return o=u.sent(),i=o.fileList[0],i.code!=="SUCCESS"?[2,jr(r,i)]:(s=this.request,c=encodeURI(i.download_url),[4,s.download({url:c,tempFilePath:t.tempFilePath})]);case 2:return h=u.sent(),[2,jr(r,null,h)]}})})},e.prototype.copyFile=function(t,r){return sn(this,void 0,void 0,function(){var n,o,i,s,c,h,u,f,p,v;return un(this,function(g){switch(g.label){case 0:if(n=t.fileList,!n||!cy(n)||n.length===0)throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".copyFile] fileList must not be empty")}));for(o=[],i=0,s=n;i<s.length;i++){if(c=s[i],h=c.srcPath,u=c.dstPath,!h||!u||typeof h!="string"||typeof u!="string")throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".copyFile] srcPath and dstPath may not be empty")}));if(h===u)throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".copyFile] srcPath and dstPath can not be the same")}));if(JC(h)!==JC(u))throw new Error(JSON.stringify({code:gr.INVALID_PARAMS,msg:"[".concat(ir,".copyFile] srcPath and dstPath file name must be the same")}));o.push({src_path:h,dst_path:u,overwrite:c.overwrite,remove_original:c.removeOriginal})}return f="storage.batchCopyFile",p=this.request,v={},this.isGateWay()?[4,hl.copyFile(p,{convertedFileList:o},t.customReqOpts)]:[3,2];case 1:return v=g.sent(),[3,4];case 2:return[4,p.send(f,{file_list:o},t.customReqOpts)];case 3:v=g.sent(),g.label=4;case 4:return v.code?[2,jr(r,null,v)]:[2,jr(r,null,{fileList:v.data.copy_list,requestId:v.requestId})]}})})},e.prototype.getFileInfo=function(t){var r;return sn(this,void 0,void 0,function(){var n,o,i=this;return un(this,function(s){switch(s.label){case 0:return[4,this.getTempFileURL(t)];case 1:return n=s.sent(),n!=null&&n.fileList&&((r=n==null?void 0:n.fileList)===null||r===void 0?void 0:r.length)>0?[4,Promise.all(n.fileList.map(function(c){return sn(i,void 0,void 0,function(){var h,u,f,p,v;return un(this,function(g){switch(g.label){case 0:if(c.code!=="SUCCESS")return[2,{code:c.code,fileID:c.fileID,tempFileURL:c.tempFileURL}];g.label=1;case 1:return g.trys.push([1,3,,4]),h=this.request,[4,h.fetch({url:c.tempFileURL,method:"HEAD"})];case 2:return u=g.sent(),f=parseInt(u.headers["content-length"])||0,p=u.headers["content-type"]||"",v={code:c.code,fileID:c.fileID,tempFileURL:c.tempFileURL,cloudId:c.fileID,fileName:c.fileID.split("/").pop(),contentType:p,mime:p.split(";")[0].trim(),size:f},[2,v];case 3:return g.sent(),[2,{code:"FETCH_FILE_INFO_ERROR",fileID:c.fileID,tempFileURL:c.tempFileURL}];case 4:return[2]}})})}))]:[3,3];case 2:return o=s.sent(),[2,{fileList:o,requestId:n.requestId}];case 3:return[2,{fileList:[],requestId:n.requestId}]}})})},vs([gs({customInfo:{},title:"",messages:["","  1 -  uploadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(ys)]}),kt("design:type",Function),kt("design:paramtypes",[Object,Function]),kt("design:returntype",Promise)],e.prototype,"uploadFile",null),vs([gs({customInfo:{},title:"",messages:["","  1 -  getUploadMetadata() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(ys)]}),kt("design:type",Function),kt("design:paramtypes",[Object,Function]),kt("design:returntype",Promise)],e.prototype,"getUploadMetadata",null),vs([gs({customInfo:{},title:"",messages:["","  1 -  deleteFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(ys)]}),kt("design:type",Function),kt("design:paramtypes",[Object,Function]),kt("design:returntype",Promise)],e.prototype,"deleteFile",null),vs([gs({customInfo:{},title:"",messages:["","  1 -  getTempFileURL() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(ys)]}),kt("design:type",Function),kt("design:paramtypes",[Object,Function]),kt("design:returntype",Promise)],e.prototype,"getTempFileURL",null),vs([gs({customInfo:{},title:"",messages:["","  1 -  downloadFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(ys)]}),kt("design:type",Function),kt("design:paramtypes",[Object,Function]),kt("design:returntype",Promise)],e.prototype,"downloadFile",null),vs([gs({customInfo:{},title:"",messages:["","  1 -  copyFile() ","  2 - https://console.cloud.tencent.com/tcb/env/safety","  3 - ","".concat(ys)]}),kt("design:type",Function),kt("design:paramtypes",[Object,Function]),kt("design:returntype",Promise)],e.prototype,"copyFile",null),e})(),vo=new lW,Y3={name:ir,entity:{uploadFile:vo.uploadFile,deleteFile:vo.deleteFile,getTempFileURL:vo.getTempFileURL,downloadFile:vo.downloadFile,getUploadMetadata:vo.getUploadMetadata,copyFile:vo.copyFile,getFileInfo:vo.getFileInfo,isGateWay:vo.isGateWay}};try{cloudbase.registerComponent(Y3)}catch{}function J3(e){try{e.registerComponent(Y3)}catch(t){console.warn(t)}}try{window.registerStorage=J3}catch{}var fy,QC;function Q3(){if(QC)return fy;QC=1;var e=typeof Ps=="object"&&Ps&&Ps.Object===Object&&Ps;return fy=e,fy}var dy,XC;function _i(){if(XC)return dy;XC=1;var e=Q3(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return dy=r,dy}var hy,ZC;function up(){if(ZC)return hy;ZC=1;var e=_i(),t=e.Symbol;return hy=t,hy}var py,eI;function cW(){if(eI)return py;eI=1;var e=up(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,o=e?e.toStringTag:void 0;function i(s){var c=r.call(s,o),h=s[o];try{s[o]=void 0;var u=!0}catch{}var f=n.call(s);return u&&(c?s[o]=h:delete s[o]),f}return py=i,py}var my,tI;function fW(){if(tI)return my;tI=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return my=r,my}var vy,rI;function Ac(){if(rI)return vy;rI=1;var e=up(),t=cW(),r=fW(),n="[object Null]",o="[object Undefined]",i=e?e.toStringTag:void 0;function s(c){return c==null?c===void 0?o:n:i&&i in Object(c)?t(c):r(c)}return vy=s,vy}var yy,nI;function vu(){if(nI)return yy;nI=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return yy=e,yy}var gy,iI;function X3(){if(iI)return gy;iI=1;var e=Ac(),t=vu(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function s(c){if(!t(c))return!1;var h=e(c);return h==n||h==o||h==r||h==i}return gy=s,gy}var wy,oI;function dW(){if(oI)return wy;oI=1;var e=_i(),t=e["__core-js_shared__"];return wy=t,wy}var _y,aI;function hW(){if(aI)return _y;aI=1;var e=dW(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return _y=r,_y}var by,sI;function Z3(){if(sI)return by;sI=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return by=r,by}var Sy,uI;function pW(){if(uI)return Sy;uI=1;var e=X3(),t=hW(),r=vu(),n=Z3(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,h=s.toString,u=c.hasOwnProperty,f=RegExp("^"+h.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||t(v))return!1;var g=e(v)?f:i;return g.test(n(v))}return Sy=p,Sy}var Ey,lI;function mW(){if(lI)return Ey;lI=1;function e(t,r){return t==null?void 0:t[r]}return Ey=e,Ey}var Ty,cI;function Ua(){if(cI)return Ty;cI=1;var e=pW(),t=mW();function r(n,o){var i=t(n,o);return e(i)?i:void 0}return Ty=r,Ty}var Cy,fI;function vW(){if(fI)return Cy;fI=1;var e=Ua(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Cy=t,Cy}var Iy,dI;function eD(){if(dI)return Iy;dI=1;var e=vW();function t(r,n,o){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return Iy=t,Iy}var xy,hI;function tD(){if(hI)return xy;hI=1;function e(t,r){return t===r||t!==t&&r!==r}return xy=e,xy}var Ay,pI;function Jb(){if(pI)return Ay;pI=1;var e=eD(),t=tD(),r=Object.prototype,n=r.hasOwnProperty;function o(i,s,c){var h=i[s];(!(n.call(i,s)&&t(h,c))||c===void 0&&!(s in i))&&e(i,s,c)}return Ay=o,Ay}var Ry,mI;function yu(){if(mI)return Ry;mI=1;var e=Array.isArray;return Ry=e,Ry}var Oy,vI;function gu(){if(vI)return Oy;vI=1;function e(t){return t!=null&&typeof t=="object"}return Oy=e,Oy}var Py,yI;function Qb(){if(yI)return Py;yI=1;var e=Ac(),t=gu(),r="[object Symbol]";function n(o){return typeof o=="symbol"||t(o)&&e(o)==r}return Py=n,Py}var Ny,gI;function yW(){if(gI)return Ny;gI=1;var e=yu(),t=Qb(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(i,s){if(e(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return Ny=o,Ny}var Ly,wI;function lp(){if(wI)return Ly;wI=1;var e=Ua(),t=e(Object,"create");return Ly=t,Ly}var Dy,_I;function gW(){if(_I)return Dy;_I=1;var e=lp();function t(){this.__data__=e?e(null):{},this.size=0}return Dy=t,Dy}var ky,bI;function wW(){if(bI)return ky;bI=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return ky=e,ky}var My,SI;function _W(){if(SI)return My;SI=1;var e=lp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(i){var s=this.__data__;if(e){var c=s[i];return c===t?void 0:c}return n.call(s,i)?s[i]:void 0}return My=o,My}var Fy,EI;function bW(){if(EI)return Fy;EI=1;var e=lp(),t=Object.prototype,r=t.hasOwnProperty;function n(o){var i=this.__data__;return e?i[o]!==void 0:r.call(i,o)}return Fy=n,Fy}var jy,TI;function SW(){if(TI)return jy;TI=1;var e=lp(),t="__lodash_hash_undefined__";function r(n,o){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&o===void 0?t:o,this}return jy=r,jy}var Uy,CI;function EW(){if(CI)return Uy;CI=1;var e=gW(),t=wW(),r=_W(),n=bW(),o=SW();function i(s){var c=-1,h=s==null?0:s.length;for(this.clear();++c<h;){var u=s[c];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Uy=i,Uy}var By,II;function TW(){if(II)return By;II=1;function e(){this.__data__=[],this.size=0}return By=e,By}var $y,xI;function cp(){if(xI)return $y;xI=1;var e=tD();function t(r,n){for(var o=r.length;o--;)if(e(r[o][0],n))return o;return-1}return $y=t,$y}var qy,AI;function CW(){if(AI)return qy;AI=1;var e=cp(),t=Array.prototype,r=t.splice;function n(o){var i=this.__data__,s=e(i,o);if(s<0)return!1;var c=i.length-1;return s==c?i.pop():r.call(i,s,1),--this.size,!0}return qy=n,qy}var Vy,RI;function IW(){if(RI)return Vy;RI=1;var e=cp();function t(r){var n=this.__data__,o=e(n,r);return o<0?void 0:n[o][1]}return Vy=t,Vy}var Wy,OI;function xW(){if(OI)return Wy;OI=1;var e=cp();function t(r){return e(this.__data__,r)>-1}return Wy=t,Wy}var Hy,PI;function AW(){if(PI)return Hy;PI=1;var e=cp();function t(r,n){var o=this.__data__,i=e(o,r);return i<0?(++this.size,o.push([r,n])):o[i][1]=n,this}return Hy=t,Hy}var Gy,NI;function fp(){if(NI)return Gy;NI=1;var e=TW(),t=CW(),r=IW(),n=xW(),o=AW();function i(s){var c=-1,h=s==null?0:s.length;for(this.clear();++c<h;){var u=s[c];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Gy=i,Gy}var zy,LI;function Xb(){if(LI)return zy;LI=1;var e=Ua(),t=_i(),r=e(t,"Map");return zy=r,zy}var Ky,DI;function RW(){if(DI)return Ky;DI=1;var e=EW(),t=fp(),r=Xb();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Ky=n,Ky}var Yy,kI;function OW(){if(kI)return Yy;kI=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Yy=e,Yy}var Jy,MI;function dp(){if(MI)return Jy;MI=1;var e=OW();function t(r,n){var o=r.__data__;return e(n)?o[typeof n=="string"?"string":"hash"]:o.map}return Jy=t,Jy}var Qy,FI;function PW(){if(FI)return Qy;FI=1;var e=dp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Qy=t,Qy}var Xy,jI;function NW(){if(jI)return Xy;jI=1;var e=dp();function t(r){return e(this,r).get(r)}return Xy=t,Xy}var Zy,UI;function LW(){if(UI)return Zy;UI=1;var e=dp();function t(r){return e(this,r).has(r)}return Zy=t,Zy}var eg,BI;function DW(){if(BI)return eg;BI=1;var e=dp();function t(r,n){var o=e(this,r),i=o.size;return o.set(r,n),this.size+=o.size==i?0:1,this}return eg=t,eg}var tg,$I;function rD(){if($I)return tg;$I=1;var e=RW(),t=PW(),r=NW(),n=LW(),o=DW();function i(s){var c=-1,h=s==null?0:s.length;for(this.clear();++c<h;){var u=s[c];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,tg=i,tg}var rg,qI;function kW(){if(qI)return rg;qI=1;var e=rD(),t="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var i=function(){var s=arguments,c=o?o.apply(this,s):s[0],h=i.cache;if(h.has(c))return h.get(c);var u=n.apply(this,s);return i.cache=h.set(c,u)||h,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,rg=r,rg}var ng,VI;function MW(){if(VI)return ng;VI=1;var e=kW(),t=500;function r(n){var o=e(n,function(s){return i.size===t&&i.clear(),s}),i=o.cache;return o}return ng=r,ng}var ig,WI;function FW(){if(WI)return ig;WI=1;var e=MW(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(o){var i=[];return o.charCodeAt(0)===46&&i.push(""),o.replace(t,function(s,c,h,u){i.push(h?u.replace(r,"$1"):c||s)}),i});return ig=n,ig}var og,HI;function jW(){if(HI)return og;HI=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,i=Array(o);++n<o;)i[n]=r(t[n],n,t);return i}return og=e,og}var ag,GI;function UW(){if(GI)return ag;GI=1;var e=up(),t=jW(),r=yu(),n=Qb(),o=e?e.prototype:void 0,i=o?o.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return t(c,s)+"";if(n(c))return i?i.call(c):"";var h=c+"";return h=="0"&&1/c==-1/0?"-0":h}return ag=s,ag}var sg,zI;function BW(){if(zI)return sg;zI=1;var e=UW();function t(r){return r==null?"":e(r)}return sg=t,sg}var ug,KI;function Zb(){if(KI)return ug;KI=1;var e=yu(),t=yW(),r=FW(),n=BW();function o(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return ug=o,ug}var lg,YI;function nD(){if(YI)return lg;YI=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,o){var i=typeof n;return o=o??e,!!o&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<o}return lg=r,lg}var cg,JI;function e1(){if(JI)return cg;JI=1;var e=Qb();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return cg=t,cg}var fg,QI;function $W(){if(QI)return fg;QI=1;var e=Jb(),t=Zb(),r=nD(),n=vu(),o=e1();function i(s,c,h,u){if(!n(s))return s;c=t(c,s);for(var f=-1,p=c.length,v=p-1,g=s;g!=null&&++f<p;){var w=o(c[f]),b=h;if(w==="__proto__"||w==="constructor"||w==="prototype")return s;if(f!=v){var T=g[w];b=u?u(T,w,g):void 0,b===void 0&&(b=n(T)?T:r(c[f+1])?[]:{})}e(g,w,b),g=g[w]}return s}return fg=i,fg}var dg,XI;function qW(){if(XI)return dg;XI=1;var e=$W();function t(r,n,o){return r==null?r:e(r,n,o)}return dg=t,dg}var VW=qW();const WW=Hh(VW);var hg,ZI;function HW(){if(ZI)return hg;ZI=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return hg=e,hg}var pg,ex;function GW(){if(ex)return pg;ex=1;var e=Zb(),t=e1();function r(n,o){o=e(o,n);for(var i=0,s=o.length;n!=null&&i<s;)n=n[t(o[i++])];return i&&i==s?n:void 0}return pg=r,pg}var mg,tx;function zW(){if(tx)return mg;tx=1;function e(t,r,n){var o=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++o<i;)s[o]=t[o+r];return s}return mg=e,mg}var vg,rx;function KW(){if(rx)return vg;rx=1;var e=GW(),t=zW();function r(n,o){return o.length<2?n:e(n,t(o,0,-1))}return vg=r,vg}var yg,nx;function YW(){if(nx)return yg;nx=1;var e=Zb(),t=HW(),r=KW(),n=e1();function o(i,s){return s=e(s,i),i=r(i,s),i==null||delete i[n(t(s))]}return yg=o,yg}var gg,ix;function JW(){if(ix)return gg;ix=1;var e=YW();function t(r,n){return r==null?!0:e(r,n)}return gg=t,gg}var QW=JW();const XW=Hh(QW);var wg,ox;function ZW(){if(ox)return wg;ox=1;var e=fp();function t(){this.__data__=new e,this.size=0}return wg=t,wg}var _g,ax;function e9(){if(ax)return _g;ax=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return _g=e,_g}var bg,sx;function t9(){if(sx)return bg;sx=1;function e(t){return this.__data__.get(t)}return bg=e,bg}var Sg,ux;function r9(){if(ux)return Sg;ux=1;function e(t){return this.__data__.has(t)}return Sg=e,Sg}var Eg,lx;function n9(){if(lx)return Eg;lx=1;var e=fp(),t=Xb(),r=rD(),n=200;function o(i,s){var c=this.__data__;if(c instanceof e){var h=c.__data__;if(!t||h.length<n-1)return h.push([i,s]),this.size=++c.size,this;c=this.__data__=new r(h)}return c.set(i,s),this.size=c.size,this}return Eg=o,Eg}var Tg,cx;function i9(){if(cx)return Tg;cx=1;var e=fp(),t=ZW(),r=e9(),n=t9(),o=r9(),i=n9();function s(c){var h=this.__data__=new e(c);this.size=h.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=o,s.prototype.set=i,Tg=s,Tg}var Cg,fx;function o9(){if(fx)return Cg;fx=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o&&r(t[n],n,t)!==!1;);return t}return Cg=e,Cg}var Ig,dx;function hp(){if(dx)return Ig;dx=1;var e=Jb(),t=eD();function r(n,o,i,s){var c=!i;i||(i={});for(var h=-1,u=o.length;++h<u;){var f=o[h],p=s?s(i[f],n[f],f,i,n):void 0;p===void 0&&(p=n[f]),c?t(i,f,p):e(i,f,p)}return i}return Ig=r,Ig}var xg,hx;function a9(){if(hx)return xg;hx=1;function e(t,r){for(var n=-1,o=Array(t);++n<t;)o[n]=r(n);return o}return xg=e,xg}var Ag,px;function s9(){if(px)return Ag;px=1;var e=Ac(),t=gu(),r="[object Arguments]";function n(o){return t(o)&&e(o)==r}return Ag=n,Ag}var Rg,mx;function u9(){if(mx)return Rg;mx=1;var e=s9(),t=gu(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(s){return t(s)&&n.call(s,"callee")&&!o.call(s,"callee")};return Rg=i,Rg}var Nl={exports:{}},Og,vx;function l9(){if(vx)return Og;vx=1;function e(){return!1}return Og=e,Og}Nl.exports;var yx;function iD(){return yx||(yx=1,(function(e,t){var r=_i(),n=l9(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,c=s?r.Buffer:void 0,h=c?c.isBuffer:void 0,u=h||n;e.exports=u})(Nl,Nl.exports)),Nl.exports}var Pg,gx;function oD(){if(gx)return Pg;gx=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Pg=t,Pg}var Ng,_x;function c9(){if(_x)return Ng;_x=1;var e=Ac(),t=oD(),r=gu(),n="[object Arguments]",o="[object Array]",i="[object Boolean]",s="[object Date]",c="[object Error]",h="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",v="[object RegExp]",g="[object Set]",w="[object String]",b="[object WeakMap]",T="[object ArrayBuffer]",C="[object DataView]",I="[object Float32Array]",x="[object Float64Array]",R="[object Int8Array]",L="[object Int16Array]",F="[object Int32Array]",H="[object Uint8Array]",V="[object Uint8ClampedArray]",D="[object Uint16Array]",B="[object Uint32Array]",U={};U[I]=U[x]=U[R]=U[L]=U[F]=U[H]=U[V]=U[D]=U[B]=!0,U[n]=U[o]=U[T]=U[i]=U[C]=U[s]=U[c]=U[h]=U[u]=U[f]=U[p]=U[v]=U[g]=U[w]=U[b]=!1;function K(Q){return r(Q)&&t(Q.length)&&!!U[e(Q)]}return Ng=K,Ng}var Lg,bx;function t1(){if(bx)return Lg;bx=1;function e(t){return function(r){return t(r)}}return Lg=e,Lg}var Ll={exports:{}};Ll.exports;var Sx;function r1(){return Sx||(Sx=1,(function(e,t){var r=Q3(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===n,s=i&&r.process,c=(function(){try{var h=o&&o.require&&o.require("util").types;return h||s&&s.binding&&s.binding("util")}catch{}})();e.exports=c})(Ll,Ll.exports)),Ll.exports}var Dg,Ex;function f9(){if(Ex)return Dg;Ex=1;var e=c9(),t=t1(),r=r1(),n=r&&r.isTypedArray,o=n?t(n):e;return Dg=o,Dg}var kg,Tx;function aD(){if(Tx)return kg;Tx=1;var e=a9(),t=u9(),r=yu(),n=iD(),o=nD(),i=f9(),s=Object.prototype,c=s.hasOwnProperty;function h(u,f){var p=r(u),v=!p&&t(u),g=!p&&!v&&n(u),w=!p&&!v&&!g&&i(u),b=p||v||g||w,T=b?e(u.length,String):[],C=T.length;for(var I in u)(f||c.call(u,I))&&!(b&&(I=="length"||g&&(I=="offset"||I=="parent")||w&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||o(I,C)))&&T.push(I);return T}return kg=h,kg}var Mg,Cx;function n1(){if(Cx)return Mg;Cx=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||e;return r===o}return Mg=t,Mg}var Fg,Ix;function sD(){if(Ix)return Fg;Ix=1;function e(t,r){return function(n){return t(r(n))}}return Fg=e,Fg}var jg,xx;function d9(){if(xx)return jg;xx=1;var e=sD(),t=e(Object.keys,Object);return jg=t,jg}var Ug,Ax;function h9(){if(Ax)return Ug;Ax=1;var e=n1(),t=d9(),r=Object.prototype,n=r.hasOwnProperty;function o(i){if(!e(i))return t(i);var s=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&s.push(c);return s}return Ug=o,Ug}var Bg,Rx;function uD(){if(Rx)return Bg;Rx=1;var e=X3(),t=oD();function r(n){return n!=null&&t(n.length)&&!e(n)}return Bg=r,Bg}var $g,Ox;function i1(){if(Ox)return $g;Ox=1;var e=aD(),t=h9(),r=uD();function n(o){return r(o)?e(o):t(o)}return $g=n,$g}var qg,Px;function p9(){if(Px)return qg;Px=1;var e=hp(),t=i1();function r(n,o){return n&&e(o,t(o),n)}return qg=r,qg}var Vg,Nx;function m9(){if(Nx)return Vg;Nx=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Vg=e,Vg}var Wg,Lx;function v9(){if(Lx)return Wg;Lx=1;var e=vu(),t=n1(),r=m9(),n=Object.prototype,o=n.hasOwnProperty;function i(s){if(!e(s))return r(s);var c=t(s),h=[];for(var u in s)u=="constructor"&&(c||!o.call(s,u))||h.push(u);return h}return Wg=i,Wg}var Hg,Dx;function o1(){if(Dx)return Hg;Dx=1;var e=aD(),t=v9(),r=uD();function n(o){return r(o)?e(o,!0):t(o)}return Hg=n,Hg}var Gg,kx;function y9(){if(kx)return Gg;kx=1;var e=hp(),t=o1();function r(n,o){return n&&e(o,t(o),n)}return Gg=r,Gg}var Dl={exports:{}};Dl.exports;var Mx;function g9(){return Mx||(Mx=1,(function(e,t){var r=_i(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===n,s=i?r.Buffer:void 0,c=s?s.allocUnsafe:void 0;function h(u,f){if(f)return u.slice();var p=u.length,v=c?c(p):new u.constructor(p);return u.copy(v),v}e.exports=h})(Dl,Dl.exports)),Dl.exports}var zg,Fx;function w9(){if(Fx)return zg;Fx=1;function e(t,r){var n=-1,o=t.length;for(r||(r=Array(o));++n<o;)r[n]=t[n];return r}return zg=e,zg}var Kg,jx;function _9(){if(jx)return Kg;jx=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,i=0,s=[];++n<o;){var c=t[n];r(c,n,t)&&(s[i++]=c)}return s}return Kg=e,Kg}var Yg,Ux;function lD(){if(Ux)return Yg;Ux=1;function e(){return[]}return Yg=e,Yg}var Jg,Bx;function a1(){if(Bx)return Jg;Bx=1;var e=_9(),t=lD(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(s){return s==null?[]:(s=Object(s),e(o(s),function(c){return n.call(s,c)}))}:t;return Jg=i,Jg}var Qg,$x;function b9(){if($x)return Qg;$x=1;var e=hp(),t=a1();function r(n,o){return e(n,t(n),o)}return Qg=r,Qg}var Xg,qx;function cD(){if(qx)return Xg;qx=1;function e(t,r){for(var n=-1,o=r.length,i=t.length;++n<o;)t[i+n]=r[n];return t}return Xg=e,Xg}var Zg,Vx;function fD(){if(Vx)return Zg;Vx=1;var e=sD(),t=e(Object.getPrototypeOf,Object);return Zg=t,Zg}var e0,Wx;function dD(){if(Wx)return e0;Wx=1;var e=cD(),t=fD(),r=a1(),n=lD(),o=Object.getOwnPropertySymbols,i=o?function(s){for(var c=[];s;)e(c,r(s)),s=t(s);return c}:n;return e0=i,e0}var t0,Hx;function S9(){if(Hx)return t0;Hx=1;var e=hp(),t=dD();function r(n,o){return e(n,t(n),o)}return t0=r,t0}var r0,Gx;function hD(){if(Gx)return r0;Gx=1;var e=cD(),t=yu();function r(n,o,i){var s=o(n);return t(n)?s:e(s,i(n))}return r0=r,r0}var n0,zx;function E9(){if(zx)return n0;zx=1;var e=hD(),t=a1(),r=i1();function n(o){return e(o,r,t)}return n0=n,n0}var i0,Kx;function T9(){if(Kx)return i0;Kx=1;var e=hD(),t=dD(),r=o1();function n(o){return e(o,r,t)}return i0=n,i0}var o0,Yx;function C9(){if(Yx)return o0;Yx=1;var e=Ua(),t=_i(),r=e(t,"DataView");return o0=r,o0}var a0,Jx;function I9(){if(Jx)return a0;Jx=1;var e=Ua(),t=_i(),r=e(t,"Promise");return a0=r,a0}var s0,Qx;function x9(){if(Qx)return s0;Qx=1;var e=Ua(),t=_i(),r=e(t,"Set");return s0=r,s0}var u0,Xx;function A9(){if(Xx)return u0;Xx=1;var e=Ua(),t=_i(),r=e(t,"WeakMap");return u0=r,u0}var l0,Zx;function s1(){if(Zx)return l0;Zx=1;var e=C9(),t=Xb(),r=I9(),n=x9(),o=A9(),i=Ac(),s=Z3(),c="[object Map]",h="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",v="[object DataView]",g=s(e),w=s(t),b=s(r),T=s(n),C=s(o),I=i;return(e&&I(new e(new ArrayBuffer(1)))!=v||t&&I(new t)!=c||r&&I(r.resolve())!=u||n&&I(new n)!=f||o&&I(new o)!=p)&&(I=function(x){var R=i(x),L=R==h?x.constructor:void 0,F=L?s(L):"";if(F)switch(F){case g:return v;case w:return c;case b:return u;case T:return f;case C:return p}return R}),l0=I,l0}var c0,eA;function R9(){if(eA)return c0;eA=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var o=n.length,i=new n.constructor(o);return o&&typeof n[0]=="string"&&t.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return c0=r,c0}var f0,tA;function O9(){if(tA)return f0;tA=1;var e=_i(),t=e.Uint8Array;return f0=t,f0}var d0,rA;function u1(){if(rA)return d0;rA=1;var e=O9();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return d0=t,d0}var h0,nA;function P9(){if(nA)return h0;nA=1;var e=u1();function t(r,n){var o=n?e(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.byteLength)}return h0=t,h0}var p0,iA;function N9(){if(iA)return p0;iA=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return p0=t,p0}var m0,oA;function L9(){if(oA)return m0;oA=1;var e=up(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(o){return r?Object(r.call(o)):{}}return m0=n,m0}var v0,aA;function D9(){if(aA)return v0;aA=1;var e=u1();function t(r,n){var o=n?e(r.buffer):r.buffer;return new r.constructor(o,r.byteOffset,r.length)}return v0=t,v0}var y0,sA;function k9(){if(sA)return y0;sA=1;var e=u1(),t=P9(),r=N9(),n=L9(),o=D9(),i="[object Boolean]",s="[object Date]",c="[object Map]",h="[object Number]",u="[object RegExp]",f="[object Set]",p="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",w="[object DataView]",b="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",I="[object Int16Array]",x="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]";function V(D,B,U){var K=D.constructor;switch(B){case g:return e(D);case i:case s:return new K(+D);case w:return t(D,U);case b:case T:case C:case I:case x:case R:case L:case F:case H:return o(D,U);case c:return new K;case h:case p:return new K(D);case u:return r(D);case f:return new K;case v:return n(D)}}return y0=V,y0}var g0,uA;function M9(){if(uA)return g0;uA=1;var e=vu(),t=Object.create,r=(function(){function n(){}return function(o){if(!e(o))return{};if(t)return t(o);n.prototype=o;var i=new n;return n.prototype=void 0,i}})();return g0=r,g0}var w0,lA;function F9(){if(lA)return w0;lA=1;var e=M9(),t=fD(),r=n1();function n(o){return typeof o.constructor=="function"&&!r(o)?e(t(o)):{}}return w0=n,w0}var _0,cA;function j9(){if(cA)return _0;cA=1;var e=s1(),t=gu(),r="[object Map]";function n(o){return t(o)&&e(o)==r}return _0=n,_0}var b0,fA;function U9(){if(fA)return b0;fA=1;var e=j9(),t=t1(),r=r1(),n=r&&r.isMap,o=n?t(n):e;return b0=o,b0}var S0,dA;function B9(){if(dA)return S0;dA=1;var e=s1(),t=gu(),r="[object Set]";function n(o){return t(o)&&e(o)==r}return S0=n,S0}var E0,hA;function $9(){if(hA)return E0;hA=1;var e=B9(),t=t1(),r=r1(),n=r&&r.isSet,o=n?t(n):e;return E0=o,E0}var T0,pA;function q9(){if(pA)return T0;pA=1;var e=i9(),t=o9(),r=Jb(),n=p9(),o=y9(),i=g9(),s=w9(),c=b9(),h=S9(),u=E9(),f=T9(),p=s1(),v=R9(),g=k9(),w=F9(),b=yu(),T=iD(),C=U9(),I=vu(),x=$9(),R=i1(),L=o1(),F=1,H=2,V=4,D="[object Arguments]",B="[object Array]",U="[object Boolean]",K="[object Date]",Q="[object Error]",ee="[object Function]",fe="[object GeneratorFunction]",be="[object Map]",ue="[object Number]",Y="[object Object]",X="[object RegExp]",J="[object Set]",M="[object String]",Z="[object Symbol]",xe="[object WeakMap]",Oe="[object ArrayBuffer]",Ae="[object DataView]",de="[object Float32Array]",Fe="[object Float64Array]",Ce="[object Int8Array]",Me="[object Int16Array]",Be="[object Int32Array]",it="[object Uint8Array]",Ct="[object Uint8ClampedArray]",cr="[object Uint16Array]",_n="[object Uint32Array]",O={};O[D]=O[B]=O[Oe]=O[Ae]=O[U]=O[K]=O[de]=O[Fe]=O[Ce]=O[Me]=O[Be]=O[be]=O[ue]=O[Y]=O[X]=O[J]=O[M]=O[Z]=O[it]=O[Ct]=O[cr]=O[_n]=!0,O[Q]=O[ee]=O[xe]=!1;function S(E,P,q,te,ie,De){var ke,Ge=P&F,ot=P&H,Je=P&V;if(q&&(ke=ie?q(E,te,ie,De):q(E)),ke!==void 0)return ke;if(!I(E))return E;var bn=b(E);if(bn){if(ke=v(E),!Ge)return s(E,ke)}else{var fr=p(E),Ki=fr==ee||fr==fe;if(T(E))return i(E,Ge);if(fr==Y||fr==D||Ki&&!ie){if(ke=ot||Ki?{}:w(E),!Ge)return ot?h(E,o(ke,E)):c(E,n(ke,E))}else{if(!O[fr])return ie?E:{};ke=g(E,fr,Ge)}}De||(De=new e);var Yi=De.get(E);if(Yi)return Yi;De.set(E,ke),x(E)?E.forEach(function(Sn){ke.add(S(Sn,P,q,Sn,E,De))}):C(E)&&E.forEach(function(Sn,Jn){ke.set(Jn,S(Sn,P,q,Jn,E,De))});var Bo=Je?ot?f:u:ot?L:R,Fc=bn?void 0:Bo(E);return t(Fc||E,function(Sn,Jn){Fc&&(Jn=Sn,Sn=E[Jn]),r(ke,Jn,S(Sn,P,q,Jn,E,De))}),ke}return T0=S,T0}var C0,mA;function V9(){if(mA)return C0;mA=1;var e=q9(),t=1,r=4;function n(o){return e(o,t|r)}return C0=n,C0}var W9=V9();const H9=Hh(W9);function Bs(e){return e===void 0&&(e=""),"".concat(e?"".concat(e,"_"):"").concat(+new Date,"_").concat(Math.random())}var G9=(function(){function e(t){this.close=t.close,this.onChange=t.onChange,this.onError=t.onError,t.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return t.virtualClient}})}return e})(),vA=(function(){function e(t){var r=t.id,n=t.docChanges,o=t.docs,i=t.msgType,s=t.type,c,h;Object.defineProperties(this,{id:{get:function(){return r},enumerable:!0},docChanges:{get:function(){return c||(c=JSON.parse(JSON.stringify(n))),c},enumerable:!0},docs:{get:function(){return h||(h=JSON.parse(JSON.stringify(o))),h},enumerable:!0},msgType:{get:function(){return i},enumerable:!0},type:{get:function(){return s},enumerable:!0}})}return e})(),pp=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),z9=(function(e){pp(t,e);function t(r){var n=e.call(this,"Watch Error ".concat(JSON.stringify(r.msgData)," (requestid: ").concat(r.requestId,")"))||this;return n.isRealtimeErrorMessageError=!0,n.payload=r,n}return t})(Error),yA=function(e){return e==null?void 0:e.isRealtimeErrorMessageError},K9=(function(e){pp(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="timeout",r.payload=null,r.generic=!0,r}return t})(Error),Y9=function(e){return e.type==="timeout"},J9=(function(e){pp(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cancelled",r.payload=null,r.generic=!0,r}return t})(Error),Q9=function(e){return e.type==="cancelled"},on=(function(e){pp(t,e);function t(r){var n=e.call(this,r.errMsg)||this;return n.errCode="UNKNOWN_ERROR",Object.defineProperties(n,{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(xr[this.errCode]||""," | errMsg: ").concat(this.errMsg)},set:function(o){this.errMsg=o}}}),n.errCode=r.errCode||"UNKNOWN_ERROR",n.errMsg=r.errMsg,n}return Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: ".concat(this.errCode," | errMsg: ").concat(this.errMsg)},set:function(r){this.errMsg=r},enumerable:!1,configurable:!0}),t})(Error),xr={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"},h_=function(e){return e===void 0&&(e=0),new Promise(function(t){return setTimeout(t,e)})},Ur=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},wr=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gA=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Qe;(function(e){e.LOGGINGIN="LOGGINGIN",e.INITING="INITING",e.REBUILDING="REBUILDING",e.ACTIVE="ACTIVE",e.ERRORED="ERRORED",e.CLOSING="CLOSING",e.CLOSED="CLOSED",e.PAUSED="PAUSED",e.RESUMING="RESUMING"})(Qe||(Qe={}));var X9=100,ld=2,Z9=2,e7=10*1e3,t7=10*1e3,r7=10*1e3,n7=(function(){function e(t){var r=this;this.watchStatus=Qe.INITING,this.wsLogin=function(n,o){return Ur(r,void 0,void 0,function(){var i;return wr(this,function(s){switch(s.label){case 0:return this.watchStatus=Qe.LOGGINGIN,[4,this.login(n,o)];case 1:return i=s.sent(),this.envId||(this.envId=i.envId),[2,i]}})})},this.initWatch=function(n){return Ur(r,void 0,void 0,function(){var o,i=this;return wr(this,function(s){switch(s.label){case 0:if(this.initWatchPromise!==null&&this.initWatchPromise!==void 0)return[2,this.initWatchPromise];this.initWatchPromise=new Promise(function(c,h){(function(){return Ur(i,void 0,void 0,function(){var u,f,p,v,g,w,b,T,C,I,x;return wr(this,function(R){switch(R.label){case 0:return R.trys.push([0,3,,4]),this.watchStatus===Qe.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,c()]):[4,this.wsLogin(this.envId,n)];case 1:return u=R.sent().envId,this.watchStatus===Qe.PAUSED?(console.log("[realtime] initWatch cancelled on pause"),[2,c()]):(this.watchStatus=Qe.INITING,f={watchId:this.watchId,requestId:Bs(),msgType:"INIT_WATCH",msgData:{envId:u,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy}},[4,this.send({msg:f,waitResponse:!0,skipOnMessage:!0,timeout:t7})]);case 2:if(p=R.sent(),v=p.msgData,g=v.events,w=v.currEvent,this.sessionInfo={queryID:p.msgData.queryID,currentEventId:w-1,currentDocs:[]},g.length>0){for(b=0,T=g;b<T.length;b++)C=T[b],C.ID=w;this.handleServerEvents(p)}else this.sessionInfo.currentEventId=w,I=new vA({id:w,docChanges:[],docs:[],type:"init"}),this.listener.onChange(I),this.scheduleSendACK();return this.onWatchStart(this,this.sessionInfo.queryID),this.watchStatus=Qe.ACTIVE,this.availableRetries.INIT_WATCH=ld,c(),[3,4];case 3:return x=R.sent(),this.handleWatchEstablishmentError(x,{operationName:"INIT_WATCH",resolve:c,reject:h}),[3,4];case 4:return[2]}})})})()}),o=!1,s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.initWatchPromise];case 2:return s.sent(),o=!0,[3,4];case 3:return this.initWatchPromise=void 0,[7];case 4:return console.log("[realtime] initWatch ".concat(o?"success":"fail")),[2]}})})},this.rebuildWatch=function(n){return Ur(r,void 0,void 0,function(){var o,i=this;return wr(this,function(s){switch(s.label){case 0:if(this.rebuildWatchPromise!==null&&this.rebuildWatchPromise!==void 0)return[2,this.rebuildWatchPromise];this.rebuildWatchPromise=new Promise(function(c,h){(function(){return Ur(i,void 0,void 0,function(){var u,f,p,v;return wr(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),this.watchStatus===Qe.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,c()]):[4,this.wsLogin(this.envId,n)];case 1:if(u=g.sent().envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");return this.watchStatus===Qe.PAUSED?(console.log("[realtime] rebuildWatch cancelled on pause"),[2,c()]):(this.watchStatus=Qe.REBUILDING,f={watchId:this.watchId,requestId:Bs(),msgType:"REBUILD_WATCH",msgData:{envId:u,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:f,waitResponse:!0,skipOnMessage:!1,timeout:r7})]);case 2:return p=g.sent(),this.handleServerEvents(p),this.watchStatus=Qe.ACTIVE,this.availableRetries.REBUILD_WATCH=ld,c(),[3,4];case 3:return v=g.sent(),this.handleWatchEstablishmentError(v,{operationName:"REBUILD_WATCH",resolve:c,reject:h}),[3,4];case 4:return[2]}})})})()}),o=!1,s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.rebuildWatchPromise];case 2:return s.sent(),o=!0,[3,4];case 3:return this.rebuildWatchPromise=void 0,[7];case 4:return console.log("[realtime] rebuildWatch ".concat(o?"success":"fail")),[2]}})})},this.handleWatchEstablishmentError=function(n,o){return Ur(r,void 0,void 0,function(){var i,s,c,h=this;return wr(this,function(u){return i=o.operationName==="INIT_WATCH",s=function(){h.closeWithError(new on({errCode:i?xr.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:xr.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:n})),o.reject(n)},c=function(f){h.useRetryTicket(o.operationName)?i?(h.initWatchPromise=void 0,o.resolve(h.initWatch(f))):(h.rebuildWatchPromise=void 0,o.resolve(h.rebuildWatch(f))):s()},this.handleCommonError(n,{onSignError:function(){return c(!0)},onTimeoutError:function(){return c(!1)},onNotRetryableError:s,onCancelledError:o.reject,onUnknownError:function(){(function(){return Ur(h,void 0,void 0,function(){var f,p=this;return wr(this,function(v){switch(v.label){case 0:return v.trys.push([0,8,,9]),f=function(){return Ur(p,void 0,void 0,function(){return wr(this,function(g){switch(g.label){case 0:return this.pause(),[4,this.onceWSConnected()];case 1:return g.sent(),c(!0),[2]}})})},this.isWSConnected()?[3,2]:[4,f()];case 1:return v.sent(),[3,7];case 2:return[4,h_(X9)];case 3:return v.sent(),this.watchStatus!==Qe.PAUSED?[3,4]:(o.reject(new J9("".concat(o.operationName," cancelled due to pause after unknownError"))),[3,7]);case 4:return this.isWSConnected()?[3,6]:[4,f()];case 5:return v.sent(),[3,7];case 6:c(!1),v.label=7;case 7:return[3,9];case 8:return v.sent(),c(!0),[3,9];case 9:return[2]}})})})()}}),[2]})})},this.closeWatch=function(){return Ur(r,void 0,void 0,function(){var n,o,i;return wr(this,function(s){switch(s.label){case 0:if(n=this.sessionInfo?this.sessionInfo.queryID:"",this.watchStatus!==Qe.ACTIVE)return this.watchStatus=Qe.CLOSED,this.onWatchClose(this,n),[2];s.label=1;case 1:return s.trys.push([1,3,4,5]),this.watchStatus=Qe.CLOSING,o={watchId:this.watchId,requestId:Bs(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:o})];case 2:return s.sent(),this.sessionInfo=void 0,this.watchStatus=Qe.CLOSED,[3,5];case 3:return i=s.sent(),this.closeWithError(new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:i})),[3,5];case 4:return this.onWatchClose(this,n),[7];case 5:return[2]}})})},this.scheduleSendACK=function(){r.clearACKSchedule(),r.ackTimeoutId=setTimeout(function(){r.waitExpectedTimeoutId?r.scheduleSendACK():r.sendACK()},e7)},this.clearACKSchedule=function(){r.ackTimeoutId&&clearTimeout(r.ackTimeoutId)},this.sendACK=function(){return Ur(r,void 0,void 0,function(){var n,o,i;return wr(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.watchStatus!==Qe.ACTIVE?(this.scheduleSendACK(),[2]):this.sessionInfo?(n={watchId:this.watchId,requestId:Bs(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:n})]):(console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),[2]);case 1:return s.sent(),this.scheduleSendACK(),[3,3];case 2:if(o=s.sent(),yA(o))switch(i=o.payload,i.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this.rebuildWatch(),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:i.msgData.code})),[2]}return this.availableRetries.CHECK_LAST&&this.availableRetries.CHECK_LAST>0?(this.availableRetries.CHECK_LAST-=1,this.scheduleSendACK()):this.closeWithError(new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:o})),[3,3];case 3:return[2]}})})},this.handleCommonError=function(n,o){if(yA(n)){var i=n.payload;switch(i.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":{o.onSignError(n);return}case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":{o.onNotRetryableError(n);return}default:{o.onNotRetryableError(n);return}}}else if(Y9(n)){o.onTimeoutError(n);return}else if(Q9(n)){o.onCancelledError(n);return}o.onUnknownError(n)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=t.envId,this.collectionName=t.collectionName,this.query=t.query,this.limit=t.limit,this.orderBy=t.orderBy,this.send=t.send,this.login=t.login,this.isWSConnected=t.isWSConnected,this.onceWSConnected=t.onceWSConnected,this.getWaitExpectedTimeoutLength=t.getWaitExpectedTimeoutLength,this.onWatchStart=t.onWatchStart,this.onWatchClose=t.onWatchClose,this.debug=t.debug,this.availableRetries={INIT_WATCH:ld,REBUILD_WATCH:ld,CHECK_LAST:Z9},this.listener=new G9({close:function(){r.closeWatch()},onChange:t.onChange,onError:t.onError,debug:this.debug,virtualClient:this}),this.initWatch()}return e.prototype.onMessage=function(t){var r=this;switch(this.watchStatus){case Qe.PAUSED:{if(t.msgType!=="ERROR")return;break}case Qe.LOGGINGIN:case Qe.INITING:case Qe.REBUILDING:{console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));return}case Qe.CLOSED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");return}case Qe.ERRORED:{console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error");return}}if(!this.sessionInfo){console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.");return}switch(this.scheduleSendACK(),t.msgType){case"NEXT_EVENT":{console.warn("nextevent ".concat(t.msgData.currEvent," ignored"),t),this.handleServerEvents(t);break}case"CHECK_EVENT":{this.sessionInfo.currentEventId<t.msgData.currEvent&&(this.sessionInfo.expectEventId=t.msgData.currEvent,this.clearWaitExpectedEvent(),this.waitExpectedTimeoutId=setTimeout(function(){r.rebuildWatch()},this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break}case"ERROR":{this.closeWithError(new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(t.msgData.code," - ").concat(t.msgData.message)}));break}default:{console.warn("[realtime listener] virtual client receive unexpected msg ".concat(t.msgType,": "),t);break}}},e.prototype.closeWithError=function(t){var r;this.watchStatus=Qe.ERRORED,this.clearACKSchedule(),this.listener.onError(t),this.onWatchClose(this,((r=this.sessionInfo)===null||r===void 0?void 0:r.queryID)||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},e.prototype.pause=function(){this.watchStatus=Qe.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))},e.prototype.resume=function(){return Ur(this,void 0,void 0,function(){var t;return wr(this,function(r){switch(r.label){case 0:this.watchStatus=Qe.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.sessionInfo?this.rebuildWatch():this.initWatch()];case 2:return r.sent(),console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),[3,4];case 3:return t=r.sent(),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),t),[3,4];case 4:return[2]}})})},e.prototype.useRetryTicket=function(t){return this.availableRetries[t]&&this.availableRetries[t]>0?(this.availableRetries[t]-=1,console.log("[realtime] ".concat(t," use a retry ticket, now only ").concat(this.availableRetries[t]," retry left")),!0):!1},e.prototype.handleServerEvents=function(t){return Ur(this,void 0,void 0,function(){var r;return wr(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this.handleServerEventsInternel(t)];case 1:return n.sent(),this.postHandleServerEventsValidityCheck(t),[3,3];case 2:throw r=n.sent(),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",r),r;case 3:return[2]}})})},e.prototype.handleServerEventsInternel=function(t){return Ur(this,void 0,void 0,function(){var r,n,o,i,s,c,h,u,f,p,v,g;return wr(this,function(w){switch(w.label){case 0:if(r=t.requestId,n=t.msgData.events,o=t.msgType,!n.length||!this.sessionInfo)return[2];i=this.sessionInfo;try{s=n.map(i7)}catch(b){return this.closeWithError(new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:b})),[2]}c=gA([],i.currentDocs,!0),h=!1,u=function(b,T){var C,I,x,R,L,F,V,V,H,H,V,D,D,B,U,K;return wr(this,function(Q){switch(Q.label){case 0:return C=s[b],i.currentEventId>=C.id?(!s[b-1]||C.id>s[b-1].id?console.warn("[realtime] duplicate event received, cur ".concat(i.currentEventId," but got ").concat(C.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(r,")")),[2,"continue"]):[3,1];case 1:if(i.currentEventId!==C.id-1)return[3,2];switch(C.dataType){case"update":{if(!C.doc)switch(C.queueType){case"update":case"dequeue":{if(I=c.find(function(ee){return ee._id===C.docId}),I){if(x=H9(I),C.updatedFields&&Object.keys(C.updatedFields).forEach(function(ee){WW(x,ee,C.updatedFields[ee])}),C.removedFields)for(R=0,L=C.removedFields;R<L.length;R++)F=L[R],XW(x,F);C.doc=x}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");break}case"enqueue":throw V=new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(t.requestId,")")}),f.closeWithError(V),V}break}case"replace":{if(!C.doc)throw V=new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(t.requestId,")")}),f.closeWithError(V),V;break}case"remove":{H=c.find(function(ee){return ee._id===C.docId}),H?C.doc=H:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated.");break}case"limit":{if(!C.doc)switch(C.queueType){case"dequeue":{H=c.find(function(ee){return ee._id===C.docId}),H?C.doc=H:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated.");break}case"enqueue":throw V=new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '.concat(t.requestId,")")}),f.closeWithError(V),V}break}}switch(C.queueType){case"init":{h?c.push(C.doc):(h=!0,c=[C.doc]);break}case"enqueue":{c.push(C.doc);break}case"dequeue":{D=c.findIndex(function(ee){return ee._id===C.docId}),D>-1?c.splice(D,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated.");break}case"update":{D=c.findIndex(function(ee){return ee._id===C.docId}),D>-1?c[D]=C.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated.");break}}return(b===T-1||s[b+1]&&s[b+1].id!==C.id)&&(B=gA([],c,!0),U=s.slice(0,b+1).filter(function(ee){return ee.id===C.id}),f.sessionInfo.currentEventId=C.id,f.sessionInfo.currentDocs=c,K=new vA({id:C.id,docChanges:U,docs:B,msgType:o}),f.listener.onChange(K)),[3,4];case 2:return console.warn("[realtime listener] event received is out of order, cur ".concat(f.sessionInfo.currentEventId," but got ").concat(C.id)),[4,f.rebuildWatch()];case 3:return Q.sent(),[2,{value:void 0}];case 4:return[2]}})},f=this,p=0,v=s.length,w.label=1;case 1:return p<v?[5,u(p,v)]:[3,4];case 2:if(g=w.sent(),typeof g=="object")return[2,g.value];w.label=3;case 3:return p++,[3,1];case 4:return[2]}})})},e.prototype.postHandleServerEventsValidityCheck=function(t){if(!this.sessionInfo){console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur");return}if(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<t.msgData.currEvent){console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling");return}},e.prototype.clearWaitExpectedEvent=function(){this.waitExpectedTimeoutId&&(clearTimeout(this.waitExpectedTimeoutId),this.waitExpectedTimeoutId=void 0)},e})();function i7(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&e.Doc!=="{}"?JSON.parse(e.Doc):void 0};return e.DataType==="update"&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}var pD={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}},nn;(function(e){e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.NoAuthentication=3050]="NoAuthentication"})(nn||(nn={}));var I0=function(e,t){var r=pD[e],n=r?"".concat(r.name,", code ").concat(e,", reason ").concat(t||r.description):"code ".concat(e);return new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:n})},mD=null,vD="web";function o7(){return mD}function a7(e){mD=e}function wA(){return vD}function s7(e){vD=e}var Th=function(){return Th=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Th.apply(this,arguments)},Ln=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},Dn=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},x0={OPEN:1},_A=3,u7=5e3,l7=1e4,c7=5,f7=1e4,d7=2,h7=2,p7=5e3,m7=(function(){function e(t){var r=this;this.virtualWSClient=new Set,this.queryIdClientMap=new Map,this.watchIdClientMap=new Map,this.pingFailed=0,this.pongMissed=0,this.logins=new Map,this.wsReadySubsribers=[],this.wsResponseWait=new Map,this.rttObserved=[],this.send=function(n){return Ln(r,void 0,void 0,function(){var o=this;return Dn(this,function(i){return[2,new Promise(function(s,c){(function(){return Ln(o,void 0,void 0,function(){var h,u,f,p,v,g,w,b,T=this;return Dn(this,function(C){switch(C.label){case 0:u=!1,f=!1,p=function(I){u=!0,h&&clearTimeout(h),s(I)},v=function(I){f=!0,h&&clearTimeout(h),c(I)},n.timeout&&(h=setTimeout(function(){(function(){return Ln(T,void 0,void 0,function(){return Dn(this,function(I){switch(I.label){case 0:return!u||!f?[4,h_(0)]:[3,2];case 1:I.sent(),(!u||!f)&&v(new K9("wsclient.send timedout")),I.label=2;case 2:return[2]}})})})()},n.timeout)),C.label=1;case 1:return C.trys.push([1,8,,9]),this.wsInitPromise!==void 0||this.wsInitPromise!==null?[4,this.wsInitPromise]:[3,3];case 2:C.sent(),C.label=3;case 3:if(!this.ws)return v(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this.ws.readyState!==x0.OPEN)return v(new Error("ws readyState invalid: ".concat(this.ws.readyState,", can not send message"))),[2];n.waitResponse&&(g={resolve:p,reject:v,skipOnMessage:n.skipOnMessage},this.wsResponseWait.set(n.msg.requestId,g)),C.label=4;case 4:return C.trys.push([4,6,,7]),[4,this.ws.send(JSON.stringify(n.msg))];case 5:return C.sent(),n.waitResponse||p(void 0),[3,7];case 6:return w=C.sent(),w&&(v(w),n.waitResponse&&this.wsResponseWait.delete(n.msg.requestId)),[3,7];case 7:return[3,9];case 8:return b=C.sent(),v(b),[3,9];case 9:return[2]}})})})()})]})})},this.closeAllClients=function(n){r.virtualWSClient.forEach(function(o){o.closeWithError(n)})},this.pauseClients=function(n){(n||r.virtualWSClient).forEach(function(o){o.pause()})},this.resumeClients=function(n){(n||r.virtualWSClient).forEach(function(o){o.resume()})},this.initWebSocketConnection=function(n,o){return o===void 0&&(o=r.maxReconnect),Ln(r,void 0,void 0,function(){var i=this;return Dn(this,function(s){switch(s.label){case 0:if(n&&this.reconnectState)return[2];if(n&&(this.reconnectState=!0),this.wsInitPromise!==void 0&&this.wsInitPromise!==null)return[2,this.wsInitPromise];n&&this.pauseClients(),this.close(nn.ReconnectWebSocket),this.wsInitPromise=new Promise(function(c,h){(function(){return Ln(i,void 0,void 0,function(){var u,f,p,v=this;return Dn(this,function(g){switch(g.label){case 0:return g.trys.push([0,6,,11]),[4,this.getWsSign()];case 1:return u=g.sent(),[4,new Promise(function(w){var b=u.wsUrl||"wss://tcb-ws.tencentcloudapi.com",T=o7();v.ws=T?new T(b):new WebSocket(b),w(void 0)})];case 2:return g.sent(),this.ws.connect?[4,this.ws.connect()]:[3,4];case 3:g.sent(),g.label=4;case 4:return[4,this.initWebSocketEvent()];case 5:return g.sent(),c(),n&&(this.resumeClients(),this.reconnectState=!1),[3,11];case 6:return f=g.sent(),console.error("[realtime] initWebSocketConnection connect fail",f),o>0?(p=!0,this.wsInitPromise=void 0,p?[4,h_(this.reconnectInterval)]:[3,8]):[3,9];case 7:g.sent(),n&&(this.reconnectState=!1),g.label=8;case 8:return c(this.initWebSocketConnection(n,o-1)),[3,10];case 9:h(f),n&&this.closeAllClients(new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:f})),g.label=10;case 10:return[3,11];case 11:return[2]}})})})()}),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.wsInitPromise];case 2:return s.sent(),this.wsReadySubsribers.forEach(function(c){var h=c.resolve;return h()}),[3,5];case 3:return s.sent(),this.wsReadySubsribers.forEach(function(c){var h=c.reject;return h()}),[3,5];case 4:return this.wsInitPromise=void 0,this.wsReadySubsribers=[],[7];case 5:return[2]}})})},this.initWebSocketEvent=function(){return new Promise(function(n,o){if(!r.ws)throw new Error("can not initWebSocketEvent, ws not exists");var i=!1;r.ws.onopen=function(s){console.warn("[realtime] ws event: open",s),i=!0,n()},r.ws.onerror=function(s){r.logins=new Map,i?(console.error("[realtime] ws event: error",s),r.clearHeartbeat(),r.virtualWSClient.forEach(function(c){return c.closeWithError(new on({errCode:xr.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:s}))})):(console.error("[realtime] ws open failed with ws event: error",s),o(s))},r.ws.onclose=function(s){switch(console.warn("[realtime] ws event: close",s),r.logins=new Map,r.clearHeartbeat(),s.code){case nn.ReconnectWebSocket:break;case nn.NoRealtimeListeners:break;case nn.HeartbeatPingError:case nn.HeartbeatPongTimeoutError:case nn.NormalClosure:case nn.AbnormalClosure:{r.maxReconnect>0?r.initWebSocketConnection(!0,r.maxReconnect):r.closeAllClients(I0(s.code));break}case nn.NoAuthentication:{r.closeAllClients(I0(s.code,s.reason));break}default:r.maxReconnect>0?r.initWebSocketConnection(!0,r.maxReconnect):r.closeAllClients(I0(s.code))}},r.ws.onmessage=function(s){var c,h=((c=s.data)===null||c===void 0?void 0:c.data)||s.data;r.heartbeat();var u;try{u=typeof h=="string"?JSON.parse(h):h}catch(I){throw new Error("[realtime] onMessage parse res.data error: ".concat(I))}if(u.msgType==="ERROR"){var f=null;r.virtualWSClient.forEach(function(I){I.watchId===u.watchId&&(f=I)}),f&&f.listener.onError(u)}var p=r.wsResponseWait.get(u.requestId);if(p){try{u.msgType==="ERROR"?p.reject(new z9(u)):p.resolve(u)}catch(I){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",I)}finally{r.wsResponseWait.delete(u.requestId)}if(p.skipOnMessage)return}if(u.msgType==="PONG"){if(r.lastPingSendTS){var v=Date.now()-r.lastPingSendTS;if(v>l7){console.warn("[realtime] untrusted rtt observed: ".concat(v));return}r.rttObserved.length>=_A&&r.rttObserved.splice(0,r.rttObserved.length-_A+1),r.rttObserved.push(v)}return}var g=u.watchId&&r.watchIdClientMap.get(u.watchId);if(g)g.onMessage(u);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(u.watchId,": "),u),u.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":{g=r.queryIdClientMap.get(u.msgData.queryID),g&&g.onMessage(u);break}default:for(var w=0,b=Array.from(r.watchIdClientMap.entries());w<b.length;w++){var T=b[w],C=T[1];C.onMessage(u);break}}},r.heartbeat()})},this.isWSConnected=function(){return!!(r.ws&&r.ws.readyState===x0.OPEN)},this.onceWSConnected=function(){return Ln(r,void 0,void 0,function(){var n=this;return Dn(this,function(o){return this.isWSConnected()?[2]:this.wsInitPromise!==null&&this.wsInitPromise!==void 0?[2,this.wsInitPromise]:[2,new Promise(function(i,s){n.wsReadySubsribers.push({resolve:i,reject:s})})]})})},this.webLogin=function(n,o){return Ln(r,void 0,void 0,function(){var i,s,c,h,u,f,p,v,g=this;return Dn(this,function(w){switch(w.label){case 0:if(!o){if(n){if(i=this.logins.get(n),i){if(i.loggedIn&&i.loginResult)return[2,i.loginResult];if(i.loggingInPromise!==null&&i.loggingInPromise!==void 0)return[2,i.loggingInPromise]}}else if(s=this.logins.get(""),(s==null?void 0:s.loggingInPromise)!==null&&(s==null?void 0:s.loggingInPromise)!==void 0)return[2,s.loggingInPromise]}c=new Promise(function(b,T){(function(){return Ln(g,void 0,void 0,function(){var C,I,x,R,L;return Dn(this,function(F){switch(F.label){case 0:return F.trys.push([0,3,,4]),[4,this.getWsSign()];case 1:return C=F.sent(),I={envId:C.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:""},x={watchId:void 0,requestId:Bs(),msgType:"LOGIN",msgData:I,exMsgData:{runtime:wA(),signStr:C.signStr,secretVersion:C.secretVersion}},[4,this.send({msg:x,waitResponse:!0,skipOnMessage:!0,timeout:p7})];case 2:return R=F.sent(),R.msgData.code?T(new Error("".concat(R.msgData.code," ").concat(R.msgData.message))):b({envId:C.envId}),[3,4];case 3:return L=F.sent(),T(L),[3,4];case 4:return[2]}})})})()}),h=n&&this.logins.get(n),u=Date.now(),h?(h.loggedIn=!1,h.loggingInPromise=c,h.loginStartTS=u):(h={loggedIn:!1,loggingInPromise:c,loginStartTS:u},this.logins.set(n||"",h)),w.label=1;case 1:return w.trys.push([1,3,,4]),[4,c];case 2:if(f=w.sent(),p=n&&this.logins.get(n),p&&p===h&&p.loginStartTS===u)return h.loggedIn=!0,h.loggingInPromise=void 0,h.loginStartTS=void 0,h.loginResult=f,[2,f];if(p){if(p.loggedIn&&p.loginResult)return[2,p.loginResult];if(p.loggingInPromise!==null&&p.loggingInPromise!==void 0)return[2,p.loggingInPromise];throw new Error("ws unexpected login info")}else throw new Error("ws login info reset");case 3:throw v=w.sent(),h.loggedIn=!1,h.loggingInPromise=void 0,h.loginStartTS=void 0,h.loginResult=void 0,v;case 4:return[2]}})})},this.getWsSign=function(){return Ln(r,void 0,void 0,function(){var n,o,i,s,c,h,u;return Dn(this,function(f){switch(f.label){case 0:return this.wsSign&&this.wsSign.expiredTs>Date.now()?[2,this.wsSign]:(n=Date.now()+6e4,[4,this.context.appConfig.request.send("auth.wsWebSign",{runtime:wA()})]);case 1:if(o=f.sent(),o.code)throw new Error("[tcb-js-sdk] : ".concat(o.code));if(o.data)return i=o.data,s=i.signStr,c=i.wsUrl,h=i.secretVersion,u=i.envId,[2,{signStr:s,wsUrl:c,secretVersion:h,envId:u,expiredTs:n}];throw new Error("[tcb-js-sdk] ")}})})},this.getWaitExpectedTimeoutLength=function(){return r.rttObserved.length?r.rttObserved.reduce(function(n,o){return n+o})/r.rttObserved.length*1.5:u7},this.ping=function(){return Ln(r,void 0,void 0,function(){var n;return Dn(this,function(o){switch(o.label){case 0:return n={watchId:void 0,requestId:Bs(),msgType:"PING",msgData:null},[4,this.send({msg:n})];case 1:return o.sent(),[2]}})})},this.onWatchStart=function(n,o){r.queryIdClientMap.set(o,n)},this.onWatchClose=function(n,o){o&&r.queryIdClientMap.delete(o),r.watchIdClientMap.delete(n.watchId),r.virtualWSClient.delete(n),r.virtualWSClient.size||r.close(nn.NoRealtimeListeners)},this.maxReconnect=t.maxReconnect||c7,this.reconnectInterval=t.reconnectInterval||f7,this.context=t.context}return e.prototype.clearHeartbeat=function(){this.pingTimeoutId&&clearTimeout(this.pingTimeoutId),this.pongTimeoutId&&clearTimeout(this.pongTimeoutId)},e.prototype.close=function(t){this.clearHeartbeat(),this.ws&&(this.ws.close(t,pD[t].name),this.ws=void 0)},e.prototype.watch=function(t){!this.ws&&(this.wsInitPromise===void 0||this.wsInitPromise===null)&&this.initWebSocketConnection(!1);var r=new n7(Th(Th({},t),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this.virtualWSClient.add(r),this.watchIdClientMap.set(r.watchId,r),r.listener},e.prototype.heartbeat=function(t){var r=this;this.clearHeartbeat(),this.pingTimeoutId=setTimeout(function(){(function(){return Ln(r,void 0,void 0,function(){var n=this;return Dn(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),!this.ws||this.ws.readyState!==x0.OPEN?[2]:(this.lastPingSendTS=Date.now(),[4,this.ping()]);case 1:return o.sent(),this.pingFailed=0,this.pongTimeoutId=setTimeout(function(){console.error("pong timed out"),n.pongMissed<h7?(n.pongMissed+=1,n.heartbeat(!0)):n.initWebSocketConnection(!0)},this.context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return o.sent(),this.pingFailed<d7?(this.pingFailed+=1,this.heartbeat()):this.close(nn.HeartbeatPingError),[3,3];case 3:return[2]}})})})()},t?0:this.context.appConfig.realtimePingInterval)},e})(),yD={target:"database",entity:function(){var e=this.platform,t=e.adapter,r=e.runtime;a7(t.wsClass),s7(r)}},gD={name:"realtime",IIFE:!0,entity:function(){this.prototype.wsClientClass=m7}};try{cloudbase.registerComponent(gD),cloudbase.registerHook(yD)}catch{}function v7(e){try{e.registerComponent(gD),e.registerHook(yD)}catch(t){console.warn(t)}}var y7=function(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},A0=function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},g7=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},w7=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_7=Rr,b7=Xh,S7=tp,wD="analytics",E7=["mall"];function T7(e){if(Object.prototype.toString.call(e).slice(8,-1)!=="Object")return!1;var t=e.report_data,r=e.report_type;return!(E7.includes(r)===!1||Object.prototype.toString.call(t).slice(8,-1)!=="Object"||t.action_time!==void 0&&!Number.isInteger(t.action_time)||typeof t.action_type!="string")}var C7=(function(){function e(){}return e.prototype.analytics=function(t){return g7(this,void 0,void 0,function(){var r,n,o,i,s;return w7(this,function(c){if(!T7(t))throw new Error(JSON.stringify({code:_7.INVALID_PARAMS,msg:"[".concat(wD,".analytics] invalid report data")}));return r="analytics.report",n=t.report_data.action_time===void 0?Math.floor(Date.now()/1e3):t.report_data.action_time,o={analytics_scene:t.report_type,analytics_data:Object.assign({},t.report_data,{action_time:n})},i={requestData:o},s=this.request,s.send(r,i),[2]})})},y7([S7({customInfo:{},title:"",messages:["","  1 -  analytics() ","".concat(b7)]}),A0("design:type",Function),A0("design:paramtypes",[Object]),A0("design:returntype",Promise)],e.prototype,"analytics",null),e})(),I7=new C7,_D={name:wD,entity:{analytics:I7.analytics}};try{cloudbase.registerComponent(_D)}catch{}function x7(e){try{e.registerComponent(_D)}catch(t){console.warn(t)}}var p_=function(e,t){return p_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},p_(e,t)};function Rc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var St=function(){return St=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},St.apply(this,arguments)};function Do(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,[])).next())})}function ko(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Sa=(function(e){Rc(t,e);function t(r,n){var o=e.call(this,r)||this;return o.name="WxCloudSDKError",o.code=n==null?void 0:n.code,o.requestId=n==null?void 0:n.requestId,o.originError=n==null?void 0:n.originError,o}return t})(Error);function m_(){return typeof window<"u"&&window||typeof globalThis<"u"&&globalThis}function A7(){try{var e=m_();return e?typeof wx>"u"?m_().location.href:e.__wxRoute:void 0}catch{}}function R7(){var e=m_();if(e!=null&&e.navigator)return e.navigator.userAgent;if(typeof wx<"u"&&wx.getSystemInfo){var t;return wx.getSystemInfo({success:function(r){r&&(t=["brand","model","version","system","platform","SDKVersion","language"].map(function(n){return"".concat(n,": ").concat(r[n])}).join(", "))}}),t}}var O7="1.7.2",P7=function(e){var t=e.dataSourceName,r=e.methodName,n=e.params,o=e.realMethodName,i=e.callFunction,s=e.envType,c=s===void 0?"prod":s,h=e.mode;return Do(void 0,void 0,void 0,function(){var u,f,p,v,g,w;return ko(this,function(b){switch(b.label){case 0:u={data:{},requestId:""},b.label=1;case 1:return b.trys.push([1,3,,4]),[4,i({name:"lowcode-datasource",data:{dataSourceName:t,methodName:r,params:n,userAgent:R7(),referrer:A7(),"x-sdk-version":O7,envType:c,mode:h}})];case 2:if(f=b.sent(),p=((g=f==null?void 0:f.result)===null||g===void 0?void 0:g.requestId)||(f==null?void 0:f.requestId)||(f==null?void 0:f.requestID),f!=null&&f.result.code)throw new Sa("".concat(f==null?void 0:f.result.message,`
 models.`).concat(t?"".concat(t,"."):"").concat(o,`
`).concat(f==null?void 0:f.result.code,`
ID`).concat(p||"N/A"),{code:f==null?void 0:f.result.code,requestId:p});return u.data=((w=f==null?void 0:f.result)===null||w===void 0?void 0:w.data)||{},u.requestId=p,[3,4];case 3:throw v=b.sent(),v.name==="WxCloudSDKError"?v:(console.log(v),new Sa("".concat(v.message,`
       models.`).concat(t?"".concat(t,"."):"").concat(o,`
      IDN/A`),{code:"UnknownError",originError:v}));case 4:return[2,u]}})})},bA=function(e){var t=e.sql,r=e.params,n=e.config,o=e.callFunction,i=e.unsafe,s=i===void 0?!1:i;return Do(void 0,void 0,void 0,function(){return ko(this,function(c){return[2,P7({realMethodName:"$runSQL",methodName:"callWedaApi",params:{action:"RunMysqlCommand",data:{sqlTemplate:t,config:n,parameter:s?"":Object.entries(r||{}).reduce(function(h,u){var f=u[0],p=u[1];if(p!==void 0){var v="OBJECT",g=typeof p;switch(g){case"boolean":{v="BOOLEAN";break}case"number":{v="NUMBER";break}case"string":{v="STRING";break}default:Array.isArray(p)?v="ARRAY":v="OBJECT"}h.push({key:f,type:v,value:v==="STRING"?p:JSON.stringify(p)})}return h},[])||[]}},callFunction:o,mode:"sdk"})]})})},N7=function(e){return{$runSQL:function(t,r,n){return Do(this,void 0,void 0,function(){var o;return ko(this,function(i){switch(i.label){case 0:return[4,bA({sql:t,params:r,config:St(St({},n),{preparedStatements:!0}),callFunction:e})];case 1:return o=i.sent(),[2,o]}})})},$runSQLRaw:function(t,r){return Do(this,void 0,void 0,function(){var n;return ko(this,function(o){switch(o.label){case 0:return[4,bA({sql:t,params:[],config:St(St({},r),{preparedStatements:!1}),callFunction:e})];case 1:return n=o.sent(),[2,n]}})})}}},SA={filter:{where:{}},select:{$master:!0}};function Ni(e){return{getUrl:function(t){return"".concat(t,"/").concat(e)},method:"post"}}var L7={get:St(St({},Ni("get")),{defaultParams:St({},SA)}),list:St(St({},Ni("list")),{defaultParams:St({},SA)}),create:Ni("create"),createMany:Ni("createMany"),update:St(St({},Ni("update")),{method:"put"}),updateMany:St(St({},Ni("updateMany")),{method:"put"}),upsert:Ni("upsert"),delete:Ni("delete"),deleteMany:Ni("deleteMany")},cd="Unknown error occurred",EA="NotSupported",D7=function(e,t,r,n){var o=N7(e);return new Proxy({},{get:function(i,s){if(typeof s=="string")return Object.prototype.hasOwnProperty.call(o,s)?o[s]:k7(r,s,t,n)}})},TA=function(e,t,r,n,o){return new Sa("".concat(e,`
 models.`).concat(t,".").concat(r,`
`).concat(n,`
ID`).concat(o),{code:n,requestId:o})},k7=function(e,t,r,n){var o=new Proxy({},{get:function(i,s){if(s!=="runSQLTemplate"){var c=L7[s];if(!c){var h=new Error(": ".concat(s));throw new Sa(h.message||cd,{originError:h,code:EA,requestId:"N/A"})}return function(u){return u===void 0&&(u={}),Do(void 0,void 0,void 0,function(){var f,p,v,g,w,b,T,C,I,x;return ko(this,function(R){switch(R.label){case 0:f=c.getUrl,p=c.method,v=c.defaultParams,g=v===void 0?{}:v,w=Object.assign({},g,u),b=w.envType==="pre"?"pre":"prod",T=[e,b,f(t)].join("/"),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,r({url:T,body:JSON.stringify(w),method:p})];case 2:if(C=R.sent(),C.code)throw TA(C==null?void 0:C.message,t,s,C==null?void 0:C.code,C==null?void 0:C.requestId);return s==="get"&&Object.assign(C,{data:(x=C.data.record)!==null&&x!==void 0?x:C.data}),[2,C];case 3:throw I=R.sent(),new Sa((I==null?void 0:I.message)||cd,{originError:I});case 4:return[2]}})})}}else{if(!(n!=null&&n.sqlBaseUrl)){var h=new Error(": ".concat(s));throw new Sa(h.message||cd,{originError:h,code:EA,requestId:"N/A"})}return function(u){return Do(void 0,void 0,void 0,function(){var f,p,v,g,w,b,T,C,I,x,R,L,F,H,V,D;return ko(this,function(B){switch(B.label){case 0:f=u.params,p=u.templateName,v=u.envType,g=v==="pre"?"pre":"prod",w=[n.sqlBaseUrl,g,p,"run"].join("/"),b=Object.entries(f||{}).reduce(function(U,K){var Q=K[0],ee=K[1];if(ee!==void 0){var fe="OBJECT",be=typeof ee;switch(be){case"boolean":{fe="BOOLEAN";break}case"number":{fe="NUMBER";break}case"string":{fe="STRING";break}default:Array.isArray(ee)?fe="ARRAY":fe="OBJECT"}U.push({key:Q,type:fe,value:fe==="STRING"?ee:JSON.stringify(ee)})}return U},[]),B.label=1;case 1:return B.trys.push([1,3,,4]),[4,r({url:w,body:JSON.stringify({parameter:b}),method:"POST"})];case 2:if(T=B.sent(),!((I=T==null?void 0:T.Response)===null||I===void 0)&&I.Error)throw TA((R=(x=T==null?void 0:T.Response)===null||x===void 0?void 0:x.Error)===null||R===void 0?void 0:R.Message,t,s,(F=(L=T==null?void 0:T.Response)===null||L===void 0?void 0:L.Error)===null||F===void 0?void 0:F.Code,(H=T==null?void 0:T.Response)===null||H===void 0?void 0:H.RequestId);return[2,St(St({},(V=T==null?void 0:T.Response)!==null&&V!==void 0?V:{}),{data:(D=T==null?void 0:T.Response)===null||D===void 0?void 0:D.Data})];case 3:throw C=B.sent(),new Sa((C==null?void 0:C.message)||cd,{originError:C});case 4:return[2]}})})}}}});return o},M7=(function(){function e(t){var r=this;this.map=new Map,t&&(t instanceof Headers?t.forEach(function(n,o){r.append(o,n)}):Array.isArray(t)?t.forEach(function(n){var o=n[0],i=n[1];r.append(o,i)}):typeof t=="object"&&Object.keys(t).forEach(function(n){r.append(n,t[n])}))}return e.prototype.append=function(t,r){var n=t.toLowerCase(),o=this.map.get(n);o?this.map.set(n,"".concat(o,", ").concat(r)):this.map.set(n,String(r))},e.prototype.delete=function(t){this.map.delete(t.toLowerCase())},e.prototype.forEach=function(t,r){var n=this;this.map.forEach(function(o,i){t.call(r,o,i,n)})},e.prototype.get=function(t){return this.map.get(t.toLowerCase())||null},e.prototype.has=function(t){return this.map.has(t.toLowerCase())},e.prototype.set=function(t,r){this.map.set(t.toLowerCase(),String(r))},e.prototype.entries=function(){return this.map.entries()},e.prototype.keys=function(){return this.map.keys()},e.prototype.values=function(){return this.map.values()},e.prototype.getSetCookie=function(){var t=[];return this.map.forEach(function(r,n){n==="set-cookie"&&t.push(r)}),t},e.prototype.toJSON=function(){var t={};return this.map.forEach(function(r,n){t[n]=r}),t},e.prototype[Symbol.iterator]=function(){return this.entries()},e})();typeof globalThis=="object"&&!globalThis.Headers&&(globalThis.Headers=M7);var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qr=function(e){try{return!!e()}catch{return!0}},j7=qr,mp=!j7(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),bD=mp,SD=Function.prototype,v_=SD.call,U7=bD&&SD.bind.bind(v_,v_),Zt=bD?U7:function(e){return function(){return v_.apply(e,arguments)}},ED=Zt,B7=ED({}.toString),$7=ED("".slice),l1=function(e){return $7(B7(e),8,-1)},q7=Zt,V7=qr,W7=l1,R0=Object,H7=q7("".split),TD=V7(function(){return!R0("z").propertyIsEnumerable(0)})?function(e){return W7(e)==="String"?H7(e,""):R0(e)}:R0,c1=function(e){return e==null},G7=c1,z7=TypeError,f1=function(e){if(G7(e))throw new z7("Can't call method on "+e);return e},K7=TD,Y7=f1,Oc=function(e){return K7(Y7(e))},Pc={},pl=function(e){return e&&e.Math===Math&&e},Nr=pl(typeof globalThis=="object"&&globalThis)||pl(typeof window=="object"&&window)||pl(typeof self=="object"&&self)||pl(typeof fd=="object"&&fd)||pl(typeof fd=="object"&&fd)||(function(){return this})()||Function("return this")(),O0=typeof document=="object"&&document.all,Lr=typeof O0>"u"&&O0!==void 0?function(e){return typeof e=="function"||e===O0}:function(e){return typeof e=="function"},J7=Nr,Q7=Lr,CA=J7.WeakMap,X7=Q7(CA)&&/native code/.test(String(CA)),Z7=Lr,Ba=function(e){return typeof e=="object"?e!==null:Z7(e)},eH=qr,Vr=!eH(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),$a={},tH=Nr,IA=Ba,y_=tH.document,rH=IA(y_)&&IA(y_.createElement),CD=function(e){return rH?y_.createElement(e):{}},nH=Vr,iH=qr,oH=CD,ID=!nH&&!iH(function(){return Object.defineProperty(oH("div"),"a",{get:function(){return 7}}).a!==7}),aH=Vr,sH=qr,xD=aH&&sH(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),uH=Ba,lH=String,cH=TypeError,qa=function(e){if(uH(e))return e;throw new cH(lH(e)+" is not an object")},fH=mp,dd=Function.prototype.call,zi=fH?dd.bind(dd):function(){return dd.apply(dd,arguments)},d1={},P0=d1,N0=Nr,dH=Lr,xA=function(e){return dH(e)?e:void 0},wu=function(e,t){return arguments.length<2?xA(P0[e])||xA(N0[e]):P0[e]&&P0[e][t]||N0[e]&&N0[e][t]},hH=Zt,AD=hH({}.isPrototypeOf),pH=Nr,AA=pH.navigator,RA=AA&&AA.userAgent,mH=RA?String(RA):"",RD=Nr,L0=mH,OA=RD.process,PA=RD.Deno,NA=OA&&OA.versions||PA&&PA.version,LA=NA&&NA.v8,Bn,Ch;LA&&(Bn=LA.split("."),Ch=Bn[0]>0&&Bn[0]<4?1:+(Bn[0]+Bn[1]));!Ch&&L0&&(Bn=L0.match(/Edge\/(\d+)/),(!Bn||Bn[1]>=74)&&(Bn=L0.match(/Chrome\/(\d+)/),Bn&&(Ch=+Bn[1])));var vH=Ch,DA=vH,yH=qr,gH=Nr,wH=gH.String,OD=!!Object.getOwnPropertySymbols&&!yH(function(){var e=Symbol("symbol detection");return!wH(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&DA&&DA<41}),_H=OD,PD=_H&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bH=wu,SH=Lr,EH=AD,TH=PD,CH=Object,ND=TH?function(e){return typeof e=="symbol"}:function(e){var t=bH("Symbol");return SH(t)&&EH(t.prototype,CH(e))},IH=String,LD=function(e){try{return IH(e)}catch{return"Object"}},xH=Lr,AH=LD,RH=TypeError,h1=function(e){if(xH(e))return e;throw new RH(AH(e)+" is not a function")},OH=h1,PH=c1,p1=function(e,t){var r=e[t];return PH(r)?void 0:OH(r)},D0=zi,k0=Lr,M0=Ba,NH=TypeError,LH=function(e,t){var r,n;if(t==="string"&&k0(r=e.toString)&&!M0(n=D0(r,e))||k0(r=e.valueOf)&&!M0(n=D0(r,e))||t!=="string"&&k0(r=e.toString)&&!M0(n=D0(r,e)))return n;throw new NH("Can't convert object to primitive value")},DD={exports:{}},DH=!0,kA=Nr,kH=Object.defineProperty,MH=function(e,t){try{kH(kA,e,{value:t,configurable:!0,writable:!0})}catch{kA[e]=t}return t},FH=Nr,jH=MH,MA="__core-js_shared__",FA=DD.exports=FH[MA]||jH(MA,{});(FA.versions||(FA.versions=[])).push({version:"3.45.0",mode:"pure",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"});var m1=DD.exports,jA=m1,kD=function(e,t){return jA[e]||(jA[e]=t||{})},UH=f1,BH=Object,vp=function(e){return BH(UH(e))},$H=Zt,qH=vp,VH=$H({}.hasOwnProperty),bi=Object.hasOwn||function(t,r){return VH(qH(t),r)},WH=Zt,HH=0,GH=Math.random(),zH=WH(1.1.toString),MD=function(e){return"Symbol("+(e===void 0?"":e)+")_"+zH(++HH+GH,36)},KH=Nr,YH=kD,UA=bi,JH=MD,QH=OD,XH=PD,$s=KH.Symbol,F0=YH("wks"),ZH=XH?$s.for||$s:$s&&$s.withoutSetter||JH,Si=function(e){return UA(F0,e)||(F0[e]=QH&&UA($s,e)?$s[e]:ZH("Symbol."+e)),F0[e]},eG=zi,BA=Ba,$A=ND,tG=p1,rG=LH,nG=Si,iG=TypeError,oG=nG("toPrimitive"),aG=function(e,t){if(!BA(e)||$A(e))return e;var r=tG(e,oG),n;if(r){if(t===void 0&&(t="default"),n=eG(r,e,t),!BA(n)||$A(n))return n;throw new iG("Can't convert object to primitive value")}return t===void 0&&(t="number"),rG(e,t)},sG=aG,uG=ND,FD=function(e){var t=sG(e,"string");return uG(t)?t:t+""},lG=Vr,cG=ID,fG=xD,hd=qa,qA=FD,dG=TypeError,j0=Object.defineProperty,hG=Object.getOwnPropertyDescriptor,U0="enumerable",B0="configurable",$0="writable";$a.f=lG?fG?function(t,r,n){if(hd(t),r=qA(r),hd(n),typeof t=="function"&&r==="prototype"&&"value"in n&&$0 in n&&!n[$0]){var o=hG(t,r);o&&o[$0]&&(t[r]=n.value,n={configurable:B0 in n?n[B0]:o[B0],enumerable:U0 in n?n[U0]:o[U0],writable:!1})}return j0(t,r,n)}:j0:function(t,r,n){if(hd(t),r=qA(r),hd(n),cG)try{return j0(t,r,n)}catch{}if("get"in n||"set"in n)throw new dG("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var Nc=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},pG=Vr,mG=$a,vG=Nc,yp=pG?function(e,t,r){return mG.f(e,t,vG(1,r))}:function(e,t,r){return e[t]=r,e},yG=kD,gG=MD,VA=yG("keys"),v1=function(e){return VA[e]||(VA[e]=gG(e))},y1={},wG=X7,jD=Nr,_G=Ba,bG=yp,q0=bi,V0=m1,SG=v1,EG=y1,WA="Object already initialized",g_=jD.TypeError,TG=jD.WeakMap,Ih,hc,xh,CG=function(e){return xh(e)?hc(e):Ih(e,{})},IG=function(e){return function(t){var r;if(!_G(t)||(r=hc(t)).type!==e)throw new g_("Incompatible receiver, "+e+" required");return r}};if(wG||V0.state){var ii=V0.state||(V0.state=new TG);ii.get=ii.get,ii.has=ii.has,ii.set=ii.set,Ih=function(e,t){if(ii.has(e))throw new g_(WA);return t.facade=e,ii.set(e,t),t},hc=function(e){return ii.get(e)||{}},xh=function(e){return ii.has(e)}}else{var ws=SG("state");EG[ws]=!0,Ih=function(e,t){if(q0(e,ws))throw new g_(WA);return t.facade=e,bG(e,ws,t),t},hc=function(e){return q0(e,ws)?e[ws]:{}},xh=function(e){return q0(e,ws)}}var gp={set:Ih,get:hc,has:xh,enforce:CG,getterFor:IG},xG=mp,UD=Function.prototype,HA=UD.apply,GA=UD.call,AG=typeof Reflect=="object"&&Reflect.apply||(xG?GA.bind(HA):function(){return GA.apply(HA,arguments)}),RG=l1,OG=Zt,BD=function(e){if(RG(e)==="Function")return OG(e)},$D={},g1={},qD={}.propertyIsEnumerable,VD=Object.getOwnPropertyDescriptor,PG=VD&&!qD.call({1:2},1);g1.f=PG?function(t){var r=VD(this,t);return!!r&&r.enumerable}:qD;var NG=Vr,LG=zi,DG=g1,kG=Nc,MG=Oc,FG=FD,jG=bi,UG=ID,zA=Object.getOwnPropertyDescriptor;$D.f=NG?zA:function(t,r){if(t=MG(t),r=FG(r),UG)try{return zA(t,r)}catch{}if(jG(t,r))return kG(!LG(DG.f,t,r),t[r])};var BG=qr,$G=Lr,qG=/#|\.prototype\./,Lc=function(e,t){var r=WG[VG(e)];return r===GG?!0:r===HG?!1:$G(t)?BG(t):!!t},VG=Lc.normalize=function(e){return String(e).replace(qG,".").toLowerCase()},WG=Lc.data={},HG=Lc.NATIVE="N",GG=Lc.POLYFILL="P",zG=Lc,KA=BD,KG=h1,YG=mp,JG=KA(KA.bind),wp=function(e,t){return KG(e),t===void 0?e:YG?JG(e,t):function(){return e.apply(t,arguments)}},ml=Nr,QG=AG,XG=BD,ZG=Lr,ez=$D.f,tz=zG,_s=d1,rz=wp,bs=yp,YA=bi,nz=function(e){var t=function(r,n,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,o)}return QG(e,this,arguments)};return t.prototype=e.prototype,t},_u=function(e,t){var r=e.target,n=e.global,o=e.stat,i=e.proto,s=n?ml:o?ml[r]:ml[r]&&ml[r].prototype,c=n?_s:_s[r]||bs(_s,r,{})[r],h=c.prototype,u,f,p,v,g,w,b,T,C;for(v in t)u=tz(n?v:r+(o?".":"#")+v,e.forced),f=!u&&s&&YA(s,v),w=c[v],f&&(e.dontCallGetSet?(C=ez(s,v),b=C&&C.value):b=s[v]),g=f&&b?b:t[v],!(!u&&!i&&typeof w==typeof g)&&(e.bind&&f?T=rz(g,ml):e.wrap&&f?T=nz(g):i&&ZG(g)?T=XG(g):T=g,(e.sham||g&&g.sham||w&&w.sham)&&bs(T,"sham",!0),bs(c,v,T),i&&(p=r+"Prototype",YA(_s,p)||bs(_s,p,{}),bs(_s[p],v,g),e.real&&h&&(u||!h[v])&&bs(h,v,g)))},w_=Vr,iz=bi,WD=Function.prototype,oz=w_&&Object.getOwnPropertyDescriptor,HD=iz(WD,"name"),az=HD&&(function(){}).name==="something";HD&&(!w_||w_&&oz(WD,"name").configurable);var sz={PROPER:az},GD={},uz=Math.ceil,lz=Math.floor,cz=Math.trunc||function(t){var r=+t;return(r>0?lz:uz)(r)},fz=cz,w1=function(e){var t=+e;return t!==t||t===0?0:fz(t)},dz=w1,hz=Math.max,pz=Math.min,zD=function(e,t){var r=dz(e);return r<0?hz(r+t,0):pz(r,t)},mz=w1,vz=Math.min,yz=function(e){var t=mz(e);return t>0?vz(t,9007199254740991):0},gz=yz,KD=function(e){return gz(e.length)},wz=Oc,_z=zD,bz=KD,Sz=function(e){return function(t,r,n){var o=wz(t),i=bz(o);if(i===0)return!e&&-1;var s=_z(n,i),c;if(e&&r!==r){for(;i>s;)if(c=o[s++],c!==c)return!0}else for(;i>s;s++)if((e||s in o)&&o[s]===r)return e||s||0;return!e&&-1}},Ez={indexOf:Sz(!1)},Tz=Zt,W0=bi,Cz=Oc,Iz=Ez.indexOf,xz=y1,JA=Tz([].push),Az=function(e,t){var r=Cz(e),n=0,o=[],i;for(i in r)!W0(xz,i)&&W0(r,i)&&JA(o,i);for(;t.length>n;)W0(r,i=t[n++])&&(~Iz(o,i)||JA(o,i));return o},YD=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rz=Az,Oz=YD,JD=Object.keys||function(t){return Rz(t,Oz)},Pz=Vr,Nz=xD,Lz=$a,Dz=qa,kz=Oc,Mz=JD;GD.f=Pz&&!Nz?Object.defineProperties:function(t,r){Dz(t);for(var n=kz(r),o=Mz(r),i=o.length,s=0,c;i>s;)Lz.f(t,c=o[s++],n[c]);return t};var Fz=wu,jz=Fz("document","documentElement"),Uz=qa,Bz=GD,QA=YD,$z=y1,qz=jz,Vz=CD,Wz=v1,XA=">",ZA="<",__="prototype",b_="script",QD=Wz("IE_PROTO"),H0=function(){},XD=function(e){return ZA+b_+XA+e+ZA+"/"+b_+XA},eR=function(e){e.write(XD("")),e.close();var t=e.parentWindow.Object;return e=null,t},Hz=function(){var e=Vz("iframe"),t="java"+b_+":",r;return e.style.display="none",qz.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(XD("document.F=Object")),r.close(),r.F},pd,Yd=function(){try{pd=new ActiveXObject("htmlfile")}catch{}Yd=typeof document<"u"?document.domain&&pd?eR(pd):Hz():eR(pd);for(var e=QA.length;e--;)delete Yd[__][QA[e]];return Yd()};$z[QD]=!0;var _1=Object.create||function(t,r){var n;return t!==null?(H0[__]=Uz(t),n=new H0,H0[__]=null,n[QD]=t):n=Yd(),r===void 0?n:Bz.f(n,r)},Gz=qr,zz=!Gz(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Kz=bi,Yz=Lr,Jz=vp,Qz=v1,Xz=zz,tR=Qz("IE_PROTO"),S_=Object,Zz=S_.prototype,ZD=Xz?S_.getPrototypeOf:function(e){var t=Jz(e);if(Kz(t,tR))return t[tR];var r=t.constructor;return Yz(r)&&t instanceof r?r.prototype:t instanceof S_?Zz:null},eK=yp,Dc=function(e,t,r,n){return n&&n.enumerable?e[t]=r:eK(e,t,r),e},tK=qr,rK=Lr,nK=Ba,iK=_1,rR=ZD,oK=Dc,aK=Si,E_=aK("iterator"),ek=!1,qi,G0,z0;[].keys&&(z0=[].keys(),"next"in z0?(G0=rR(rR(z0)),G0!==Object.prototype&&(qi=G0)):ek=!0);var sK=!nK(qi)||tK(function(){var e={};return qi[E_].call(e)!==e});sK?qi={}:qi=iK(qi);rK(qi[E_])||oK(qi,E_,function(){return this});var tk={IteratorPrototype:qi,BUGGY_SAFARI_ITERATORS:ek},uK=Si,lK=uK("toStringTag"),rk={};rk[lK]="z";var b1=String(rk)==="[object z]",cK=b1,fK=Lr,Jd=l1,dK=Si,hK=dK("toStringTag"),pK=Object,mK=Jd((function(){return arguments})())==="Arguments",vK=function(e,t){try{return e[t]}catch{}},kc=cK?Jd:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=vK(t=pK(e),hK))=="string"?r:mK?Jd(t):(n=Jd(t))==="Object"&&fK(t.callee)?"Arguments":n},yK=b1,gK=kc,wK=yK?{}.toString:function(){return"[object "+gK(this)+"]"},_K=b1,bK=$a.f,SK=yp,EK=bi,TK=wK,CK=Si,nR=CK("toStringTag"),_p=function(e,t,r,n){var o=r?e:e&&e.prototype;o&&(EK(o,nR)||bK(o,nR,{configurable:!0,value:t}),n&&!_K&&SK(o,"toString",TK))},IK=tk.IteratorPrototype,xK=_1,AK=Nc,RK=_p,OK=Pc,PK=function(){return this},nk=function(e,t,r,n){var o=t+" Iterator";return e.prototype=xK(IK,{next:AK(+!n,r)}),RK(e,o,!1,!0),OK[o]=PK,e},NK=_u,LK=zi,DK=sz,kK=nk,MK=ZD,FK=_p,iR=Dc,jK=Si,oR=Pc,UK=tk,BK=DK.PROPER,md=UK.BUGGY_SAFARI_ITERATORS,K0=jK("iterator"),aR="keys",vd="values",sR="entries",$K=function(){return this},ik=function(e,t,r,n,o,i,s){kK(r,t,n);var c=function(C){if(C===o&&v)return v;if(!md&&C&&C in f)return f[C];switch(C){case aR:return function(){return new r(this,C)};case vd:return function(){return new r(this,C)};case sR:return function(){return new r(this,C)}}return function(){return new r(this)}},h=t+" Iterator",u=!1,f=e.prototype,p=f[K0]||f["@@iterator"]||o&&f[o],v=!md&&p||c(o),g=t==="Array"&&f.entries||p,w,b,T;if(g&&(w=MK(g.call(new e)),w!==Object.prototype&&w.next&&(FK(w,h,!0,!0),oR[h]=$K)),BK&&o===vd&&p&&p.name!==vd&&(u=!0,v=function(){return LK(p,this)}),o)if(b={values:c(vd),keys:i?v:c(aR),entries:c(sR)},s)for(T in b)(md||u||!(T in f))&&iR(f,T,b[T]);else NK({target:t,proto:!0,forced:md||u},b);return s&&f[K0]!==v&&iR(f,K0,v,{}),oR[t]=v,b},S1=function(e,t){return{value:e,done:t}},qK=Oc,uR=Pc,ok=gp;$a.f;var VK=ik,yd=S1,ak="Array Iterator",WK=ok.set,HK=ok.getterFor(ak);VK(Array,"Array",function(e,t){WK(this,{type:ak,target:qK(e),index:0,kind:t})},function(){var e=HK(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,yd(void 0,!0);switch(e.kind){case"keys":return yd(r,!1);case"values":return yd(t[r],!1)}return yd([r,t[r]],!1)},"values");uR.Arguments=uR.Array;var GK=_u,zK=Zt,KK=zD,YK=RangeError,lR=String.fromCharCode,cR=String.fromCodePoint,JK=zK([].join),QK=!!cR&&cR.length!==1;GK({target:"String",stat:!0,forced:QK},{fromCodePoint:function(t){for(var r=[],n=arguments.length,o=0,i;n>o;){if(i=+arguments[o++],KK(i,1114111)!==i)throw new YK(i+" is not a valid code point");r[o]=i<65536?lR(i):lR(((i-=65536)>>10)+55296,i%1024+56320)}return JK(r,"")}});var fR=Nr,XK=Vr,ZK=Object.getOwnPropertyDescriptor,eY=function(e){if(!XK)return fR[e];var t=ZK(fR,e);return t&&t.value},tY=qr,rY=Si,nY=Vr,dR=DH,iY=rY("iterator"),bp=!tY(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(o,i){t.delete("b"),n+=i+o}),r.delete("a",2),r.delete("b",void 0),dR&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(dR||!nY)||!t.sort||e.href!=="https://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[iY]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"}),oY=$a,sk=function(e,t,r){return oY.f(e,t,r)},aY=Dc,sY=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:aY(e,n,t[n],r);return e},uY=AD,lY=TypeError,uk=function(e,t){if(uY(t,e))return e;throw new lY("Incorrect invocation")},cY=kc,fY=String,bu=function(e){if(cY(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return fY(e)},dY=kc,hR=p1,hY=c1,pY=Pc,mY=Si,vY=mY("iterator"),E1=function(e){if(!hY(e))return hR(e,vY)||hR(e,"@@iterator")||pY[dY(e)]},yY=zi,gY=h1,wY=qa,_Y=LD,bY=E1,SY=TypeError,lk=function(e,t){var r=arguments.length<2?bY(e):t;if(gY(r))return wY(yY(r,e));throw new SY(_Y(e)+" is not iterable")},EY=TypeError,Sp=function(e,t){if(e<t)throw new EY("Not enough arguments");return e},TY=Zt,ck=TY([].slice),pR=ck,CY=Math.floor,T_=function(e,t){var r=e.length;if(r<8)for(var n=1,o,i;n<r;){for(i=n,o=e[n];i&&t(e[i-1],o)>0;)e[i]=e[--i];i!==n++&&(e[i]=o)}else for(var s=CY(r/2),c=T_(pR(e,0,s),t),h=T_(pR(e,s),t),u=c.length,f=h.length,p=0,v=0;p<u||v<f;)e[p+v]=p<u&&v<f?t(c[p],h[v])<=0?c[p++]:h[v++]:p<u?c[p++]:h[v++];return e},IY=T_,C_=_u,fk=Nr,T1=eY,xY=wu,gd=zi,Gn=Zt,Hl=Vr,dk=bp,hk=Dc,AY=sk,RY=sY,OY=_p,PY=nk,C1=gp,pk=uk,Y0=Lr,NY=bi,LY=wp,DY=kc,kY=qa,mk=Ba,ar=bu,MY=_1,mR=Nc,vR=lk,FY=E1,wd=S1,Ss=Sp,jY=Si,UY=IY,BY=jY("iterator"),Su="URLSearchParams",vk=Su+"Iterator",yk=C1.set,ln=C1.getterFor(Su),$Y=C1.getterFor(vk),yR=T1("fetch"),Ah=T1("Request"),Gl=T1("Headers"),J0=Ah&&Ah.prototype,gR=Gl&&Gl.prototype,qY=fk.TypeError,VY=fk.encodeURIComponent,WY=String.fromCharCode,HY=xY("String","fromCodePoint"),GY=parseInt,Qd=Gn("".charAt),wR=Gn([].join),xo=Gn([].push),gk=Gn("".replace),zY=Gn([].shift),_R=Gn([].splice),bR=Gn("".split),wk=Gn("".slice),KY=Gn(/./.exec),YY=/\+/g,Q0="",JY=/^[0-9a-f]+$/i,SR=function(e,t){var r=wk(e,t,t+2);return KY(JY,r)?GY(r,16):NaN},QY=function(e){for(var t=0,r=128;r>0&&(e&r)!==0;r>>=1)t++;return t},XY=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(e[0]&31)<<6|e[1]&63;break;case 3:t=(e[0]&15)<<12|(e[1]&63)<<6|e[2]&63;break;case 4:t=(e[0]&7)<<18|(e[1]&63)<<12|(e[2]&63)<<6|e[3]&63;break}return t>1114111?null:t},ER=function(e){e=gk(e,YY," ");for(var t=e.length,r="",n=0;n<t;){var o=Qd(e,n);if(o==="%"){if(Qd(e,n+1)==="%"||n+3>t){r+="%",n++;continue}var i=SR(e,n+1);if(i!==i){r+=o,n++;continue}n+=2;var s=QY(i);if(s===0)o=WY(i);else{if(s===1||s>4){r+=Q0,n++;continue}for(var c=[i],h=1;h<s&&(n++,!(n+3>t||Qd(e,n)!=="%"));){var u=SR(e,n+1);if(u!==u){n+=3;break}if(u>191||u<128)break;xo(c,u),n+=2,h++}if(c.length!==s){r+=Q0;continue}var f=XY(c);f===null?r+=Q0:o=HY(f)}}r+=o,n++}return r},ZY=/[!'()~]|%20/g,eJ={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},tJ=function(e){return eJ[e]},TR=function(e){return gk(VY(e),ZY,tJ)},X0=PY(function(t,r){yk(this,{type:vk,target:ln(t).entries,index:0,kind:r})},Su,function(){var t=$Y(this),r=t.target,n=t.index++;if(!r||n>=r.length)return t.target=null,wd(void 0,!0);var o=r[n];switch(t.kind){case"keys":return wd(o.key,!1);case"values":return wd(o.value,!1)}return wd([o.key,o.value],!1)},!0),_k=function(e){this.entries=[],this.url=null,e!==void 0&&(mk(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?Qd(e,0)==="?"?wk(e,1):e:ar(e)))};_k.prototype={type:Su,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,r=FY(e),n,o,i,s,c,h,u;if(r)for(n=vR(e,r),o=n.next;!(i=gd(o,n)).done;){if(s=vR(kY(i.value)),c=s.next,(h=gd(c,s)).done||(u=gd(c,s)).done||!gd(c,s).done)throw new qY("Expected sequence with length 2");xo(t,{key:ar(h.value),value:ar(u.value)})}else for(var f in e)NY(e,f)&&xo(t,{key:f,value:ar(e[f])})},parseQuery:function(e){if(e)for(var t=this.entries,r=bR(e,"&"),n=0,o,i;n<r.length;)o=r[n++],o.length&&(i=bR(o,"="),xo(t,{key:ER(zY(i)),value:ER(wR(i,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],xo(t,TR(n.key)+"="+TR(n.value));return wR(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ep=function(){pk(this,au);var t=arguments.length>0?arguments[0]:void 0,r=yk(this,new _k(t));Hl||(this.size=r.entries.length)},au=Ep.prototype;RY(au,{append:function(t,r){var n=ln(this);Ss(arguments.length,2),xo(n.entries,{key:ar(t),value:ar(r)}),Hl||this.length++,n.updateURL()},delete:function(e){for(var t=ln(this),r=Ss(arguments.length,1),n=t.entries,o=ar(e),i=r<2?void 0:arguments[1],s=i===void 0?i:ar(i),c=0;c<n.length;){var h=n[c];if(h.key===o&&(s===void 0||h.value===s)){if(_R(n,c,1),s!==void 0)break}else c++}Hl||(this.size=n.length),t.updateURL()},get:function(t){var r=ln(this).entries;Ss(arguments.length,1);for(var n=ar(t),o=0;o<r.length;o++)if(r[o].key===n)return r[o].value;return null},getAll:function(t){var r=ln(this).entries;Ss(arguments.length,1);for(var n=ar(t),o=[],i=0;i<r.length;i++)r[i].key===n&&xo(o,r[i].value);return o},has:function(t){for(var r=ln(this).entries,n=Ss(arguments.length,1),o=ar(t),i=n<2?void 0:arguments[1],s=i===void 0?i:ar(i),c=0;c<r.length;){var h=r[c++];if(h.key===o&&(s===void 0||h.value===s))return!0}return!1},set:function(t,r){var n=ln(this);Ss(arguments.length,1);for(var o=n.entries,i=!1,s=ar(t),c=ar(r),h=0,u;h<o.length;h++)u=o[h],u.key===s&&(i?_R(o,h--,1):(i=!0,u.value=c));i||xo(o,{key:s,value:c}),Hl||(this.size=o.length),n.updateURL()},sort:function(){var t=ln(this);UY(t.entries,function(r,n){return r.key>n.key?1:-1}),t.updateURL()},forEach:function(t){for(var r=ln(this).entries,n=LY(t,arguments.length>1?arguments[1]:void 0),o=0,i;o<r.length;)i=r[o++],n(i.value,i.key,this)},keys:function(){return new X0(this,"keys")},values:function(){return new X0(this,"values")},entries:function(){return new X0(this,"entries")}},{enumerable:!0});hk(au,BY,au.entries,{});hk(au,"toString",function(){return ln(this).serialize()},{enumerable:!0});Hl&&AY(au,"size",{get:function(){return ln(this).entries.length},configurable:!0,enumerable:!0});OY(Ep,Su);C_({global:!0,forced:!dk},{URLSearchParams:Ep});if(!dk&&Y0(Gl)){var rJ=Gn(gR.has),nJ=Gn(gR.set),CR=function(e){if(mk(e)){var t=e.body,r;if(DY(t)===Su)return r=e.headers?new Gl(e.headers):new Gl,rJ(r,"content-type")||nJ(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),MY(e,{body:mR(0,ar(t)),headers:mR(0,r)})}return e};if(Y0(yR)&&C_({global:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return yR(t,arguments.length>1?CR(arguments[1]):{})}}),Y0(Ah)){var Z0=function(t){return pk(this,J0),new Ah(t,arguments.length>1?CR(arguments[1]):{})};J0.constructor=Z0,Z0.prototype=J0,C_({global:!0,dontCallGetSet:!0,forced:!0},{Request:Z0})}}var iJ={URLSearchParams:Ep,getState:ln},I1=Zt,oJ=w1,aJ=bu,sJ=f1,uJ=I1("".charAt),IR=I1("".charCodeAt),lJ=I1("".slice),xR=function(e){return function(t,r){var n=aJ(sJ(t)),o=oJ(r),i=n.length,s,c;return o<0||o>=i?e?"":void 0:(s=IR(n,o),s<55296||s>56319||o+1===i||(c=IR(n,o+1))<56320||c>57343?e?uJ(n,o):s:e?lJ(n,o,o+2):(s-55296<<10)+(c-56320)+65536)}},bk={codeAt:xR(!1),charAt:xR(!0)},cJ=bk.charAt,fJ=bu,Sk=gp,dJ=ik,AR=S1,Ek="String Iterator",hJ=Sk.set,pJ=Sk.getterFor(Ek);dJ(String,"String",function(e){hJ(this,{type:Ek,string:fJ(e),index:0})},function(){var t=pJ(this),r=t.string,n=t.index,o;return n>=r.length?AR(void 0,!0):(o=cJ(r,n),t.index+=o.length,AR(o,!1))});var Tk={};Tk.f=Object.getOwnPropertySymbols;var RR=Vr,mJ=Zt,vJ=zi,yJ=qr,ew=JD,gJ=Tk,wJ=g1,_J=vp,bJ=TD,Es=Object.assign,OR=Object.defineProperty,SJ=mJ([].concat),EJ=!Es||yJ(function(){if(RR&&Es({b:1},Es(OR({},"a",{enumerable:!0,get:function(){OR(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(o){t[o]=o}),Es({},e)[r]!==7||ew(Es({},t)).join("")!==n})?function(t,r){for(var n=_J(t),o=arguments.length,i=1,s=gJ.f,c=wJ.f;o>i;)for(var h=bJ(arguments[i++]),u=s?SJ(ew(h),s(h)):ew(h),f=u.length,p=0,v;f>p;)v=u[p++],(!RR||vJ(c,h,v))&&(n[v]=h[v]);return n}:Es,TJ=zi,PR=qa,CJ=p1,IJ=function(e,t,r){var n,o;PR(e);try{if(n=CJ(e,"return"),!n){if(t==="throw")throw r;return r}n=TJ(n,e)}catch(i){o=!0,n=i}if(t==="throw")throw r;if(o)throw n;return PR(n),r},xJ=qa,AJ=IJ,RJ=function(e,t,r,n){try{return n?t(xJ(r)[0],r[1]):t(r)}catch(o){AJ(e,"throw",o)}},OJ=Si,PJ=Pc,NJ=OJ("iterator"),LJ=Array.prototype,DJ=function(e){return e!==void 0&&(PJ.Array===e||LJ[NJ]===e)},kJ=Zt,MJ=Lr,I_=m1,FJ=kJ(Function.toString);MJ(I_.inspectSource)||(I_.inspectSource=function(e){return FJ(e)});var jJ=I_.inspectSource,UJ=Zt,BJ=qr,Ck=Lr,$J=kc,qJ=wu,VJ=jJ,Ik=function(){},xk=qJ("Reflect","construct"),x1=/^\s*(?:class|function)\b/,WJ=UJ(x1.exec),HJ=!x1.test(Ik),vl=function(t){if(!Ck(t))return!1;try{return xk(Ik,[],t),!0}catch{return!1}},Ak=function(t){if(!Ck(t))return!1;switch($J(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return HJ||!!WJ(x1,VJ(t))}catch{return!0}};Ak.sham=!0;var GJ=!xk||BJ(function(){var e;return vl(vl.call)||!vl(Object)||!vl(function(){e=!0})||e})?Ak:vl,zJ=Vr,KJ=$a,YJ=Nc,JJ=function(e,t,r){zJ?KJ.f(e,t,YJ(0,r)):e[t]=r},QJ=wp,XJ=zi,ZJ=vp,eQ=RJ,tQ=DJ,rQ=GJ,nQ=KD,NR=JJ,iQ=lk,oQ=E1,LR=Array,aQ=function(t){var r=ZJ(t),n=rQ(this),o=arguments.length,i=o>1?arguments[1]:void 0,s=i!==void 0;s&&(i=QJ(i,o>2?arguments[2]:void 0));var c=oQ(r),h=0,u,f,p,v,g,w;if(c&&!(this===LR&&tQ(c)))for(f=n?new this:[],v=iQ(r,c),g=v.next;!(p=XJ(g,v)).done;h++)w=s?eQ(v,i,[p.value,h],!0):p.value,NR(f,h,w);else for(u=nQ(r),f=n?new this(u):LR(u);u>h;h++)w=s?i(r[h],h):r[h],NR(f,h,w);return f.length=h,f},Va=Zt,tw=2147483647,zl=36,Rk=1,x_=26,sQ=38,uQ=700,lQ=72,cQ=128,fQ="-",dQ=/[^\0-\u007E]/,Ok=/[.\u3002\uFF0E\uFF61]/g,DR="Overflow: input needs wider integers to process",rw=zl-Rk,kR=RangeError,hQ=Va(Ok.exec),qs=Math.floor,nw=String.fromCharCode,MR=Va("".charCodeAt),Pk=Va([].join),Ao=Va([].push),pQ=Va("".replace),mQ=Va("".split),vQ=Va("".toLowerCase),yQ=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=MR(e,r++);if(o>=55296&&o<=56319&&r<n){var i=MR(e,r++);(i&64512)===56320?Ao(t,((o&1023)<<10)+(i&1023)+65536):(Ao(t,o),r--)}else Ao(t,o)}return t},FR=function(e){return e+22+75*(e<26)},gQ=function(e,t,r){var n=0;for(e=r?qs(e/uQ):e>>1,e+=qs(e/t);e>rw*x_>>1;)e=qs(e/rw),n+=zl;return qs(n+(rw+1)*e/(e+sQ))},wQ=function(e){var t=[];e=yQ(e);var r=e.length,n=cQ,o=0,i=lQ,s,c;for(s=0;s<e.length;s++)c=e[s],c<128&&Ao(t,nw(c));var h=t.length,u=h;for(h&&Ao(t,fQ);u<r;){var f=tw;for(s=0;s<e.length;s++)c=e[s],c>=n&&c<f&&(f=c);var p=u+1;if(f-n>qs((tw-o)/p))throw new kR(DR);for(o+=(f-n)*p,n=f,s=0;s<e.length;s++){if(c=e[s],c<n&&++o>tw)throw new kR(DR);if(c===n){for(var v=o,g=zl;;){var w=g<=i?Rk:g>=i+x_?x_:g-i;if(v<w)break;var b=v-w,T=zl-w;Ao(t,nw(FR(w+b%T))),v=qs(b/T),g+=zl}Ao(t,nw(FR(v))),i=gQ(o,p,u===h),o=0,u++}}o++,n++}return Pk(t,"")},_Q=function(e){var t=[],r=mQ(pQ(vQ(e),Ok,"."),"."),n,o;for(n=0;n<r.length;n++)o=r[n],Ao(t,hQ(dQ,o)?"xn--"+wQ(o):o);return Pk(t,".")},bQ=_u,A1=Vr,SQ=bp,R1=Nr,jR=wp,gn=Zt,Rh=Dc,Xr=sk,EQ=uk,A_=bi,O1=EJ,Ts=aQ,kn=ck,TQ=bk.codeAt,CQ=_Q,ki=bu,IQ=_p,xQ=Sp,Nk=iJ,Lk=gp,AQ=Lk.set,Oh=Lk.getterFor("URL"),RQ=Nk.URLSearchParams,OQ=Nk.getState,yl=R1.URL,R_=R1.TypeError,Ph=R1.parseInt,PQ=Math.floor,UR=Math.pow,fn=gn("".charAt),$n=gn(/./.exec),kl=gn([].join),NQ=gn(1.1.toString),LQ=gn([].pop),Os=gn([].push),iw=gn("".replace),DQ=gn([].shift),kQ=gn("".split),Kl=gn("".slice),Nh=gn("".toLowerCase),MQ=gn([].unshift),FQ="Invalid authority",ow="Invalid scheme",aa="Invalid host",BR="Invalid port",Dk=/[a-z]/i,jQ=/[\d+-.a-z]/i,O_=/\d/,UQ=/^0x/i,BQ=/^[0-7]+$/,$Q=/^\d+$/,kk=/^[\da-f]+$/i,qQ=/[\0\t\n\r #%/:<>?@[\\\]^|]/,VQ=/[\0\t\n\r #/:<>?@[\\\]^|]/,WQ=/^[\u0000-\u0020]+/,HQ=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,GQ=/[\t\n\r]/g,Zr,zQ=function(e){var t=kQ(e,"."),r,n,o,i,s,c,h;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],o=0;o<r;o++){if(i=t[o],i==="")return e;if(s=10,i.length>1&&fn(i,0)==="0"&&(s=$n(UQ,i)?16:8,i=Kl(i,s===8?1:2)),i==="")c=0;else{if(!$n(s===10?$Q:s===8?BQ:kk,i))return e;c=Ph(i,s)}Os(n,c)}for(o=0;o<r;o++)if(c=n[o],o===r-1){if(c>=UR(256,5-r))return null}else if(c>255)return null;for(h=LQ(n),o=0;o<n.length;o++)h+=n[o]*UR(256,3-o);return h},KQ=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,o=0,i,s,c,h,u,f,p,v=function(){return fn(e,o)};if(v()===":"){if(fn(e,1)!==":")return;o+=2,r++,n=r}for(;v();){if(r===8)return;if(v()===":"){if(n!==null)return;o++,r++,n=r;continue}for(i=s=0;s<4&&$n(kk,v());)i=i*16+Ph(v(),16),o++,s++;if(v()==="."){if(s===0||(o-=s,r>6))return;for(c=0;v();){if(h=null,c>0)if(v()==="."&&c<4)o++;else return;if(!$n(O_,v()))return;for(;$n(O_,v());){if(u=Ph(v(),10),h===null)h=u;else{if(h===0)return;h=h*10+u}if(h>255)return;o++}t[r]=t[r]*256+h,c++,(c===2||c===4)&&r++}if(c!==4)return;break}else if(v()===":"){if(o++,!v())return}else if(v())return;t[r++]=i}if(n!==null)for(f=r-n,r=7;r!==0&&f>0;)p=t[r],t[r--]=t[n+f-1],t[n+--f]=p;else if(r!==8)return;return t},YQ=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)e[i]!==0?(o>r&&(t=n,r=o),n=null,o=0):(n===null&&(n=i),++o);return o>r?n:t},gl=function(e){var t,r,n,o;if(typeof e=="number"){for(t=[],r=0;r<4;r++)MQ(t,e%256),e=PQ(e/256);return kl(t,".")}if(typeof e=="object"){for(t="",n=YQ(e),r=0;r<8;r++)o&&e[r]===0||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=NQ(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},Xd={},Mk=O1({},Xd,{" ":1,'"':1,"<":1,">":1,"`":1}),Fk=O1({},Mk,{"#":1,"?":1,"{":1,"}":1}),aw=O1({},Fk,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),yo=function(e,t){var r=TQ(e,0);return r>32&&r<127&&!A_(t,e)?e:encodeURIComponent(e)},_d={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ml=function(e,t){var r;return e.length===2&&$n(Dk,fn(e,0))&&((r=fn(e,1))===":"||!t&&r==="|")},$R=function(e){var t;return e.length>1&&Ml(Kl(e,0,2))&&(e.length===2||(t=fn(e,2))==="/"||t==="\\"||t==="?"||t==="#")},JQ=function(e){return e==="."||Nh(e)==="%2e"},QQ=function(e){return e=Nh(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},sw={},qR={},uw={},VR={},WR={},lw={},HR={},GR={},bd={},Sd={},cw={},fw={},dw={},hw={},zR={},pw={},Cs={},oi={},KR={},sa={},Li={},P1=function(e,t,r){var n=ki(e),o,i,s;if(t){if(i=this.parse(n),i)throw new R_(i);this.searchParams=null}else{if(r!==void 0&&(o=new P1(r,!0)),i=this.parse(n,null,o),i)throw new R_(i);s=OQ(new RQ),s.bindURL(this),this.searchParams=s}};P1.prototype={type:"URL",parse:function(e,t,r){var n=this,o=t||sw,i=0,s="",c=!1,h=!1,u=!1,f,p,v,g;for(e=ki(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=iw(e,WQ,""),e=iw(e,HQ,"$1")),e=iw(e,GQ,""),f=Ts(e);i<=f.length;){switch(p=f[i],o){case sw:if(p&&$n(Dk,p))s+=Nh(p),o=qR;else{if(t)return ow;o=uw;continue}break;case qR:if(p&&($n(jQ,p)||p==="+"||p==="-"||p==="."))s+=Nh(p);else if(p===":"){if(t&&(n.isSpecial()!==A_(_d,s)||s==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=s,t){n.isSpecial()&&_d[n.scheme]===n.port&&(n.port=null);return}s="",n.scheme==="file"?o=hw:n.isSpecial()&&r&&r.scheme===n.scheme?o=VR:n.isSpecial()?o=GR:f[i+1]==="/"?(o=WR,i++):(n.cannotBeABaseURL=!0,Os(n.path,""),o=KR)}else{if(t)return ow;s="",o=uw,i=0;continue}break;case uw:if(!r||r.cannotBeABaseURL&&p!=="#")return ow;if(r.cannotBeABaseURL&&p==="#"){n.scheme=r.scheme,n.path=kn(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,o=Li;break}o=r.scheme==="file"?hw:lw;continue;case VR:if(p==="/"&&f[i+1]==="/")o=bd,i++;else{o=lw;continue}break;case WR:if(p==="/"){o=Sd;break}else{o=oi;continue}case lw:if(n.scheme=r.scheme,p===Zr)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kn(r.path),n.query=r.query;else if(p==="/"||p==="\\"&&n.isSpecial())o=HR;else if(p==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kn(r.path),n.query="",o=sa;else if(p==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kn(r.path),n.query=r.query,n.fragment="",o=Li;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=kn(r.path),n.path.length--,o=oi;continue}break;case HR:if(n.isSpecial()&&(p==="/"||p==="\\"))o=bd;else if(p==="/")o=Sd;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,o=oi;continue}break;case GR:if(o=bd,p!=="/"||fn(s,i+1)!=="/")continue;i++;break;case bd:if(p!=="/"&&p!=="\\"){o=Sd;continue}break;case Sd:if(p==="@"){c&&(s="%40"+s),c=!0,v=Ts(s);for(var w=0;w<v.length;w++){var b=v[w];if(b===":"&&!u){u=!0;continue}var T=yo(b,aw);u?n.password+=T:n.username+=T}s=""}else if(p===Zr||p==="/"||p==="?"||p==="#"||p==="\\"&&n.isSpecial()){if(c&&s==="")return FQ;i-=Ts(s).length+1,s="",o=cw}else s+=p;break;case cw:case fw:if(t&&n.scheme==="file"){o=pw;continue}else if(p===":"&&!h){if(s==="")return aa;if(g=n.parseHost(s),g)return g;if(s="",o=dw,t===fw)return}else if(p===Zr||p==="/"||p==="?"||p==="#"||p==="\\"&&n.isSpecial()){if(n.isSpecial()&&s==="")return aa;if(t&&s===""&&(n.includesCredentials()||n.port!==null))return;if(g=n.parseHost(s),g)return g;if(s="",o=Cs,t)return;continue}else p==="["?h=!0:p==="]"&&(h=!1),s+=p;break;case dw:if($n(O_,p))s+=p;else if(p===Zr||p==="/"||p==="?"||p==="#"||p==="\\"&&n.isSpecial()||t){if(s!==""){var C=Ph(s,10);if(C>65535)return BR;n.port=n.isSpecial()&&C===_d[n.scheme]?null:C,s=""}if(t)return;o=Cs;continue}else return BR;break;case hw:if(n.scheme="file",p==="/"||p==="\\")o=zR;else if(r&&r.scheme==="file")switch(p){case Zr:n.host=r.host,n.path=kn(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=kn(r.path),n.query="",o=sa;break;case"#":n.host=r.host,n.path=kn(r.path),n.query=r.query,n.fragment="",o=Li;break;default:$R(kl(kn(f,i),""))||(n.host=r.host,n.path=kn(r.path),n.shortenPath()),o=oi;continue}else{o=oi;continue}break;case zR:if(p==="/"||p==="\\"){o=pw;break}r&&r.scheme==="file"&&!$R(kl(kn(f,i),""))&&(Ml(r.path[0],!0)?Os(n.path,r.path[0]):n.host=r.host),o=oi;continue;case pw:if(p===Zr||p==="/"||p==="\\"||p==="?"||p==="#"){if(!t&&Ml(s))o=oi;else if(s===""){if(n.host="",t)return;o=Cs}else{if(g=n.parseHost(s),g)return g;if(n.host==="localhost"&&(n.host=""),t)return;s="",o=Cs}continue}else s+=p;break;case Cs:if(n.isSpecial()){if(o=oi,p!=="/"&&p!=="\\")continue}else if(!t&&p==="?")n.query="",o=sa;else if(!t&&p==="#")n.fragment="",o=Li;else if(p!==Zr&&(o=oi,p!=="/"))continue;break;case oi:if(p===Zr||p==="/"||p==="\\"&&n.isSpecial()||!t&&(p==="?"||p==="#")){if(QQ(s)?(n.shortenPath(),p!=="/"&&!(p==="\\"&&n.isSpecial())&&Os(n.path,"")):JQ(s)?p!=="/"&&!(p==="\\"&&n.isSpecial())&&Os(n.path,""):(n.scheme==="file"&&!n.path.length&&Ml(s)&&(n.host&&(n.host=""),s=fn(s,0)+":"),Os(n.path,s)),s="",n.scheme==="file"&&(p===Zr||p==="?"||p==="#"))for(;n.path.length>1&&n.path[0]==="";)DQ(n.path);p==="?"?(n.query="",o=sa):p==="#"&&(n.fragment="",o=Li)}else s+=yo(p,Fk);break;case KR:p==="?"?(n.query="",o=sa):p==="#"?(n.fragment="",o=Li):p!==Zr&&(n.path[0]+=yo(p,Xd));break;case sa:!t&&p==="#"?(n.fragment="",o=Li):p!==Zr&&(p==="'"&&n.isSpecial()?n.query+="%27":p==="#"?n.query+="%23":n.query+=yo(p,Xd));break;case Li:p!==Zr&&(n.fragment+=yo(p,Mk));break}i++}},parseHost:function(e){var t,r,n;if(fn(e,0)==="["){if(fn(e,e.length-1)!=="]"||(t=KQ(Kl(e,1,-1)),!t))return aa;this.host=t}else if(this.isSpecial()){if(e=CQ(e),$n(qQ,e)||(t=zQ(e),t===null))return aa;this.host=t}else{if($n(VQ,e))return aa;for(t="",r=Ts(e),n=0;n<r.length;n++)t+=yo(r[n],Xd);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return A_(_d,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!Ml(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,s=e.path,c=e.query,h=e.fragment,u=t+":";return o!==null?(u+="//",e.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=gl(o),i!==null&&(u+=":"+i)):t==="file"&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+kl(s,"/"):"",c!==null&&(u+="?"+c),h!==null&&(u+="#"+h),u},setHref:function(e){var t=this.parse(e);if(t)throw new R_(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new su(e.path[0]).origin}catch{return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+gl(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(ki(e)+":",sw)},getUsername:function(){return this.username},setUsername:function(e){var t=Ts(ki(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=yo(t[r],aw)}},getPassword:function(){return this.password},setPassword:function(e){var t=Ts(ki(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=yo(t[r],aw)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?gl(e):gl(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,cw)},getHostname:function(){var e=this.host;return e===null?"":gl(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,fw)},getPort:function(){var e=this.port;return e===null?"":ki(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=ki(e),e===""?this.port=null:this.parse(e,dw))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+kl(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Cs))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=ki(e),e===""?this.query=null:(fn(e,0)==="?"&&(e=Kl(e,1)),this.query="",this.parse(e,sa)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=ki(e),e===""){this.fragment=null;return}fn(e,0)==="#"&&(e=Kl(e,1)),this.fragment="",this.parse(e,Li)},update:function(){this.query=this.searchParams.serialize()||null}};var su=function(t){var r=EQ(this,or),n=xQ(arguments.length,1)>1?arguments[1]:void 0,o=AQ(r,new P1(t,!1,n));A1||(r.href=o.serialize(),r.origin=o.getOrigin(),r.protocol=o.getProtocol(),r.username=o.getUsername(),r.password=o.getPassword(),r.host=o.getHost(),r.hostname=o.getHostname(),r.port=o.getPort(),r.pathname=o.getPathname(),r.search=o.getSearch(),r.searchParams=o.getSearchParams(),r.hash=o.getHash())},or=su.prototype,en=function(e,t){return{get:function(){return Oh(this)[e]()},set:t&&function(r){return Oh(this)[t](r)},configurable:!0,enumerable:!0}};A1&&(Xr(or,"href",en("serialize","setHref")),Xr(or,"origin",en("getOrigin")),Xr(or,"protocol",en("getProtocol","setProtocol")),Xr(or,"username",en("getUsername","setUsername")),Xr(or,"password",en("getPassword","setPassword")),Xr(or,"host",en("getHost","setHost")),Xr(or,"hostname",en("getHostname","setHostname")),Xr(or,"port",en("getPort","setPort")),Xr(or,"pathname",en("getPathname","setPathname")),Xr(or,"search",en("getSearch","setSearch")),Xr(or,"searchParams",en("getSearchParams")),Xr(or,"hash",en("getHash","setHash")));Rh(or,"toJSON",function(){return Oh(this).serialize()},{enumerable:!0});Rh(or,"toString",function(){return Oh(this).serialize()},{enumerable:!0});if(yl){var YR=yl.createObjectURL,JR=yl.revokeObjectURL;YR&&Rh(su,"createObjectURL",jR(YR,yl)),JR&&Rh(su,"revokeObjectURL",jR(JR,yl))}IQ(su,"URL");bQ({global:!0,forced:!SQ,sham:!A1},{URL:su});var XQ=_u,ZQ=wu,jk=qr,eX=Sp,QR=bu,tX=bp,N1=ZQ("URL"),rX=tX&&jk(function(){N1.canParse()}),nX=jk(function(){return N1.canParse.length!==1});XQ({target:"URL",stat:!0,forced:!rX||nX},{canParse:function(t){var r=eX(arguments.length,1),n=QR(t),o=r<2||arguments[1]===void 0?void 0:QR(arguments[1]);try{return!!new N1(n,o)}catch{return!1}}});var iX=_u,oX=wu,aX=Sp,XR=bu,sX=bp,uX=oX("URL");iX({target:"URL",stat:!0,forced:!sX},{parse:function(t){var r=aX(arguments.length,1),n=XR(t),o=r<2||arguments[1]===void 0?void 0:XR(arguments[1]);try{return new uX(n,o)}catch{return null}}});var lX=d1,cX=lX.URL,fX=cX,dX=fX,hX=dX,pX=hX,mX=pX,vX=mX,yX=F7(vX),gX=(function(e){Rc(t,e);function t(r){var n=e.call(this,r.message)||this;return n.name="PostgrestError",n.details=r.details,n.hint=r.hint,n.code=r.code,n}return t})(Error),wX=(function(){function e(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}return e.prototype.throwOnError=function(){return this.shouldThrowOnError=!0,this},e.prototype.setHeader=function(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this},e.prototype.then=function(t,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");var o=this.fetch,i=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(s){return Do(n,void 0,void 0,function(){var c,h,u,f,p,w,v,g,w,b,T,C,I,x;return ko(this,function(R){switch(R.label){case 0:return c=null,h=null,u=null,f=s.status,p=s.statusText,s.ok?this.method==="HEAD"?[3,2]:[4,s.text()]:[3,3];case 1:w=R.sent(),w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((T=this.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?h=w:h=JSON.parse(w)),R.label=2;case 2:return v=(C=this.headers.get("Prefer"))===null||C===void 0?void 0:C.match(/count=(exact|planned|estimated)/),g=(I=s.headers.get("content-range"))===null||I===void 0?void 0:I.split("/"),v&&g&&g.length>1&&(u=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:"Results contain ".concat(h.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,u=null,f=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null),[3,5];case 3:return[4,s.text()];case 4:w=R.sent();try{c=JSON.parse(w),Array.isArray(c)&&s.status===404&&(h=[],c=null,f=200,p="OK")}catch{s.status===404&&w===""?(f=204,p="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((x=c==null?void 0:c.details)===null||x===void 0)&&x.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new gX(c);R.label=5;case 5:return b={error:c,data:h,count:u,status:f,statusText:p},[2,b]}})})});return this.shouldThrowOnError||(i=i.catch(function(s){var c,h,u;return{error:{message:"".concat((c=s==null?void 0:s.name)!==null&&c!==void 0?c:"FetchError",": ").concat(s==null?void 0:s.message),details:"".concat((h=s==null?void 0:s.stack)!==null&&h!==void 0?h:""),hint:"",code:"".concat((u=s==null?void 0:s.code)!==null&&u!==void 0?u:"")},data:null,count:null,status:0,statusText:""}})),i.then(t,r)},e.prototype.returns=function(){return this},e.prototype.overrideTypes=function(){return this},e})(),_X=(function(e){Rc(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.select=function(r){var n=!1,o=(r??"*").split("").map(function(i){return/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)}).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this},t.prototype.order=function(r,n){var o=n===void 0?{}:n,i=o.ascending,s=i===void 0?!0:i,c=o.nullsFirst,h=o.foreignTable,u=o.referencedTable,f=u===void 0?h:u,p=f?"".concat(f,".order"):"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,"".concat(v?"".concat(v,","):"").concat(r,".").concat(s?"asc":"desc").concat(c===void 0?"":c?".nullsfirst":".nullslast")),this},t.prototype.limit=function(r,n){var o=n===void 0?{}:n,i=o.foreignTable,s=o.referencedTable,c=s===void 0?i:s,h=typeof c>"u"?"limit":"".concat(c,".limit");return this.url.searchParams.set(h,"".concat(r)),this},t.prototype.range=function(r,n,o){var i=o===void 0?{}:o,s=i.foreignTable,c=i.referencedTable,h=c===void 0?s:c,u=typeof h>"u"?"offset":"".concat(h,".offset"),f=typeof h>"u"?"limit":"".concat(h,".limit");return this.url.searchParams.set(u,"".concat(r)),this.url.searchParams.set(f,"".concat(n-r+1)),this},t.prototype.abortSignal=function(r){return this.signal=r,this},t.prototype.single=function(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this},t.prototype.maybeSingle=function(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this},t.prototype.csv=function(){return this.headers.set("Accept","text/csv"),this},t.prototype.geojson=function(){return this.headers.set("Accept","application/geo+json"),this},t.prototype.explain=function(r){var n,o=r===void 0?{}:r,i=o.analyze,s=i===void 0?!1:i,c=o.verbose,h=c===void 0?!1:c,u=o.settings,f=u===void 0?!1:u,p=o.buffers,v=p===void 0?!1:p,g=o.wal,w=g===void 0?!1:g,b=o.format,T=b===void 0?"text":b,C=[s?"analyze":null,h?"verbose":null,f?"settings":null,v?"buffers":null,w?"wal":null].filter(Boolean).join("|"),I=(n=this.headers.get("Accept"))!==null&&n!==void 0?n:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(T,'; for="').concat(I,'"; options=').concat(C,";")),T==="json"?this:this},t.prototype.rollback=function(){return this.headers.append("Prefer","tx=rollback"),this},t.prototype.returns=function(){return this},t.prototype.maxAffected=function(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(r)),this},t})(wX),wl=(function(e){Rc(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eq=function(r,n){return this.url.searchParams.append(r,"eq.".concat(n)),this},t.prototype.neq=function(r,n){return this.url.searchParams.append(r,"neq.".concat(n)),this},t.prototype.gt=function(r,n){return this.url.searchParams.append(r,"gt.".concat(n)),this},t.prototype.gte=function(r,n){return this.url.searchParams.append(r,"gte.".concat(n)),this},t.prototype.lt=function(r,n){return this.url.searchParams.append(r,"lt.".concat(n)),this},t.prototype.lte=function(r,n){return this.url.searchParams.append(r,"lte.".concat(n)),this},t.prototype.like=function(r,n){return this.url.searchParams.append(r,"like.".concat(n)),this},t.prototype.likeAllOf=function(r,n){return this.url.searchParams.append(r,"like(all).{".concat(n.join(","),"}")),this},t.prototype.likeAnyOf=function(r,n){return this.url.searchParams.append(r,"like(any).{".concat(n.join(","),"}")),this},t.prototype.ilike=function(r,n){return this.url.searchParams.append(r,"ilike.".concat(n)),this},t.prototype.ilikeAllOf=function(r,n){return this.url.searchParams.append(r,"ilike(all).{".concat(n.join(","),"}")),this},t.prototype.ilikeAnyOf=function(r,n){return this.url.searchParams.append(r,"ilike(any).{".concat(n.join(","),"}")),this},t.prototype.is=function(r,n){return this.url.searchParams.append(r,"is.".concat(n)),this},t.prototype.in=function(r,n){var o=Array.from(new Set(n)).map(function(i){return typeof i=="string"&&new RegExp("[,()]").test(i)?'"'.concat(i,'"'):"".concat(i)}).join(",");return this.url.searchParams.append(r,"in.(".concat(o,")")),this},t.prototype.contains=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"cs.".concat(n)):Array.isArray(n)?this.url.searchParams.append(r,"cs.{".concat(n.join(","),"}")):this.url.searchParams.append(r,"cs.".concat(JSON.stringify(n))),this},t.prototype.containedBy=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"cd.".concat(n)):Array.isArray(n)?this.url.searchParams.append(r,"cd.{".concat(n.join(","),"}")):this.url.searchParams.append(r,"cd.".concat(JSON.stringify(n))),this},t.prototype.rangeGt=function(r,n){return this.url.searchParams.append(r,"sr.".concat(n)),this},t.prototype.rangeGte=function(r,n){return this.url.searchParams.append(r,"nxl.".concat(n)),this},t.prototype.rangeLt=function(r,n){return this.url.searchParams.append(r,"sl.".concat(n)),this},t.prototype.rangeLte=function(r,n){return this.url.searchParams.append(r,"nxr.".concat(n)),this},t.prototype.rangeAdjacent=function(r,n){return this.url.searchParams.append(r,"adj.".concat(n)),this},t.prototype.overlaps=function(r,n){return typeof n=="string"?this.url.searchParams.append(r,"ov.".concat(n)):this.url.searchParams.append(r,"ov.{".concat(n.join(","),"}")),this},t.prototype.textSearch=function(r,n,o){var i=o===void 0?{}:o,s=i.config,c=i.type,h="";c==="plain"?h="pl":c==="phrase"?h="ph":c==="websearch"&&(h="w");var u=s===void 0?"":"(".concat(s,")");return this.url.searchParams.append(r,"".concat(h,"fts").concat(u,".").concat(n)),this},t.prototype.match=function(r){var n=this;return Object.entries(r).forEach(function(o){var i=o[0],s=o[1];n.url.searchParams.append(i,"eq.".concat(s))}),this},t.prototype.not=function(r,n,o){return this.url.searchParams.append(r,"not.".concat(n,".").concat(o)),this},t.prototype.or=function(r,n){var o=n===void 0?{}:n,i=o.foreignTable,s=o.referencedTable,c=s===void 0?i:s,h=c?"".concat(c,".or"):"or";return this.url.searchParams.append(h,"(".concat(r,")")),this},t.prototype.filter=function(r,n,o){return this.url.searchParams.append(r,"".concat(n,".").concat(o)),this},t})(_X),bX=(function(){function e(t,r){var n=r.headers,o=n===void 0?{}:n,i=r.schema,s=r.fetch;this.url=t,this.headers=new Headers(o),this.schema=i,this.fetch=s}return e.prototype.select=function(t,r){var n=r===void 0?{}:r,o=n.head,i=o===void 0?!1:o,s=n.count,c=i?"HEAD":"GET",h=!1,u=(t??"*").split("").map(function(f){return/\s/.test(f)&&!h?"":(f==='"'&&(h=!h),f)}).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer","count=".concat(s)),new wl({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})},e.prototype.insert=function(t,r){var n,o=r===void 0?{}:r,i=o.count,s=o.defaultToNull,c=s===void 0?!0:s,h="POST";if(i&&this.headers.append("Prefer","count=".concat(i)),c||this.headers.append("Prefer","missing=default"),Array.isArray(t)){var u=t.reduce(function(p,v){return p.concat(Object.keys(v))},[]);if(u.length>0){var f=Array.from(new Set(u)).map(function(p){return'"'.concat(p,'"')});this.url.searchParams.set("columns",f.join(","))}}return new wl({method:h,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},e.prototype.upsert=function(t,r){var n,o=r===void 0?{}:r,i=o.onConflict,s=o.ignoreDuplicates,c=s===void 0?!1:s,h=o.count,u=o.defaultToNull,f=u===void 0?!0:u,p="POST";if(this.headers.append("Prefer","resolution=".concat(c?"ignore":"merge","-duplicates")),i!==void 0&&this.url.searchParams.set("on_conflict",i),h&&this.headers.append("Prefer","count=".concat(h)),f||this.headers.append("Prefer","missing=default"),Array.isArray(t)){var v=t.reduce(function(w,b){return w.concat(Object.keys(b))},[]);if(v.length>0){var g=Array.from(new Set(v)).map(function(w){return'"'.concat(w,'"')});this.url.searchParams.set("columns",g.join(","))}}return new wl({method:p,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},e.prototype.update=function(t,r){var n,o=r===void 0?{}:r,i=o.count,s="PATCH";return i&&this.headers.append("Prefer","count=".concat(i)),new wl({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})},e.prototype.delete=function(t){var r,n=t===void 0?{}:t,o=n.count,i="DELETE";return o&&this.headers.append("Prefer","count=".concat(o)),new wl({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})},e})(),SX=(function(e){Rc(t,e);function t(r,n){var o=n.headers,i=o===void 0?{}:o,s=n.fetch;return e.call(this,r,{headers:i,schema:void 0,fetch:s})||this}return t})(bX),EX=(function(){function e(t,r){var n=r===void 0?{}:r,o=n.headers,i=o===void 0?{}:o,s=n.fetch;this.url=t,this.headers=new Headers(i),this.fetch=s}return e.prototype.from=function(t){var r=new yX("".concat(this.url,"/").concat(t));return new SX(r,{headers:this.headers,fetch:this.fetch})},e})();function TX(e,t){var r=t==null?void 0:t.envId,n=(t==null?void 0:t.mysqlBaseUrl)||CX(e,t==null?void 0:t.envId).mysql,o=t==null?void 0:t.fetch;return function(i){var s=this;return new EX(n,{fetch:o||(function(c,h){return Do(s,void 0,void 0,function(){var u,f,p;return ko(this,function(v){return u=(i==null?void 0:i.instance)||"default",f=(i==null?void 0:i.database)||r,p={},(h==null?void 0:h.headers)instanceof Headers?h.headers.forEach(function(g,w){p[w]=g}):p=(h==null?void 0:h.headers)||{},[2,e.callFunction({name:"httpOverCallFunction",data:{url:c.toString(),method:(h==null?void 0:h.method)||"GET",headers:St(St({},p||{}),{"Content-Type":"application/json","X-Db-Instance":u,"Accept-Profile":f,"Content-Profile":f}),body:h==null?void 0:h.body}}).then(function(g){var w=g==null?void 0:g.result,b={ok:(w==null?void 0:w.statusCode)>=200&&(w==null?void 0:w.statusCode)<300,status:(w==null?void 0:w.statusCode)||200,statusText:(w==null?void 0:w.statusMessage)||"OK",json:function(){return Promise.resolve((w==null?void 0:w.body)||{})},text:function(){return Promise.resolve(typeof(w==null?void 0:w.body)=="string"?w.body:JSON.stringify((w==null?void 0:w.body)||{}))},headers:new Headers((w==null?void 0:w.headers)||{})};return b})]})})})})}}function CX(e,t){var r,n,o,i,s=t||((n=(r=e==null?void 0:e.extend)===null||r===void 0?void 0:r.AI)===null||n===void 0?void 0:n.env);if((typeof s!="string"||!s.trim())&&(s=(o=e==null?void 0:e.config)===null||o===void 0?void 0:o.env),(typeof s!="string"||!s.trim())&&(s=(i=e==null?void 0:e.config)===null||i===void 0?void 0:i.envName),typeof s!="string"||!s.trim())throw new Error("Generating default gateway base url failed: env not found");return s=s.trim(),{model:"https://".concat(s,".api.tcloudbasegateway.com/v1/model"),sql:"https://".concat(s,".api.tcloudbasegateway.com/v1/sql"),mysql:"https://".concat(s,".api.tcloudbasegateway.com/v1/rdb/rest")}}var xa=function(){return xa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xa.apply(this,arguments)},IX=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},xX=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},AX=bL,ZR="models";function RX(e){var t=this,r=e.callFunction.bind(e),n=e.request.fetch.bind(e.request),o=function(p){return IX(t,void 0,void 0,function(){var v;return xX(this,function(g){switch(g.label){case 0:return[4,n(xa(xa({},p),{headers:xa({"Content-Type":"application/json"},p.headers)}))];case 1:return v=g.sent(),[4,v.data];case 2:return[2,g.sent()]}})})},i=e.getEndPointWithKey("GATEWAY"),s=i.BASE_URL,c=i.PROTOCOL,h="".concat(c).concat(s,"/model"),u="".concat(c).concat(s,"/sql"),f=D7(r,o,h,{sqlBaseUrl:u});return f}var eO=new WeakMap;function OX(e){return new Proxy({},{get:function(t,r){var n=e.getEndPointWithKey("GATEWAY"),o=n.BASE_URL,i=n.PROTOCOL,s=xa(xa({},e),{BASE_URL:o,PROTOCOL:i}),c=eO.get(s);return c||(c=RX(e),eO.set(s,c)),c[r]}})}var Uk="cloudbase_init",Bk=new AX;Bk.on(Uk,function(e){var t=e.data;Object.assign(t,{models:OX(t)})});var $k={name:ZR,namespace:ZR,entity:new Proxy({},{get:function(e,t){console.warn("deprecatedAccessing Cloudbase.prototype.models.".concat(t,"."))}}),injectEvents:{bus:Bk,events:[Uk]}};try{cloudbase.registerComponent($k)}catch{}function qk(e){try{e.registerComponent($k)}catch(t){console.warn(t)}}try{window.registerModel=qk}catch{}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P_=function(e,t){return P_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},P_(e,t)};function Vk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");P_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function uu(e){if(!e)throw new TypeError("Assertion failed")}function PX(){}function NX(e){return typeof e=="object"&&e!==null||typeof e=="function"}function LX(e){if(typeof e!="function")return!1;var t=!1;try{new e({start:function(){t=!0}})}catch{}return t}function Wk(e){return!(!NX(e)||typeof e.getReader!="function")}function DX(e){return!(!LX(e)||!Wk(new e))}function Hk(e){try{var t=e.getReader({mode:"byob"});return t.releaseLock(),!0}catch{return!1}}function kX(e){try{return new e({type:"bytes"}),!0}catch{return!1}}function MX(e){uu(DX(e));var t=kX(e);return function(r,n){var o=n===void 0?{}:n,i=o.type;if(i=Gk(i),i==="bytes"&&!t&&(i=void 0),r.constructor===e&&(i!=="bytes"||Hk(r)))return r;if(i==="bytes"){var s=tO(r,{type:i});return new e(s)}else{var s=tO(r);return new e(s)}}}function tO(e,t){var r=t===void 0?{}:t,n=r.type;uu(Wk(e)),uu(e.locked===!1),n=Gk(n);var o;return n==="bytes"?o=new UX(e):o=new FX(e),o}function Gk(e){var t=String(e);if(t==="bytes")return t;if(e===void 0)return e;throw new RangeError("Invalid type is specified")}var zk=(function(){function e(t){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=t,this._attachDefaultReader()}return e.prototype.start=function(t){this._readableStreamController=t},e.prototype.cancel=function(t){return uu(this._underlyingReader!==void 0),this._underlyingReader.cancel(t)},e.prototype._attachDefaultReader=function(){if(this._readerMode!=="default"){this._detachReader();var t=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(t)}},e.prototype._attachReader=function(t){var r=this;uu(this._underlyingReader===void 0),this._underlyingReader=t;var n=this._underlyingReader.closed;n&&n.then(function(){return r._finishPendingRead()}).then(function(){t===r._underlyingReader&&r._readableStreamController.close()},function(o){t===r._underlyingReader&&r._readableStreamController.error(o)}).catch(PX)},e.prototype._detachReader=function(){this._underlyingReader!==void 0&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var t=this;this._attachDefaultReader();var r=this._underlyingReader.read().then(function(n){var o=t._readableStreamController;n.done?t._tryClose():o.enqueue(n.value)});return this._setPendingRead(r),r},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch{}},e.prototype._setPendingRead=function(t){var r=this,n,o=function(){r._pendingRead===n&&(r._pendingRead=void 0)};this._pendingRead=n=t.then(o,o)},e.prototype._finishPendingRead=function(){var t=this;if(this._pendingRead){var r=function(){return t._finishPendingRead()};return this._pendingRead.then(r,r)}},e})(),FX=(function(e){Vk(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.pull=function(){return this._pullWithDefaultReader()},t})(zk);function rO(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function jX(e,t){var r=rO(e),n=rO(t);n.set(r,0)}var UX=(function(e){Vk(t,e);function t(r){var n=this,o=Hk(r);return n=e.call(this,r)||this,n._supportsByob=o,n}return Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),t.prototype._attachByobReader=function(){if(this._readerMode!=="byob"){uu(this._supportsByob),this._detachReader();var r=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(r)}},t.prototype.pull=function(){if(this._supportsByob){var r=this._readableStreamController.byobRequest;if(r)return this._pullWithByobRequest(r)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(r){var n=this;this._attachByobReader();var o=new Uint8Array(r.view.byteLength),i=this._underlyingReader.read(o).then(function(s){n._readableStreamController,s.done?(n._tryClose(),r.respond(0)):(jX(s.value,r.view),r.respond(s.value.byteLength))});return this._setPendingRead(i),i},t})(zk);function BX(e){var t,r,n,o,i,s,c;return h(),{feed:u,reset:h};function h(){t=!0,r="",n=0,o=-1,i=void 0,s=void 0,c=""}function u(p){r=r?r+p:p,t&&$X(r)&&(r=r.slice(Kk.length)),t=!1;for(var v=r.length,g=0,w=!1;g<v;){w&&(r[g]===`
`&&(g+=1),w=!1);for(var b=-1,T=o,C=void 0,I=n;b<0&&I<v;I++)C=r[I],C===":"&&T<0?T=I-g:C==="\r"?(w=!0,b=I-g):C===`
`&&(b=I-g);if(b<0){n=v-g,o=T;break}else n=0,o=-1;f(r,g,T,b),g+=b+1}g===v?r="":g>0&&(r=r.slice(g))}function f(p,v,g,w){if(w===0){c.length>0&&(e({type:"event",id:i,event:s||void 0,data:c.slice(0,-1)}),c="",i=void 0),s=void 0;return}var b=g<0,T=p.slice(v,v+(b?w:g)),C=0;b?C=w:p[v+g+1]===" "?C=g+2:C=g+1;var I=v+C,x=w-C,R=p.slice(I,I+x).toString();if(T==="data")c+=R?"".concat(R,`
`):`
`;else if(T==="event")s=R;else if(T==="id"&&!R.includes("\0"))i=R;else if(T==="retry"){var L=parseInt(R,10);Number.isNaN(L)||e({type:"reconnect-interval",value:L})}}}var Kk=[239,187,191];function $X(e){return Kk.every(function(t,r){return e.charCodeAt(r)===t})}var Zd={exports:{}},qX=Zd.exports,nO;function VX(){return nO||(nO=1,(function(e,t){(function(r,n){e.exports=n()})(qX,function(){var r=typeof Ps<"u"?Ps:self;if(typeof r.TextEncoder<"u"&&typeof r.TextDecoder<"u")return{TextEncoder:r.TextEncoder,TextDecoder:r.TextDecoder};var n=["utf8","utf-8","unicode-1-1-utf-8"],o=function(s){if(n.indexOf(s)<0&&typeof s<"u"&&s!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(c){if(typeof c!="string")throw new TypeError("passed argument must be of type string");var h=unescape(encodeURIComponent(c)),u=new Uint8Array(h.length);return h.split("").forEach(function(f,p){u[p]=f.charCodeAt(0)}),u}},i=function(s,c){if(n.indexOf(s)<0&&typeof s<"u"&&s!==null)throw new RangeError("Invalid encoding type. Only utf-8 is supported");if(this.encoding="utf-8",this.ignoreBOM=!1,this.fatal=typeof c<"u"&&"fatal"in c?c.fatal:!1,typeof this.fatal!="boolean")throw new TypeError("fatal flag must be boolean");this.decode=function(h,u){if(typeof h>"u")return"";var f=typeof u<"u"&&"stream"in u?u.stream:!1;if(typeof f!="boolean")throw new TypeError("stream option must be boolean");if(ArrayBuffer.isView(h)){var p=new Uint8Array(h.buffer,h.byteOffset,h.byteLength),v=new Array(p.length);return p.forEach(function(g,w){v[w]=String.fromCharCode(g)}),decodeURIComponent(escape(v.join("")))}else throw new TypeError("passed argument must be an array buffer view")}};return{TextEncoder:o,TextDecoder:i}})})(Zd)),Zd.exports}var WX=VX(),Yk=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},Jk=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},HX=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(c,h){s=e[i](s),o(c,h,s.done,s.value)})}}function o(i,s,c,h){Promise.resolve(h).then(function(u){i({value:u,done:c})},s)}},GX=$t,Tt=vh,Qk=function(){var e;return new Tt({start:function(t){e=BX(function(r){r.type==="event"&&t.enqueue(r)})},transform:function(t){e.feed(t)}})},Wr=MX(GX),L1=(function(){function e(t,r){t===void 0&&(t="utf-8"),r===void 0&&(r={});var n=this;this.transform=new Tt({transform:function(o,i){var s=n.handle.decode(new Uint8Array(o),{stream:!0});s&&i.enqueue(s)},flush:function(o){var i=n.handle.decode();i&&o.enqueue(i),o.terminate()}}),this.handle=new WX.TextDecoder(t,r)}return Object.defineProperty(e.prototype,"encoding",{get:function(){return this.handle.encoding},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fatal",{get:function(){return this.handle.fatal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ignoreBOM",{get:function(){return this.handle.ignoreBOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readable",{get:function(){return this.transform.readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){return this.transform.writable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"TextDecoderStream"},enumerable:!1,configurable:!0}),e})();function st(e){var t=e;return t[Symbol.asyncIterator]=function(){var r=e.getReader();return{next:function(){return Yk(this,void 0,void 0,function(){var n,o,i;return Jk(this,function(s){switch(s.label){case 0:return[4,r.read()];case 1:return n=s.sent(),o=n.done,i=n.value,[2,o?{done:!0,value:void 0}:{done:!1,value:i}]}})})}}},t}function Yn(e){return st(e.pipeThrough(new L1).pipeThrough(Qk()).pipeThrough(new Tt({transform:function(t,r){try{var n=JSON.parse(t.data);r.enqueue(n)}catch(o){t.data!=="[DONE]"?console.warn("Error when transforming event source data to json",o,t):r.terminate()}}})))}function zX(e){return st(Wr(e).pipeThrough(new L1))}function KX(e){var t,r,n,o;return Yk(this,void 0,void 0,function(){var i,s,c,h,u,f,p;return Jk(this,function(v){switch(v.label){case 0:i=zX(e),s="",v.label=1;case 1:v.trys.push([1,6,7,12]),c=!0,h=HX(i),v.label=2;case 2:return[4,h.next()];case 3:if(u=v.sent(),t=u.done,!!t)return[3,5];o=u.value,c=!1;try{f=o,s+=f}finally{c=!0}v.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return p=v.sent(),r={error:p},[3,12];case 7:return v.trys.push([7,,10,11]),!c&&!t&&(n=h.return)?[4,n.call(h)]:[3,9];case 8:v.sent(),v.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:return[2,JSON.parse(s)]}})})}function iO(){var e,t,r=new Promise(function(n,o){e=n,t=o});return{promise:r,res:e,rej:t}}function wn(e){var t;return e.role==="assistant"&&"tool_calls"in e&&((t=e.tool_calls)===null||t===void 0?void 0:t[0])!=null}function YX(e){return{type:"function",function:{description:e.description,name:e.name,parameters:e.parameters}}}var bo=function(){return bo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bo.apply(this,arguments)},Mn=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},Fn=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ed=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},JX=(function(){function e(t,r){this.baseUrl=r;var n=arguments[2];typeof n=="string"?this.req=function(o){var i=o.headers,s=i===void 0?{}:i,c=Ed(o,["headers"]);return t(bo(bo({},c),{headers:bo(bo({},s),{Authorization:"Bearer ".concat(n)})}))}:this.req=t}return e.prototype.list=function(t,r){return this.req({method:"get",url:this.join("bots"),data:t,timeout:r==null?void 0:r.timeout})},e.prototype.create=function(t,r){var n=t.botInfo;return this.req({method:"post",url:this.join("bots"),data:n,timeout:r==null?void 0:r.timeout})},e.prototype.get=function(t,r){var n=t.botId;return this.req({method:"get",url:this.join("bots/".concat(n)),timeout:r==null?void 0:r.timeout})},e.prototype.update=function(t,r){var n=t.botId,o=t.botInfo;return this.req({method:"PATCH",url:this.join("bots/".concat(n)),data:o,timeout:r==null?void 0:r.timeout})},e.prototype.delete=function(t,r){var n=t.botId;return this.req({method:"delete",url:this.join("bots/".concat(n)),timeout:r==null?void 0:r.timeout})},e.prototype.getChatRecords=function(t,r){return this.req({method:"get",url:this.join("bots/".concat(t.botId,"/records")),data:t,timeout:r==null?void 0:r.timeout})},e.prototype.sendFeedback=function(t,r){var n=t.userFeedback;return this.req({method:"post",url:this.join("bots/".concat(n.botId,"/feedback")),data:n,timeout:r==null?void 0:r.timeout})},e.prototype.getFeedback=function(t,r){return this.req({method:"get",url:this.join("bots/".concat(t.botId,"/feedback")),data:t,timeout:r==null?void 0:r.timeout})},e.prototype.uploadFiles=function(t,r){return Mn(this,void 0,void 0,function(){return Fn(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(t.botId,"/files")),data:t,timeout:r==null?void 0:r.timeout})]})})},e.prototype.createConversation=function(t,r){var n=t.botId,o=Ed(t,["botId"]);return Mn(this,void 0,void 0,function(){return Fn(this,function(i){return[2,this.req({method:"post",url:this.join("bots/".concat(n,"/conversation")),data:o,timeout:r==null?void 0:r.timeout})]})})},e.prototype.getConversation=function(t,r){var n=t.pageSize,o=n===void 0?10:n,i=t.pageNumber,s=i===void 0?1:i,c=t.botId,h=Ed(t,["pageSize","pageNumber","botId"]);return Mn(this,void 0,void 0,function(){var u,f;return Fn(this,function(p){if(s<1)throw new Error("pageNumber must be greater than 0");return u=o*(s-1),f=o,[2,this.req({method:"get",url:this.join("bots/".concat(c,"/conversation")),data:bo(bo({},h),{offset:u,limit:f}),timeout:r==null?void 0:r.timeout})]})})},e.prototype.deleteConversation=function(t,r){var n=t.botId,o=t.conversationId,i=Ed(t,["botId","conversationId"]);return Mn(this,void 0,void 0,function(){return Fn(this,function(s){return[2,this.req({method:"delete",url:this.join("bots/".concat(n,"/conversation/").concat(o)),data:i,timeout:r==null?void 0:r.timeout})]})})},e.prototype.speechToText=function(t,r){return Mn(this,void 0,void 0,function(){return Fn(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(t.botId,"/speech-to-text")),data:t,timeout:r==null?void 0:r.timeout})]})})},e.prototype.textToSpeech=function(t,r){return Mn(this,void 0,void 0,function(){return Fn(this,function(n){return[2,this.req({method:"post",url:this.join("bots/".concat(t.botId,"/text-to-speech")),data:t,timeout:r==null?void 0:r.timeout})]})})},e.prototype.getTextToSpeechResult=function(t,r){return Mn(this,void 0,void 0,function(){return Fn(this,function(n){return[2,this.req({method:"get",url:this.join("bots/".concat(t.botId,"/text-to-speech")),data:t,timeout:r==null?void 0:r.timeout})]})})},e.prototype.getRecommendQuestions=function(t,r){return Mn(this,void 0,void 0,function(){var n;return Fn(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(t.botId,"/recommend-questions")),data:t,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new Td(n)]}})})},e.prototype.generateBot=function(t,r){return Mn(this,void 0,void 0,function(){var n;return Fn(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("generate-bot"),data:t,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new Td(n)]}})})},e.prototype.getPreview=function(t,r){return Mn(this,void 0,void 0,function(){var n;return Fn(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("preview"),data:t,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new Td(n)]}})})},e.prototype.generateImage=function(t,r){return this.req({method:"post",url:this.join("generate-image"),data:t,timeout:r==null?void 0:r.timeout})},e.prototype.sendMessage=function(t,r){return Mn(this,void 0,void 0,function(){var n;return Fn(this,function(o){switch(o.label){case 0:return[4,this.req({method:"post",url:this.join("bots/".concat(t.botId,"/send-message")),data:t,stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,new Td(n)]}})})},e.prototype.join=function(t){return"".concat(this.baseUrl,"/").concat(t)},e})(),Td=(function(){function e(t){var r=Wr(t);this._eventSourceStream=r.pipeThrough(new L1).pipeThrough(Qk())}return Object.defineProperty(e.prototype,"teeedStream",{get:function(){var t=this._eventSourceStream.tee(),r=t[0],n=t[1];return this._eventSourceStream=n,r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventSourceStream",{get:function(){return st(this.teeedStream)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataStream",{get:function(){return st(this.eventSourceStream.pipeThrough(new Tt({transform:function(t,r){try{var n=JSON.parse(t.data);r.enqueue(n)}catch(o){t.data!=="[DONE]"?console.warn("Error when transforming event source data to json",o,t):r.terminate()}}})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textStream",{get:function(){return st(this.dataStream.pipeThrough(new Tt({transform:function(t,r){var n;r.enqueue((n=t==null?void 0:t.content)!==null&&n!==void 0?n:"")}})))},enumerable:!1,configurable:!0}),e})(),Yt=function(){return Yt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yt.apply(this,arguments)},oO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},aO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function sO(e){var t=e.messages,r=e.model,n=e.temperature,o=e.tool_choice,i=e.tools,s=e.top_p,c=function(){return o&&o!=="auto"&&console.warn("`tool_choice` is not 'auto'"),o};return Yt(Yt({},e),{messages:t,model:r,temperature:n,tool_choice:c(),tools:i,top_p:s})}var Xk=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="zhipu/api/paas/v4/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return oO(this,void 0,void 0,function(){var n,o;return aO(this,function(i){switch(i.label){case 0:return n=sO(t),[4,this.req({url:this.url,data:Yt(Yt({},n),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return o=i.sent(),[2,Yt(Yt({},o),{rawResponse:o})]}})})},e.prototype.doStream=function(t,r){return oO(this,void 0,void 0,function(){var n,o,i,s,c,h;return aO(this,function(u){switch(u.label){case 0:return n=sO(t),o=null,[4,this.req({url:this.url,data:Yt(Yt({},n),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return i=u.sent(),s=Wr(i),c=Yn(s),h=c.pipeThrough(new Tt({transform:function(f,p){var v=f.choices.map(function(w){var b=w.delta;return o==null&&(o=wn(b)),o?Yt(Yt({},w),{finish_reason:"tool_calls",delta:b}):w}),g=Yt(Yt({},f),{choices:v});p.enqueue(Yt(Yt({},g),{rawResponse:f}))}})),[2,st(h)]}})})},e})(),Lh=function(){return Lh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lh.apply(this,arguments)};function Ma(e){var t=e.messages,r=e.model,n=e.temperature,o=e.tool_choice,i=e.tools,s=e.top_p,c=function(){if(i)return i.forEach(function(u){u.type!=="function"&&console.warn("`type` in tool is not 'function'",u)}),i},h=function(){return t.forEach(function(u){"tool_calls"in u&&u.tool_calls.filter(function(f){return f.type!=="function"}).forEach(function(f){return console.warn("`type` in tool_call is not 'function'",f,u)})}),t};return Lh(Lh({},e),{messages:h(),model:r,tools:c(),top_p:s,tool_choice:o,temperature:n})}function Dh(e){if(typeof e!="object"||e==null)return e;if(Array.isArray(e))return e.map(function(r){return Dh(r)});return Object.entries(e).reduce(function(r,n){var o=n[0],i=n[1],s=t(o);return r[s]=typeof i=="object"?Dh(i):i,r},{});function t(r){var n=r.replace(/[A-Z]/g,function(o){return"_".concat(o.toLowerCase())});return n.charAt(0)==="_"?n.slice(1):n}}var _r=function(){return _r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_r.apply(this,arguments)},uO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},lO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Zk=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="hunyuan-beta/openapi/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return uO(this,void 0,void 0,function(){var n;return lO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:_r(_r({},Ma(t)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,_r(_r({},n),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return uO(this,void 0,void 0,function(){var n,o,i,s,c;return lO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:_r(_r({},Ma(t)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p=u.choices.map(function(g){var w=g.delta;return n==null&&(n=wn(w)),n?_r(_r({},g),{finish_reason:"tool_calls",delta:w}):g}),v=_r(_r({},u),{choices:p});f.enqueue(_r(_r({},v),{rawResponse:u}))}})),[2,st(c)]}})})},e})(),br=function(){return br=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},br.apply(this,arguments)},cO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},fO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},e5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="hunyuan",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return cO(this,void 0,void 0,function(){var n,o;return fO(this,function(i){switch(i.label){case 0:return[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:br(br({},Ma(t)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=i.sent(),o=Dh(n.Response),[2,br(br({},o),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return cO(this,void 0,void 0,function(){var n,o,i,s,c;return fO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,headers:{"X-Tc-Action":"ChatCompletions"},data:br(br({},t),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p=Dh(u),v=p.choices.map(function(w){var b=w.delta;return n==null&&(n=wn(b)),n?br(br({},w),{finish_reason:"tool_calls",delta:b}):w}),g=br(br({},p),{choices:v});f.enqueue(br(br({},g),{rawResponse:u}))}})),[2,st(c)]}})})},e})(),Jt=function(){return Jt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jt.apply(this,arguments)},dO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},hO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function pO(e){var t=e.messages,r=e.model,n=e.temperature,o=e.tools,i=e.top_p;return Jt(Jt({},e),{messages:t,model:r,tools:o,top_p:i,temperature:n})}var t5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="ark/api/v3/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return dO(this,void 0,void 0,function(){var n;return hO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Jt(Jt({},pO(t)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Jt(Jt({},n),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return dO(this,void 0,void 0,function(){var n,o,i,s,c;return hO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Jt(Jt({},pO(t)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p=u.choices.map(function(g){var w=g.delta;return n==null&&(n=wn(w)),n?Jt(Jt({},g),{finish_reason:"tool_calls",delta:w}):g}),v=Jt(Jt({},u),{choices:p});f.enqueue(Jt(Jt({},v),{rawResponse:u}))}})),[2,st(c)]}})})},e})(),Ft=function(){return Ft=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ft.apply(this,arguments)},mO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},vO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function yO(e){var t=e.messages,r=e.model,n=e.temperature,o=e.tools,i=e.top_p;return Ft(Ft({},e),{messages:t,model:r,tools:o,top_p:i,temperature:n})}var r5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="dashscope/compatible-mode/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return mO(this,void 0,void 0,function(){var n;return vO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Ft(Ft({},yO(t)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Ft(Ft({},n),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return mO(this,void 0,void 0,function(){var n,o,i,s,c;return vO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Ft(Ft({},yO(t)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p=u.choices.map(function(g){var w=Object.assign(g.delta,{role:"assistant"});return n==null&&(n=wn(w)),n?Ft(Ft({},g),{finish_reason:"tool_calls",delta:w}):Ft(Ft({},g),{delta:w})}),v=Ft(Ft({},u),{choices:p});f.enqueue(Ft(Ft({},v),{rawResponse:u}))}})),[2,st(c)]}})})},e})(),jt=function(){return jt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},jt.apply(this,arguments)},gO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},wO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function _O(e){var t=e.messages,r=e.model,n=e.temperature,o=e.tools,i=e.top_p;return jt(jt({},e),{messages:t,model:r,tools:o,top_p:i,temperature:n})}var n5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="01-ai/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return gO(this,void 0,void 0,function(){var n;return wO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:jt(jt({},_O(t)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,jt(jt({},n),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return gO(this,void 0,void 0,function(){var n,o,i,s,c;return wO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:jt(jt({},_O(t)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p,v,g,w,b,T;if(!((g=(v=(p=u==null?void 0:u.choices)===null||p===void 0?void 0:p[0])===null||v===void 0?void 0:v.delta)===null||g===void 0)&&g.content||!((T=(b=(w=u==null?void 0:u.choices)===null||w===void 0?void 0:w[0])===null||b===void 0?void 0:b.delta)===null||T===void 0)&&T.tool_calls){var C=u.choices.map(function(x){var R=Object.assign(x.delta,{role:"assistant"});return n==null&&(n=wn(R)),n?jt(jt({},x),{finish_reason:"tool_calls",delta:R}):jt(jt({},x),{delta:R})}),I=jt(jt({},u),{choices:C});f.enqueue(jt(jt({},I),{rawResponse:u}))}}})),[2,st(c)]}})})},e})(),Qt=function(){return Qt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qt.apply(this,arguments)},bO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},SO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function EO(e){var t=e.messages,r=e.model,n=e.temperature,o=e.tools,i=e.top_p;return Qt(Qt({},e),{messages:t,model:r,tools:o,top_p:i,temperature:n})}var i5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="moonshot/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return bO(this,void 0,void 0,function(){var n;return SO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Qt(Qt({},EO(t)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Qt(Qt({},n),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return bO(this,void 0,void 0,function(){var n,o,i,s,c;return SO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Qt(Qt({},EO(t)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p=u.choices.map(function(g){var w=g.delta;return n==null&&(n=wn(w)),n?Qt(Qt({},g),{finish_reason:"tool_calls",delta:w}):g}),v=Qt(Qt({},u),{choices:p});f.enqueue(Qt(Qt({},v),{rawResponse:u}))}})),[2,st(c)]}})})},e})(),Sr=function(){return Sr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Sr.apply(this,arguments)},TO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},CO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},o5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="hunyuan-exp/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t){return TO(this,void 0,void 0,function(){var r;return CO(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.url,data:Sr(Sr({},Ma(t)),{stream:!1}),stream:!1})];case 1:return r=n.sent(),[2,Sr(Sr({},r),{rawResponse:r})]}})})},e.prototype.doStream=function(t){return TO(this,void 0,void 0,function(){var r,n,o,i,s;return CO(this,function(c){switch(c.label){case 0:return r=null,[4,this.req({url:this.url,data:Sr(Sr({},Ma(t)),{stream:!0}),stream:!0})];case 1:return n=c.sent(),o=Wr(n),i=Yn(o),s=i.pipeThrough(new Tt({transform:function(h,u){var f=h.choices.map(function(v){var g=v.delta;return r==null&&(r=wn(g)),r?Sr(Sr({},v),{finish_reason:"tool_calls",delta:g}):v}),p=Sr(Sr({},h),{choices:f});u.enqueue(Sr(Sr({},p),{rawResponse:h}))}})),[2,st(s)]}})})},e})(),Er=function(){return Er=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Er.apply(this,arguments)},IO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},xO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},a5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="hunyuan-open/v1/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return IO(this,void 0,void 0,function(){var n;return xO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Er(Er({},Ma(t)),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Er(Er({},n),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return IO(this,void 0,void 0,function(){var n,o,i,s,c;return xO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Er(Er({},Ma(t)),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p=u.choices.map(function(g){var w=g.delta;return n==null&&(n=wn(w)),n?Er(Er({},g),{finish_reason:"tool_calls",delta:w}):g}),v=Er(Er({},u),{choices:p});f.enqueue(Er(Er({},v),{rawResponse:u}))}})),[2,st(c)]}})})},e})(),Tr=function(){return Tr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tr.apply(this,arguments)},AO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},RO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},QX=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.subUrl="deepseek/chat/completions",n!=null&&(this.subUrl=n)}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t,r){return AO(this,void 0,void 0,function(){var n;return RO(this,function(o){switch(o.label){case 0:return[4,this.req({url:this.url,data:Tr(Tr({},t),{stream:!1}),stream:!1,timeout:r==null?void 0:r.timeout})];case 1:return n=o.sent(),[2,Tr(Tr({},n),{rawResponse:n})]}})})},e.prototype.doStream=function(t,r){return AO(this,void 0,void 0,function(){var n,o,i,s,c;return RO(this,function(h){switch(h.label){case 0:return n=null,[4,this.req({url:this.url,data:Tr(Tr({},t),{stream:!0}),stream:!0,timeout:r==null?void 0:r.timeout})];case 1:return o=h.sent(),i=Wr(o),s=Yn(i),c=s.pipeThrough(new Tt({transform:function(u,f){var p=u.choices.map(function(g){var w=g.delta;return n==null&&(n=wn(w)),n?Tr(Tr({},g),{finish_reason:"tool_calls",delta:w}):g}),v=Tr(Tr({},u),{choices:p});f.enqueue(Tr(Tr({},v),{rawResponse:u}))}})),[2,st(c)]}})})},e})(),Cr=function(){return Cr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cr.apply(this,arguments)},OO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},PO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},s5=(function(){function e(t,r,n){n===void 0&&(n=""),this.req=t,this.baseUrl=r,this.subUrl=n}return Object.defineProperty(e.prototype,"url",{get:function(){return"".concat(this.baseUrl,"/").concat(this.subUrl)},enumerable:!1,configurable:!0}),e.prototype.doGenerate=function(t){return OO(this,void 0,void 0,function(){var r;return PO(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.url,data:Cr(Cr({},t),{stream:!1}),stream:!1})];case 1:return r=n.sent(),[2,Cr(Cr({},r),{rawResponse:r})]}})})},e.prototype.doStream=function(t){return OO(this,void 0,void 0,function(){var r,n,o,i,s;return PO(this,function(c){switch(c.label){case 0:return r=null,[4,this.req({url:this.url,data:Cr(Cr({},t),{stream:!0}),stream:!0})];case 1:return n=c.sent(),o=Wr(n),i=Yn(o),s=i.pipeThrough(new Tt({transform:function(h,u){var f=h.choices.map(function(v){var g=v.delta;return r==null&&(r=wn(g)),r?Cr(Cr({},v),{finish_reason:"tool_calls",delta:g}):v}),p=Cr(Cr({},h),{choices:f});u.enqueue(Cr(Cr({},p),{rawResponse:h}))}})),[2,st(s)]}})})},e})(),NO=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},LO=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},u5=(function(){function e(t,r,n){this.req=t,this.baseUrl=r,this.provider=n,this.generateImageSubUrl="images/generations",this.editImageSubUrl="images/edits"}return e.prototype.generateImage=function(t){return NO(this,void 0,void 0,function(){var r;return LO(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.getGenerateUrl(),data:t,stream:!1})];case 1:return r=n.sent(),[2,r]}})})},e.prototype.editImage=function(t){return NO(this,void 0,void 0,function(){var r;return LO(this,function(n){switch(n.label){case 0:return[4,this.req({url:this.getEditUrl(),data:t,stream:!1})];case 1:return r=n.sent(),[2,r]}})})},e.prototype.getGenerateUrl=function(){return"".concat(this.baseUrl,"/").concat(this.provider,"/").concat(this.generateImageSubUrl)},e.prototype.getEditUrl=function(){return"".concat(this.baseUrl,"/").concat(this.provider,"/").concat(this.editImageSubUrl)},e})(),kh=function(){return kh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kh.apply(this,arguments)},N_=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},L_=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},XX=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},ZX=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(c,h){s=e[i](s),o(c,h,s.done,s.value)})}}function o(i,s,c,h){Promise.resolve(h).then(function(u){i({value:u,done:c})},s)}},ai=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};function DO(e){var t,r=e.onStepFinish,n=e.abortSignal,o=e.maxSteps,i=e.topP,s=e.toolChoice,c=XX(e,["onStepFinish","abortSignal","maxSteps","topP","toolChoice"]);if(o!=null&&o<1)throw new Error("`maxSteps` muse be greater than 0.");return[{onStepFinish:r,abortSignal:n,maxSteps:o},kh(kh({},c),{tools:(t=c.tools)===null||t===void 0?void 0:t.map(function(h){return"fn"in h?YX(h):h}),top_p:i??c.top_p,tool_choice:s??c.tool_choice})]}var l5=(function(){function e(t){this.model=t}return e.prototype.generateText=function(t,r){var n,o;return N_(this,void 0,void 0,function(){var i,s,c,h,u,f,p,v,g,w,b,T,C,I,x,R,L,F,H,V,D,B=this;return L_(this,function(U){switch(U.label){case 0:return i=[],s={completion_tokens:0,prompt_tokens:0,total_tokens:0},c=DO(t),h=c[0],u=h.onStepFinish,f=h.maxSteps,p=f===void 0?10:f,v=c[1],g=function(){return B.model.doGenerate(v,r)},[4,g()];case 1:w=U.sent(),b=1,w.rawResponse&&i.push(w.rawResponse),T=null,U.label=2;case 2:if(!(b<p&&(T=kO(w))!=null))return[3,9];C=jO(w.usage),_l(s,C),U.label=3;case 3:return U.trys.push([3,7,,8]),[4,FO(T)];case 4:return I=U.sent(),x=w.choices[0],[4,u==null?void 0:u({finishReason:x.finish_reason,messages:v.messages.slice(),text:x.message.content,toolCall:T,toolResult:I,stepUsage:C,totalUsage:Object.assign({},s)})];case 5:return U.sent(),MO(v.messages,x.message,I),[4,g()];case 6:return w=U.sent(),w.rawResponse&&i.push(w.rawResponse),b+=1,[3,8];case 7:return R=U.sent(),[2,{text:"",messages:v.messages,usage:s,error:R,rawResponses:i}];case 8:return[3,2];case 9:return L=(n=w==null?void 0:w.choices)===null||n===void 0?void 0:n[0],F=L==null?void 0:L.message,H=(o=F==null?void 0:F.content)!==null&&o!==void 0?o:"",V=F?ai(ai([],v.messages,!0),[F],!1):v.messages,D=jO(w.usage),_l(s,D),[4,u==null?void 0:u({finishReason:L.finish_reason,messages:V.slice(),text:H,toolCall:kO(w),toolResult:null,stepUsage:D,totalUsage:Object.assign({},s)})];case 10:return U.sent(),[2,{text:H,messages:V,usage:s,rawResponses:i}]}})})},e.prototype.streamText=function(t,r){var n;return N_(this,void 0,void 0,function(){var o,i,s,c,h,u,f,p,v,g,w,b,T,C,I,x,R,L,F,H,V,D,B,U,K,Q,ee,fe,be,ue,Y,X,J,M,Z,xe,Oe=this;return L_(this,function(Ae){switch(Ae.label){case 0:return o={completion_tokens:0,prompt_tokens:0,total_tokens:0},i=DO(t),s=i[0],c=s.onStepFinish,h=s.maxSteps,u=h===void 0?10:h,f=i[1],p=function(){return Oe.model.doStream(f,r)},[4,p()];case 1:v=Ae.sent(),g=1,w=null,b=function(){var de=v.tee(),Fe=de[0],Ce=de[1];return v=st(Fe),eZ(Ce)},Ae.label=2;case 2:return T=g<u,T?[4,b()]:[3,4];case 3:T=(w=Ae.sent())!=null,Ae.label=4;case 4:if(!T)return[3,11];C=w.message,I=w.usage,_l(o,I),x=(n=C.tool_calls)===null||n===void 0?void 0:n[0],Ae.label=5;case 5:return Ae.trys.push([5,9,,10]),[4,FO(x)];case 6:return R=Ae.sent(),[4,c==null?void 0:c({finishReason:"tool_calls",messages:f.messages.slice(),text:C.content,toolCall:x,toolResult:R,stepUsage:I,totalUsage:Object.assign({},o)})];case 7:return Ae.sent(),MO(f.messages,C,R),[4,p()];case 8:return v=Ae.sent(),[3,10];case 9:return L=Ae.sent(),F=v.tee(),H=F[0],V=F[1],[2,{messages:Promise.resolve(f.messages),dataStream:st(H),textStream:st(V.pipeThrough(new Tt({transform:function(de,Fe){var Ce,Me,Be,it=(Be=(Me=(Ce=de==null?void 0:de.choices)===null||Ce===void 0?void 0:Ce[0])===null||Me===void 0?void 0:Me.delta)===null||Be===void 0?void 0:Be.content;typeof it=="string"&&Fe.enqueue(it)}}))),usage:Promise.resolve(o),error:L}];case 10:return[3,2];case 11:return[4,b()];case 12:return w=Ae.sent(),w?(D=w.message,B=w.usage,_l(o,B),U=ai(ai([],f.messages,!0),[D],!1),c({messages:U.slice(),finishReason:"tool_call",stepUsage:B,text:D.content,toolCall:D.tool_calls[0],totalUsage:Object.assign({},o)}),K=v.tee(),Q=K[0],ee=K[1],[2,{messages:Promise.resolve(ai(ai([],f.messages,!0),[D],!1)),dataStream:st(Q),textStream:st(ee.pipeThrough(new Tt({transform:function(de,Fe){var Ce,Me,Be,it=(Be=(Me=(Ce=de==null?void 0:de.choices)===null||Ce===void 0?void 0:Ce[0])===null||Me===void 0?void 0:Me.delta)===null||Be===void 0?void 0:Be.content;typeof it=="string"&&Fe.enqueue(it)}}))),usage:Promise.resolve(o)}]):(fe=iO(),be=iO(),ue={role:"assistant",content:""},Y="",X={completion_tokens:0,prompt_tokens:0,total_tokens:0},J=v.pipeThrough(new Tt({transform:function(de,Fe){var Ce,Me,Be,it,Ct,cr,_n,O,S=(Be=(Me=(Ce=de==null?void 0:de.choices)===null||Ce===void 0?void 0:Ce[0])===null||Me===void 0?void 0:Me.delta)===null||Be===void 0?void 0:Be.content;typeof S=="string"&&(ue.content+=S);var E=(Ct=(it=de==null?void 0:de.choices)===null||it===void 0?void 0:it[0])===null||Ct===void 0?void 0:Ct.finish_reason;E&&(Y=E),!((cr=de==null?void 0:de.usage)===null||cr===void 0)&&cr.completion_tokens&&(X.completion_tokens=de.usage.completion_tokens),!((_n=de==null?void 0:de.usage)===null||_n===void 0)&&_n.prompt_tokens&&(X.prompt_tokens=de.usage.prompt_tokens),!((O=de==null?void 0:de.usage)===null||O===void 0)&&O.total_tokens&&(X.total_tokens=de.usage.total_tokens),Fe.enqueue(de)},flush:function(){fe.res(ai(ai([],f.messages,!0),[ue],!1)),_l(o,X),be.res(Object.assign({},o)),c==null||c({messages:ai(ai([],f.messages,!0),[ue],!1),finishReason:Y,text:ue.content,stepUsage:X,totalUsage:Object.assign({},o)})}})),M=J.tee(),Z=M[0],xe=M[1],[2,{messages:fe.promise,dataStream:st(Z),textStream:st(xe.pipeThrough(new Tt({transform:function(de,Fe){var Ce,Me,Be,it=(Be=(Me=(Ce=de==null?void 0:de.choices)===null||Ce===void 0?void 0:Ce[0])===null||Me===void 0?void 0:Me.delta)===null||Be===void 0?void 0:Be.content;typeof it=="string"&&Fe.enqueue(it)}}))),usage:be.promise}])}})})},e})();function kO(e){var t,r=(t=e==null?void 0:e.choices)===null||t===void 0?void 0:t[0];if(!r)return null;var n=r.finish_reason,o=r.message;return n!=="tool_calls"||!o||!wn(o)?null:o.tool_calls[0]}function MO(e,t,r){e.push(t,{role:"tool",tool_call_id:t.tool_calls[0].id,content:JSON.stringify(r)})}function eZ(e){var t,r,n,o,i,s,c,h,u,f;return N_(this,void 0,void 0,function(){var p,v,g,w,b,T,C,I,x,R,L,F,H;return L_(this,function(V){switch(V.label){case 0:p={completion_tokens:0,prompt_tokens:0,total_tokens:0},v=st(e),g={id:"",function:{name:"",arguments:""},type:""},w={role:"assistant",content:"",tool_calls:[g]},V.label=1;case 1:V.trys.push([1,6,7,12]),b=!0,T=ZX(v),V.label=2;case 2:return[4,T.next()];case 3:if(C=V.sent(),t=C.done,!!t)return[3,5];o=C.value,b=!1;try{if(I=o,x=I==null?void 0:I.choices[0],!x)return[2,null];if(R=x.finish_reason,L=x.delta,R!=="tool_calls")return[2,null];if(!L)return[3,4];if(L.content&&(w.content+=L.content),!("tool_calls"in L))return[3,4];F=(i=L==null?void 0:L.tool_calls)===null||i===void 0?void 0:i[0],F!=null&&F.id&&(g.id=F.id),F!=null&&F.type&&(g.type=F.type),!((s=F==null?void 0:F.function)===null||s===void 0)&&s.name&&(g.function.name=F.function.name),!((c=F==null?void 0:F.function)===null||c===void 0)&&c.arguments&&(g.function.arguments+=F.function.arguments),!((h=I==null?void 0:I.usage)===null||h===void 0)&&h.completion_tokens&&(p.completion_tokens=I.usage.completion_tokens),!((u=I==null?void 0:I.usage)===null||u===void 0)&&u.prompt_tokens&&(p.prompt_tokens=I.usage.prompt_tokens),!((f=I==null?void 0:I.usage)===null||f===void 0)&&f.total_tokens&&(p.total_tokens=I.usage.total_tokens)}finally{b=!0}V.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return H=V.sent(),r={error:H},[3,12];case 7:return V.trys.push([7,,10,11]),!b&&!t&&(n=T.return)?[4,n.call(T)]:[3,9];case 8:V.sent(),V.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:return[2,{message:w,usage:p}]}})})}var Mh=new Map;function FO(e){return Mh.get(e.function.name)(JSON.parse(e.function.arguments))}function jO(e){var t,r,n;return{completion_tokens:(t=e==null?void 0:e.completion_tokens)!==null&&t!==void 0?t:0,prompt_tokens:(r=e==null?void 0:e.prompt_tokens)!==null&&r!==void 0?r:0,total_tokens:(n=e==null?void 0:e.total_tokens)!==null&&n!==void 0?n:0}}function _l(e,t){e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens}var c5={hunyuan:e5,"hunyuan-beta":Zk,ark:t5,dashscope:r5,"01-ai":n5,moonshot:i5,zhipu:Xk,"hunyuan-exp":o5,"hunyuan-open":a5,deepseek:QX};const tZ=Object.freeze(Object.defineProperty({__proto__:null,ArkSimpleModel:t5,DSSimpleModel:r5,DefaultImageModel:u5,DefaultSimpleModel:s5,HunYuanBetaSimpleModel:Zk,HunYuanExpSimpleModel:o5,HunYuanOpenSimpleModel:a5,HunYuanSimpleModel:e5,MODELS:c5,MoonshotSimpleModel:i5,ReactModel:l5,YiSimpleModel:n5,ZhiPuSimpleModel:Xk,toolMap:Mh},Symbol.toStringTag,{value:"Module"}));var Vs=function(){return Vs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vs.apply(this,arguments)},mw=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},vw=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yw=c5,rZ=(function(){function e(t,r,n){var o=this;this.req=t,this.baseUrl=r,this.modelRequest=function(i){var s=i.url,c=i.data,h=i.headers,u=i.stream,f=i.timeout;return mw(o,void 0,void 0,function(){var p,v,g,w,b,T,C;return vw(this,function(I){switch(I.label){case 0:return p={"Content-Type":"application/json"},u&&Object.assign(p,{Accept:"text/event-stream"}),[4,this.req.fetch({method:"post",headers:Vs(Vs((b={},b[(T=this.i18n)===null||T===void 0?void 0:T.LANG_HEADER_KEY]=(C=this.i18n)===null||C===void 0?void 0:C.lang,b),p),h),body:JSON.stringify(c),url:s,stream:u,timeout:f})];case 1:return v=I.sent(),g=v.data,w=v.header,[2,this.handleResponseData(g,w)]}})})},this.botRequest=function(i){var s=i.method,c=i.url,h=i.data,u=h===void 0?{}:h,f=i.headers,p=i.stream,v=i.timeout;return mw(o,void 0,void 0,function(){function g(F){return Object.entries(F).map(function(H){var V=H[0],D=H[1];return"".concat(V,"=").concat(D)}).join("&")}var w,b,T,C,I,x,R,L;return vw(this,function(F){switch(F.label){case 0:return s!=="get"?[3,2]:(w=this.handleResponseData,[4,this.req.fetch({url:"".concat(c,"?").concat(g(u)),method:s,headers:f,stream:p,timeout:v})]);case 1:return[2,w.apply(this,[F.sent().data])];case 2:return b={"Content-Type":"application/json"},p&&Object.assign(b,{Accept:"text/event-stream"}),[4,this.req.fetch({url:c,body:JSON.stringify(u),headers:Vs(Vs((x={},x[(R=this.i18n)===null||R===void 0?void 0:R.LANG_HEADER_KEY]=(L=this.i18n)===null||L===void 0?void 0:L.lang,x),b),f),stream:p,method:s,timeout:v})];case 3:return T=F.sent(),C=T.data,I=T.header,[2,this.handleResponseData(C,I)]}})})},this.aiBaseUrl="".concat(r,"/ai"),this.aiBotBaseUrl="".concat(r,"/aibot"),this.bot=new JX(this.botRequest,this.aiBotBaseUrl),this.i18n=n,Zh.on(ep,function(i){var s;o.i18n=((s=i.data)===null||s===void 0?void 0:s.i18n)||o.i18n})}return e.prototype.handleResponseData=function(t,r){var n,o;return mw(this,void 0,void 0,function(){var i,s,s;return vw(this,function(c){switch(c.label){case 0:return i="".concat(this.i18n.t(" AI+ "),"https://tcb.cloud.tencent.com/dev#/ai"),typeof t=="object"&&t&&"then"in t?[4,t]:[3,2];case 1:if(s=c.sent(),typeof s=="object"&&s&&"code"in s&&s.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(s.code,"").concat(this.i18n.t(""),"").concat(s.message,`
`).concat(i,`
`).concat(JSON.stringify(s,null,2)));return[2,t];case 2:return!((o=(n=r==null?void 0:r.get)===null||n===void 0?void 0:n.call(r,"content-type"))===null||o===void 0)&&o.includes("application/json")?[4,KX(t)]:[3,4];case 3:if(s=c.sent(),typeof s=="object"&&s&&"code"in s&&s.code!=="NORMAL")throw new Error("".concat(this.i18n.t("AI+ "),"").concat(s.code,"").concat(this.i18n.t(""),"").concat(s.message,`
`).concat(i,`
`).concat(JSON.stringify(s,null,2)));c.label=4;case 4:return[2,t]}})})},e.prototype.createModel=function(t,r){var n,o=yw[t];if(o)n=new o(this.modelRequest,this.aiBaseUrl);else{var i=typeof(r==null?void 0:r.defaultModelSubUrl)=="string"?r.defaultModelSubUrl:"/chat/completions";n=new s5(this.modelRequest,this.aiBaseUrl,"".concat(t).concat(i))}var s=new l5(n);return s},e.prototype.registerModel=function(t,r){if(yw[t]!=null){console.warn("AI model ".concat(t," already exists!"));return}yw[t]=r},e.prototype.createImageModel=function(t){return new u5(this.modelRequest,this.aiBaseUrl,t)},e.prototype.registerFunctionTool=function(t){Mh.has(t.name)&&console.warn("AI function tool ".concat(t.name," already exists and will be overwritten!")),Mh.set(t.name,t.fn)},e})(),Fh=function(){return Fh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fh.apply(this,arguments)},nZ=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},iZ=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},f5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},oZ="ai";f5(tZ,["MODELS"]);var aZ=function(e){var t=e.getAccessToken,r=e.req,n=function(o){return nZ(void 0,void 0,void 0,function(){var i,s,c,h,u;return iZ(this,function(f){switch(f.label){case 0:if(typeof r.fetch!="function")throw new Error("req.fetch is not a function");return i=o.token,s=o.headers,c=s===void 0?{}:s,h=f5(o,["token","headers"]),i==null?[3,1]:(u=i,[3,3]);case 1:return[4,t()];case 2:u=f.sent().accessToken,f.label=3;case 3:return[2,r.fetch(Fh({headers:Fh({Authorization:"Bearer ".concat(u)},c)},h))]}})})};return{download:r.download,post:r.post,upload:r.upload,fetch:n}};function sZ(e){var t=e.env,r=e.baseUrl,n=e.req,o=e.getAccessToken,i=e.handleReqInstance,s=e.i18n,c=function(){if(r!=null)return r;if(t==null)throw new Error("`env` is required when `baseUrl` is not provided!");return"https://".concat(t,".api.tcloudbasegateway.com/v1")},h=function(){if(i==null){if(o==null)throw new Error("`getAccessToken` is required when `handleReqInstance` is not provided!");return aZ({req:n,getAccessToken:o})}return i({req:n})};return new rZ(h(),c(),s)}function uZ(e){var t=this,r,n=this.request;if(n.fetch==null)throw new Error("cloudbase.request.fetch() unimplemented!");var o=function(){var s=t.getEndPointWithKey("GATEWAY"),c=s.BASE_URL,h=s.PROTOCOL;return"".concat(h).concat(c)},i=(r=e==null?void 0:e.baseUrl)!==null&&r!==void 0?r:o();return sZ({req:n,baseUrl:i,handleReqInstance:function(s){var c=s.req;return c},i18n:this.config.i18n})}var lZ={name:oZ,entity:{ai:uZ}};function d5(e){try{e.registerComponent(lZ)}catch(t){console.warn(t)}}try{window.registerAi=d5}catch{}var Yl=function(){return Yl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yl.apply(this,arguments)},cZ=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},fZ=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function h5(e,t){var r=this,n=e.request.fetch.bind(e.request),o=t||{},i=o.instance,s=i===void 0?"default":i,c=o.database,h=c===void 0?e.config.env:c,u=function(b,T){return cZ(r,void 0,void 0,function(){var C,I,x,R,L;return fZ(this,function(F){switch(F.label){case 0:return C={},T.headers instanceof Headers?T.headers.forEach(function(H,V){C[V]=H}):C=T.headers||{},[4,n(Yl(Yl({url:b.toString()},T),{headers:Yl({"Content-Type":"application/json","X-Db-Instance":s,"Accept-Profile":h,"Content-Profile":h},C),shouldThrowOnError:!1}))];case 1:I=F.sent(),x={},F.label=2;case 2:return F.trys.push([2,4,,5]),[4,I.data];case 3:return x=F.sent(),[3,5];case 4:if(R=F.sent(),!R.message.includes("Unexpected end of JSON input"))throw R;return[3,5];case 5:return L={ok:(I==null?void 0:I.statusCode)>=200&&(I==null?void 0:I.statusCode)<300,status:(I==null?void 0:I.statusCode)||200,statusText:(I==null?void 0:I.statusMessage)||"OK",json:function(){return Promise.resolve(x||{})},text:function(){return Promise.resolve(typeof x=="string"?x:JSON.stringify(x||{}))},headers:I==null?void 0:I.header},[2,L]}})})},f=e.getEndPointWithKey("GATEWAY"),p=f.BASE_URL,v=f.PROTOCOL,g="".concat(v).concat(p,"/rdb/rest"),w=TX(e,{mysqlBaseUrl:g,fetch:u});return w}var p5={name:"mysql",entity:{mysql:function(e){return h5(this,e)(e)}}},m5={name:"rdb",entity:{rdb:function(e){return h5(this,e)(e)}}};try{cloudbase.registerComponent(p5),cloudbase.registerComponent(m5)}catch{}function v5(e){try{e.registerComponent(p5),e.registerComponent(m5)}catch(t){console.warn(t)}}try{window.registerMySQL=v5}catch{}var ua,Mi;(function(e){e.DocIDError="ID",e.CollNameError="",e.OpStrError="",e.DirectionError="",e.IntergerError="must be integer",e.QueryParamTypeError="",e.QueryParamValueError="undefined"})(Mi||(Mi={}));var nt={Number:"Number",Object:"Object",Array:"Array",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",ServerDate:"ServerDate",BsonDate:"BsonDate"},dZ=["desc","asc"],hZ=["<","<=","==",">=",">"],ya;(function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="})(ya||(ya={}));ua={},ua[ya.eq]="$eq",ua[ya.lt]="$lt",ua[ya.lte]="$lte",ua[ya.gt]="$gt",ua[ya.gte]="$gte";var mi;(function(e){e.WHERE="WHERE",e.DOC="DOC"})(mi||(mi={}));var pZ=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cd=[],UO={},mZ=(function(){function e(t){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:t}})}return e})(),Hr=(function(e){pZ(t,e);function t(r,n){var o=this;if(n!==UO)throw new TypeError("InternalSymbol cannot be constructed with new operator");return o=e.call(this,r)||this,o}return t.for=function(r){for(var n=0,o=Cd.length;n<o;n++)if(Cd[n].target===r)return Cd[n].instance;var i=new t(r,UO);return Cd.push({target:r,instance:i}),i},t})(mZ),pc=Hr.for("UNSET_FIELD_NAME"),y5=Hr.for("UPDATE_COMMAND"),g5=Hr.for("QUERY_COMMAND"),w5=Hr.for("LOGIC_COMMAND"),_5=Hr.for("GEO_POINT"),vZ=Hr.for("SYMBOL_GEO_LINE_STRING"),yZ=Hr.for("SYMBOL_GEO_POLYGON"),gZ=Hr.for("SYMBOL_GEO_MULTI_POINT"),wZ=Hr.for("SYMBOL_GEO_MULTI_LINE_STRING"),_Z=Hr.for("SYMBOL_GEO_MULTI_POLYGON"),b5=Hr.for("SERVER_DATE"),S5=Hr.for("REGEXP"),E5=(function(){function e(t){var r=(t===void 0?{}:t).offset,n=r===void 0?0:r;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return b5},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e})();function bZ(e){return new E5(e)}var gw=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Tp=(function(){function e(){}return e.formatResDocumentData=function(t){return t.map(function(r){return e.formatField(r)})},e.formatField=function(t){var r=Object.keys(t),n={};return Array.isArray(t)&&(n=[]),r.forEach(function(o){var i=t[o],s=e.whichType(i),c;switch(s){case nt.GeoPoint:c=new Ar(i.coordinates[0],i.coordinates[1]);break;case nt.GeoLineString:c=new fi(i.coordinates.map(function(h){return new Ar(h[0],h[1])}));break;case nt.GeoPolygon:c=new Aa(i.coordinates.map(function(h){return new fi(h.map(function(u){var f=gw(u,2),p=f[0],v=f[1];return new Ar(p,v)}))}));break;case nt.GeoMultiPoint:c=new jh(i.coordinates.map(function(h){return new Ar(h[0],h[1])}));break;case nt.GeoMultiLineString:c=new Uh(i.coordinates.map(function(h){return new fi(h.map(function(u){var f=gw(u,2),p=f[0],v=f[1];return new Ar(p,v)}))}));break;case nt.GeoMultiPolygon:c=new mc(i.coordinates.map(function(h){return new Aa(h.map(function(u){return new fi(u.map(function(f){var p=gw(f,2),v=p[0],g=p[1];return new Ar(v,g)}))}))}));break;case nt.Timestamp:c=new Date(i.$timestamp*1e3);break;case nt.Object:case nt.Array:c=e.formatField(i);break;case nt.ServerDate:c=new Date(i.$date);break;default:c=i}Array.isArray(n)?n.push(c):n[o]=c}),n},e.whichType=function(t){var r=Object.prototype.toString.call(t).slice(8,-1);if(r===nt.Timestamp)return nt.BsonDate;if(r===nt.Object){if(t instanceof Ar)return nt.GeoPoint;if(t instanceof Date)return nt.Timestamp;if(t instanceof E5)return nt.ServerDate;t.$timestamp?r=nt.Timestamp:t.$date?r=nt.ServerDate:Ar.validate(t)?r=nt.GeoPoint:fi.validate(t)?r=nt.GeoLineString:Aa.validate(t)?r=nt.GeoPolygon:jh.validate(t)?r=nt.GeoMultiPoint:Uh.validate(t)?r=nt.GeoMultiLineString:mc.validate(t)&&(r=nt.GeoMultiPolygon)}return r},e.generateDocId=function(){for(var t="ABCDEFabcdef0123456789",r="",n=0;n<24;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r},e})(),Ro=(function(){function e(){}return e.isGeopoint=function(t,r){if(Tp.whichType(r)!==nt.Number)throw new Error("Geo Point must be number type");var n=Math.abs(r);if(t==="latitude"&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if(t==="longitude"&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(t,r){if(!Number.isInteger(r))throw new Error(t+Mi.IntergerError);return!0},e.isFieldOrder=function(t){if(dZ.indexOf(t)===-1)throw new Error(Mi.DirectionError);return!0},e.isFieldPath=function(t){if(!/^[a-zA-Z0-9-_\.]/.test(t))throw new Error;return!0},e.isOperator=function(t){if(hZ.indexOf(t)===-1)throw new Error(Mi.OpStrError);return!0},e.isCollName=function(t){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(t))throw new Error(Mi.CollNameError);return!0},e.isDocID=function(t){if(!/^([a-fA-F0-9]){24}$/.test(t))throw new Error(Mi.DocIDError);return!0},e})(),gi=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},Po=function(e){return gi(e)==="object"},SZ=function(e){return gi(e)==="string"},pn=function(e){return gi(e)==="number"},gt=function(e){return Array.isArray(e)},T5=function(e){return gi(e)==="date"},D1=function(e){return gi(e)==="regexp"},C5=function(e){return e&&e._internalType instanceof Hr},Ar=(function(){function e(t,r){Ro.isGeopoint("longitude",t),Ro.isGeopoint("latitude",r),this.longitude=t,this.latitude=r}return e.prototype.parse=function(t){var r;return r={},r[t]={type:"Point",coordinates:[this.longitude,this.latitude]},r},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(t){return t.type==="Point"&&gt(t.coordinates)&&Ro.isGeopoint("longitude",t.coordinates[0])&&Ro.isGeopoint("latitude",t.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return _5},enumerable:!0,configurable:!0}),e})(),EZ=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},fi=(function(){function e(t){if(!gt(t))throw new TypeError('"points" must be of type Point[]. Received type '+typeof t);if(t.length<2)throw new Error('"points" must contain 2 points at least');t.forEach(function(r){if(!(r instanceof Ar))throw new TypeError('"points" must be of type Point[]. Received type '+typeof r+"[]")}),this.points=t}return e.prototype.parse=function(t){var r;return r={},r[t]={type:"LineString",coordinates:this.points.map(function(n){return n.toJSON().coordinates})},r},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map(function(t){return t.toJSON().coordinates})}},e.validate=function(t){var r,n;if(t.type!=="LineString"||!gt(t.coordinates))return!1;try{for(var o=EZ(t.coordinates),i=o.next();!i.done;i=o.next()){var s=i.value;if(!pn(s[0])||!pn(s[1]))return!1}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},e.isClosed=function(t){var r=t.points[0],n=t.points[t.points.length-1];if(r.latitude===n.latitude&&r.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return vZ},enumerable:!0,configurable:!0}),e})(),BO=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Aa=(function(){function e(t){if(!gt(t))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof t);if(t.length===0)throw new Error("Polygon must contain 1 linestring at least");t.forEach(function(r){if(!(r instanceof fi))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof r+"[]");if(!fi.isClosed(r))throw new Error("LineString "+r.points.map(function(n){return n.toReadableString()})+" is not a closed cycle")}),this.lines=t}return e.prototype.parse=function(t){var r;return r={},r[t]={type:"Polygon",coordinates:this.lines.map(function(n){return n.points.map(function(o){return[o.longitude,o.latitude]})})},r},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map(function(t){return t.points.map(function(r){return[r.longitude,r.latitude]})})}},e.validate=function(t){var r,n,o,i;if(t.type!=="Polygon"||!gt(t.coordinates))return!1;try{for(var s=BO(t.coordinates),c=s.next();!c.done;c=s.next()){var h=c.value;if(!this.isCloseLineString(h))return!1;try{for(var u=(o=void 0,BO(h)),f=u.next();!f.done;f=u.next()){var p=f.value;if(!pn(p[0])||!pn(p[1]))return!1}}catch(v){o={error:v}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!0},e.isCloseLineString=function(t){var r=t[0],n=t[t.length-1];return!(r[0]!==n[0]||r[1]!==n[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return _Z},enumerable:!0,configurable:!0}),e})(),TZ=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jh=(function(){function e(t){if(!gt(t))throw new TypeError('"points" must be of type Point[]. Received type '+typeof t);if(t.length===0)throw new Error('"points" must contain 1 point at least');t.forEach(function(r){if(!(r instanceof Ar))throw new TypeError('"points" must be of type Point[]. Received type '+typeof r+"[]")}),this.points=t}return e.prototype.parse=function(t){var r;return r={},r[t]={type:"MultiPoint",coordinates:this.points.map(function(n){return n.toJSON().coordinates})},r},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map(function(t){return t.toJSON().coordinates})}},e.validate=function(t){var r,n;if(t.type!=="MultiPoint"||!gt(t.coordinates))return!1;try{for(var o=TZ(t.coordinates),i=o.next();!i.done;i=o.next()){var s=i.value;if(!pn(s[0])||!pn(s[1]))return!1}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return gZ},enumerable:!0,configurable:!0}),e})(),$O=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Uh=(function(){function e(t){if(!gt(t))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof t);if(t.length===0)throw new Error("Polygon must contain 1 linestring at least");t.forEach(function(r){if(!(r instanceof fi))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof r+"[]")}),this.lines=t}return e.prototype.parse=function(t){var r;return r={},r[t]={type:"MultiLineString",coordinates:this.lines.map(function(n){return n.points.map(function(o){return[o.longitude,o.latitude]})})},r},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map(function(t){return t.points.map(function(r){return[r.longitude,r.latitude]})})}},e.validate=function(t){var r,n,o,i;if(t.type!=="MultiLineString"||!gt(t.coordinates))return!1;try{for(var s=$O(t.coordinates),c=s.next();!c.done;c=s.next()){var h=c.value;try{for(var u=(o=void 0,$O(h)),f=u.next();!f.done;f=u.next()){var p=f.value;if(!pn(p[0])||!pn(p[1]))return!1}}catch(v){o={error:v}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return wZ},enumerable:!0,configurable:!0}),e})(),Id=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mc=(function(){function e(t){var r,n;if(!gt(t))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof t);if(t.length===0)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var o=Id(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(!(s instanceof Aa))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof s+"[]")}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}this.polygons=t}return e.prototype.parse=function(t){var r;return r={},r[t]={type:"MultiPolygon",coordinates:this.polygons.map(function(n){return n.lines.map(function(o){return o.points.map(function(i){return[i.longitude,i.latitude]})})})},r},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map(function(t){return t.lines.map(function(r){return r.points.map(function(n){return[n.longitude,n.latitude]})})})}},e.validate=function(t){var r,n,o,i,s,c;if(t.type!=="MultiPolygon"||!gt(t.coordinates))return!1;try{for(var h=Id(t.coordinates),u=h.next();!u.done;u=h.next()){var f=u.value;try{for(var p=(o=void 0,Id(f)),v=p.next();!v.done;v=p.next()){var g=v.value;try{for(var w=(s=void 0,Id(g)),b=w.next();!b.done;b=w.next()){var T=b.value;if(!pn(T[0])||!pn(T[1]))return!1}}catch(C){s={error:C}}finally{try{b&&!b.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}}}catch(C){o={error:C}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}}}catch(C){r={error:C}}finally{try{u&&!u.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return yZ},enumerable:!0,configurable:!0}),e})();const CZ=Object.freeze(Object.defineProperty({__proto__:null,LineString:fi,MultiLineString:Uh,MultiPoint:jh,MultiPolygon:mc,Point:Ar,Polygon:Aa},Symbol.toStringTag,{value:"Module"}));var Fi=function(){var e;if(!Promise){e=function(){},e.promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var r=new Promise(function(n,o){e=function(i,s){return i?o(i):n(s)}});return e.promise=r,e},qe;(function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.PULL="pull",e.PULL_ALL="pullAll",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.BIT="bit",e.RENAME="rename",e.MAX="max",e.MIN="min"})(qe||(qe={}));var Rt=(function(){function e(t,r,n){this._internalType=y5,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=r,this.fieldName=n||pc}return e.prototype._setFieldName=function(t){var r=new e(this.operator,this.operands,t);return r},e})();function qO(e){return e&&e instanceof Rt&&e._internalType===y5}var $r;(function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"})($r||($r={}));var Ea=(function(){function e(t,r,n){if(this._internalType=w5,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=r,this.fieldName=n||pc,this.fieldName!==pc)if(Array.isArray(r)){r=r.slice(),this.operands=r;for(var o=0,i=r.length;o<i;o++){var s=r[o];(Bh(s)||$h(s))&&(r[o]=s._setFieldName(this.fieldName))}}else{var s=r;(Bh(s)||$h(s))&&(r=s._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var r=this.operands.map(function(o){return o instanceof e?o._setFieldName(t):o}),n=new e(this.operator,r,t);return n},e.prototype.and=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return t.unshift(this),new e($r.AND,t,this.fieldName)},e.prototype.or=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return t.unshift(this),new e($r.OR,t,this.fieldName)},e})();function Bh(e){return e&&e instanceof Ea&&e._internalType===w5}var IZ=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Re;(function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.ALL="all",e.ELEM_MATCH="elemMatch",e.EXISTS="exists",e.SIZE="size",e.MOD="mod",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"})(Re||(Re={}));var Mt=(function(e){IZ(t,e);function t(r,n,o){var i=e.call(this,r,n,o)||this;return i.operator=r,i._internalType=g5,i}return t.prototype.toJSON=function(){var r,n;switch(this.operator){case Re.IN:case Re.NIN:return r={},r["$"+this.operator]=this.operands,r;default:return n={},n["$"+this.operator]=this.operands[0],n}},t.prototype._setFieldName=function(r){var n=new t(this.operator,this.operands,r);return n},t.prototype.eq=function(r){var n=new t(Re.EQ,[r],this.fieldName);return this.and(n)},t.prototype.neq=function(r){var n=new t(Re.NEQ,[r],this.fieldName);return this.and(n)},t.prototype.gt=function(r){var n=new t(Re.GT,[r],this.fieldName);return this.and(n)},t.prototype.gte=function(r){var n=new t(Re.GTE,[r],this.fieldName);return this.and(n)},t.prototype.lt=function(r){var n=new t(Re.LT,[r],this.fieldName);return this.and(n)},t.prototype.lte=function(r){var n=new t(Re.LTE,[r],this.fieldName);return this.and(n)},t.prototype.in=function(r){var n=new t(Re.IN,r,this.fieldName);return this.and(n)},t.prototype.nin=function(r){var n=new t(Re.NIN,r,this.fieldName);return this.and(n)},t.prototype.geoNear=function(r){if(!(r.geometry instanceof Ar))throw new TypeError('"geometry" must be of type Point. Received type '+typeof r.geometry);if(r.maxDistance!==void 0&&!pn(r.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof r.maxDistance);if(r.minDistance!==void 0&&!pn(r.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof r.minDistance);var n=new t(Re.GEO_NEAR,[r],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(r){if(!(r.geometry instanceof mc)&&!(r.geometry instanceof Aa))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof r.geometry);var n=new t(Re.GEO_WITHIN,[r],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(r){if(!(r.geometry instanceof Ar)&&!(r.geometry instanceof fi)&&!(r.geometry instanceof Aa)&&!(r.geometry instanceof jh)&&!(r.geometry instanceof Uh)&&!(r.geometry instanceof mc))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof r.geometry);var n=new t(Re.GEO_INTERSECTS,[r],this.fieldName);return this.and(n)},t})(Ea);function $h(e){return e&&e instanceof Mt&&e._internalType===g5}function VO(e){return $h(e)}var Uo={};for(var Mo in Re)Uo[Mo]="$"+Mo;for(var Mo in $r)Uo[Mo]="$"+Mo;for(var Mo in qe)Uo[Mo]="$"+Mo;Uo[Re.NEQ]="$ne";Uo[qe.REMOVE]="$unset";Uo[qe.SHIFT]="$pop";Uo[qe.UNSHIFT]="$push";function Ws(e){return Uo[e]||"$"+e}var D_=function(){return D_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},D_.apply(this,arguments)},xZ=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},WO=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xZ(arguments[t]));return e};function vc(e){return k_(e,[e])}function k_(e,t){if(C5(e))switch(e._internalType){case _5:return e.toJSON();case b5:return e.parse();case S5:return e.parse();default:return e.toJSON?e.toJSON():e}else{if(T5(e))return{$date:+e};if(D1(e))return{$regex:e.source,$options:e.flags};if(gt(e))return e.map(function(o){if(t.indexOf(o)>-1)throw new Error("Cannot convert circular structure to JSON");return k_(o,WO(t,[o]))});if(Po(e)){var r=D_({},e);for(var n in r){if(t.indexOf(r[n])>-1)throw new Error("Cannot convert circular structure to JSON");r[n]=k_(r[n],WO(t,[r[n]]))}return r}else return e}}var M_=function(){return M_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},M_.apply(this,arguments)},AZ=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},HO=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(AZ(arguments[t]));return e};function I5(e,t,r,n){var o=M_({},e);for(var i in e)if(!/^\$/.test(i)){var s=e[i];if(s&&Po(s)&&!t(s)){if(n.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var c=HO(r,[i]),h=HO(n,[s]),u=I5(s,t,c,h);o[i]=u;var f=!1;for(var p in u)/^\$/.test(p)?f=!0:(o[i+"."+p]=u[p],delete o[i][p]);f||delete o[i]}}return o}function x5(e){return I5(e,F_,[],[e])}function GO(e,t,r){t[r]||delete e[r];for(var n in t)e[n]?gt(e[n])?e[n].push(t[n]):Po(e[n])?Po(t[n])?Object.assign(e[n],t[n]):(console.warn("unmergable condition, query is object but condition is "+gi(t)+", can only overwrite",t,r),e[n]=t[n]):(console.warn("to-merge query is of type "+gi(e)+", can only overwrite",e,t,r),e[n]=t[n]):e[n]=t[n]}function F_(e){return C5(e)||T5(e)||D1(e)}function Oo(e){return vc(e)}var k1=(function(){function e(){}return e.encode=function(t){var r=new e;return r.encodeUpdate(t)},e.prototype.encodeUpdate=function(t){return qO(t)?this.encodeUpdateCommand(t):gi(t)==="object"?this.encodeUpdateObject(t):t},e.prototype.encodeUpdateCommand=function(t){if(t.fieldName===pc)throw new Error("Cannot encode a comparison command with unset field name");switch(t.operator){case qe.PUSH:case qe.PULL:case qe.PULL_ALL:case qe.POP:case qe.SHIFT:case qe.UNSHIFT:case qe.ADD_TO_SET:return this.encodeArrayUpdateCommand(t);default:return this.encodeFieldUpdateCommand(t)}},e.prototype.encodeFieldUpdateCommand=function(t){var r,n,o,i,s=Ws(t.operator);switch(t.operator){case qe.REMOVE:return r={},r[s]=(n={},n[t.fieldName]="",n),r;default:return o={},o[s]=(i={},i[t.fieldName]=t.operands[0],i),o}},e.prototype.encodeArrayUpdateCommand=function(t){var r,n,o,i,s,c,h,u,f,p,v=Ws(t.operator);switch(t.operator){case qe.PUSH:{var g=void 0;return gt(t.operands)?g={$each:t.operands.map(Oo)}:g=t.operands,r={},r[v]=(n={},n[t.fieldName]=g,n),r}case qe.UNSHIFT:{var g={$each:t.operands.map(Oo),$position:0};return o={},o[v]=(i={},i[t.fieldName]=g,i),o}case qe.POP:return s={},s[v]=(c={},c[t.fieldName]=1,c),s;case qe.SHIFT:return h={},h[v]=(u={},u[t.fieldName]=-1,u),h;default:return f={},f[v]=(p={},p[t.fieldName]=Oo(t.operands),p),f}},e.prototype.encodeUpdateObject=function(t){var r=x5(t);for(var n in r)if(!/^\$/.test(n)){var o=r[n];if(qO(o)){r[n]=o._setFieldName(n);var i=this.encodeUpdateCommand(r[n]);GO(r,i,n)}else{r[n]=o=Oo(o);var s=new Rt(qe.SET,[o],n),i=this.encodeUpdateCommand(s);GO(r,i,n)}}return r},e})(),ww={};function A5(e){if(!sr.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return ww[t]||(ww[t]=new sr.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new sr.reqClass(e.config)}}})),ww[t]}var qh=function(){return qh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},qh.apply(this,arguments)},zO=(function(){function e(t,r,n,o){var i=this;o===void 0&&(o={}),this.watch=function(s){var c=A5(i._db);return c.watch(qh(qh({},s),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify({_id:i.id})}))},this._db=t,this._coll=r,this.id=n,this.request=new sr.reqClass(this._db.config),this.projection=o}return e.prototype.create=function(t,r){r=r||Fi();var n={collectionName:this._coll,data:vc(t)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then(function(o){o.code?r(0,o):r(0,{id:o.data._id,requestId:o.requestId})}).catch(function(o){r(o)}),r.promise},e.prototype.set=function(t,r){if(r=r||Fi(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId"});if(!t||typeof t!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(t.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n=!1,o=function(c){if(typeof c=="object")for(var h in c)c[h]instanceof Rt?n=!0:typeof c[h]=="object"&&o(c[h])};if(o(t),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var i=!1,s={collectionName:this._coll,queryType:mi.DOC,data:vc(t),multi:!1,merge:i,upsert:!0};return this.id&&(s.query={_id:this.id}),this.request.send("database.updateDocument",s).then(function(c){c.code?r(0,c):r(0,{updated:c.data.updated,upsertedId:c.data.upserted_id,requestId:c.requestId})}).catch(function(c){r(c)}),r.promise},e.prototype.update=function(t,r){if(r=r||Fi(),!t||typeof t!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(t.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={_id:this.id},o=!0,i={collectionName:this._coll,data:k1.encode(t),query:n,queryType:mi.DOC,multi:!1,merge:o,upsert:!1};return this.request.send("database.updateDocument",i).then(function(s){s.code?r(0,s):r(0,{updated:s.data.updated,upsertedId:s.data.upserted_id,requestId:s.requestId})}).catch(function(s){r(s)}),r.promise},e.prototype.remove=function(t){t=t||Fi();var r={_id:this.id},n={collectionName:this._coll,query:r,queryType:mi.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then(function(o){o.code?t(0,o):t(0,{deleted:o.data.deleted,requestId:o.requestId})}).catch(function(o){t(o)}),t.promise},e.prototype.get=function(t){t=t||Fi();var r={_id:this.id},n={collectionName:this._coll,query:r,queryType:mi.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then(function(o){if(o.code)t(0,o);else{var i=Tp.formatResDocumentData(o.data.list);t(0,{data:i,requestId:o.requestId})}}).catch(function(o){t(o)}),t.promise},e.prototype.field=function(t){for(var r in t)t[r]?t[r]=1:t[r]=0;return new e(this._db,this._coll,this.id,t)},e})(),Vh=(function(){function e(){}return e.encode=function(t){var r=new RZ;return r.encodeQuery(t)},e})(),RZ=(function(){function e(){}return e.prototype.encodeQuery=function(t,r){var n;return F_(t)?Bh(t)?this.encodeLogicCommand(t):$h(t)?this.encodeQueryCommand(t):(n={},n[r]=this.encodeQueryObject(t),n):Po(t)?this.encodeQueryObject(t):t},e.prototype.encodeRegExp=function(t){return{$regex:t.source,$options:t.flags}},e.prototype.encodeLogicCommand=function(t){var r,n,o,i,s,c,h,u=this;switch(t.operator){case $r.NOR:case $r.AND:case $r.OR:{var f=Ws(t.operator),p=t.operands.map(function(w){return u.encodeQuery(w,t.fieldName)});return r={},r[f]=p,r}case $r.NOT:{var f=Ws(t.operator),v=t.operands[0];if(D1(v))return n={},n[t.fieldName]=(o={},o[f]=this.encodeRegExp(v),o),n;var p=this.encodeQuery(v)[t.fieldName];return i={},i[t.fieldName]=(s={},s[f]=p,s),i}default:{var f=Ws(t.operator);if(t.operands.length===1){var g=this.encodeQuery(t.operands[0]);return c={},c[f]=g,c}else{var p=t.operands.map(this.encodeQuery.bind(this));return h={},h[f]=p,h}}}},e.prototype.encodeQueryCommand=function(t){return VO(t)?this.encodeComparisonCommand(t):this.encodeComparisonCommand(t)},e.prototype.encodeComparisonCommand=function(t){var r,n,o,i,s,c,h,u,f;if(t.fieldName===pc)throw new Error("Cannot encode a comparison command with unset field name");var p=Ws(t.operator);switch(t.operator){case Re.EQ:case Re.NEQ:case Re.LT:case Re.LTE:case Re.GT:case Re.GTE:case Re.ELEM_MATCH:case Re.EXISTS:case Re.SIZE:case Re.MOD:return r={},r[t.fieldName]=(n={},n[p]=Oo(t.operands[0]),n),r;case Re.IN:case Re.NIN:case Re.ALL:return o={},o[t.fieldName]=(i={},i[p]=Oo(t.operands),i),o;case Re.GEO_NEAR:{var v=t.operands[0];return s={},s[t.fieldName]={$nearSphere:{$geometry:v.geometry.toJSON(),$maxDistance:v.maxDistance,$minDistance:v.minDistance}},s}case Re.GEO_WITHIN:{var v=t.operands[0];return c={},c[t.fieldName]={$geoWithin:{$geometry:v.geometry.toJSON()}},c}case Re.GEO_INTERSECTS:{var v=t.operands[0];return h={},h[t.fieldName]={$geoIntersects:{$geometry:v.geometry.toJSON()}},h}default:return u={},u[t.fieldName]=(f={},f[p]=Oo(t.operands[0]),f),u}},e.prototype.encodeQueryObject=function(t){var r=x5(t);for(var n in r){var o=r[n];if(Bh(o)){r[n]=o._setFieldName(n);var i=this.encodeLogicCommand(r[n]);this.mergeConditionAfterEncode(r,i,n)}else if(VO(o)){r[n]=o._setFieldName(n);var i=this.encodeComparisonCommand(r[n]);this.mergeConditionAfterEncode(r,i,n)}else F_(o)&&(r[n]=Oo(o))}return r},e.prototype.mergeConditionAfterEncode=function(t,r,n){r[n]||delete t[n];for(var o in r)t[o]?gt(t[o])?t[o]=t[o].concat(r[o]):Po(t[o])?Po(r[o])?Object.assign(t,r):(console.warn("unmergable condition, query is object but condition is "+gi(r)+", can only overwrite",r,n),t[o]=r[o]):(console.warn("to-merge query is of type "+gi(t)+", can only overwrite",t,r,n),t[o]=r[o]):t[o]=r[o]},e})(),ga=function(){return ga=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ga.apply(this,arguments)},OZ=(function(){function e(t,r,n,o,i){var s=this;this.watch=function(c){var h=A5(s._db);return h.watch(ga(ga({},c),{envId:s._db.config.env,collectionName:s._coll,query:JSON.stringify(s._fieldFilters||{}),limit:s._queryOptions.limit,orderBy:s._fieldOrders?s._fieldOrders.reduce(function(u,f){return u[f.field]=f.direction,u},{}):void 0}))},this._db=t,this._coll=r,this._fieldFilters=n,this._fieldOrders=o||[],this._queryOptions=i||{},this._request=new sr.reqClass(this._db.config)}return e.prototype.get=function(t){t=t||Fi();var r=[];this._fieldOrders&&this._fieldOrders.forEach(function(o){r.push(o)});var n={collectionName:this._coll,queryType:mi.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),r.length>0&&(n.order=r),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then(function(o){if(o.code)t(0,o);else{var i=Tp.formatResDocumentData(o.data.list),s={data:i,requestId:o.requestId};o.total&&(s.total=o.total),o.limit&&(s.limit=o.limit),o.offset&&(s.offset=o.offset),t(0,s)}}).catch(function(o){t(o)}),t.promise},e.prototype.count=function(t){t=t||Fi();var r={collectionName:this._coll,queryType:mi.WHERE};return this._fieldFilters&&(r.query=this._fieldFilters),this._request.send("database.countDocument",r).then(function(n){n.code?t(0,n):t(0,{requestId:n.requestId,total:n.data.total})}).catch(function(n){t(n)}),t.promise},e.prototype.where=function(t){if(Object.prototype.toString.call(t).slice(8,-1)!=="Object")throw Error(Mi.QueryParamTypeError);var r=Object.keys(t),n=r.some(function(o){return t[o]!==void 0});if(r.length&&!n)throw Error(Mi.QueryParamValueError);return new e(this._db,this._coll,Vh.encode(t),this._fieldOrders,this._queryOptions)},e.prototype.orderBy=function(t,r){Ro.isFieldPath(t),Ro.isFieldOrder(r);var n={field:t,direction:r},o=this._fieldOrders.concat(n);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)},e.prototype.limit=function(t){Ro.isInteger("limit",t);var r=ga({},this._queryOptions);return r.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.skip=function(t){Ro.isInteger("offset",t);var r=ga({},this._queryOptions);return r.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.update=function(t,r){if(r=r||Fi(),!t||typeof t!="object")return Promise.resolve({code:"INVALID_PARAM",message:""});if(t.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:mi.WHERE,multi:!0,merge:!0,upsert:!1,data:k1.encode(t)};return this._request.send("database.updateDocument",n).then(function(o){o.code?r(0,o):r(0,{requestId:o.requestId,updated:o.data.updated,upsertId:o.data.upsert_id})}).catch(function(o){r(o)}),r.promise},e.prototype.field=function(t){for(var r in t)t[r]?typeof t[r]!="object"&&(t[r]=1):t[r]=0;var n=ga({},this._queryOptions);return n.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.remove=function(t){t=t||Fi(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var r={collectionName:this._coll,query:Vh.encode(this._fieldFilters),queryType:mi.WHERE,multi:!0};return this._request.send("database.deleteDocument",r).then(function(n){n.code?t(0,n):t(0,{requestId:n.requestId,deleted:n.data.deleted})}).catch(function(n){t(n)}),t.promise},e})();function PZ(e,t){return t={exports:{}},e(t,t.exports),t.exports}var NZ=FZ,LZ=UZ,DZ=qZ,di=[],an=[],kZ=typeof Uint8Array<"u"?Uint8Array:Array,_w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Is=0,MZ=_w.length;Is<MZ;++Is)di[Is]=_w[Is],an[_w.charCodeAt(Is)]=Is;an[45]=62;an[95]=63;function R5(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function FZ(e){var t=R5(e),r=t[0],n=t[1];return(r+n)*3/4-n}function jZ(e,t,r){return(t+r)*3/4-r}function UZ(e){var t,r=R5(e),n=r[0],o=r[1],i=new kZ(jZ(e,n,o)),s=0,c=o>0?n-4:n,h;for(h=0;h<c;h+=4)t=an[e.charCodeAt(h)]<<18|an[e.charCodeAt(h+1)]<<12|an[e.charCodeAt(h+2)]<<6|an[e.charCodeAt(h+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=t&255;return o===2&&(t=an[e.charCodeAt(h)]<<2|an[e.charCodeAt(h+1)]>>4,i[s++]=t&255),o===1&&(t=an[e.charCodeAt(h)]<<10|an[e.charCodeAt(h+1)]<<4|an[e.charCodeAt(h+2)]>>2,i[s++]=t>>8&255,i[s++]=t&255),i}function BZ(e){return di[e>>18&63]+di[e>>12&63]+di[e>>6&63]+di[e&63]}function $Z(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(BZ(n));return o.join("")}function qZ(e){for(var t,r=e.length,n=r%3,o=[],i=16383,s=0,c=r-n;s<c;s+=i)o.push($Z(e,s,s+i>c?c:s+i));return n===1?(t=e[r-1],o.push(di[t>>2]+di[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(di[t>>10]+di[t>>4&63]+di[t<<2&63]+"=")),o.join("")}var bw={byteLength:NZ,toByteArray:LZ,fromByteArray:DZ};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var VZ=function(t,r,n,o,i){var s,c,h=i*8-o-1,u=(1<<h)-1,f=u>>1,p=-7,v=n?i-1:0,g=n?-1:1,w=t[r+v];for(v+=g,s=w&(1<<-p)-1,w>>=-p,p+=h;p>0;s=s*256+t[r+v],v+=g,p-=8);for(c=s&(1<<-p)-1,s>>=-p,p+=o;p>0;c=c*256+t[r+v],v+=g,p-=8);if(s===0)s=1-f;else{if(s===u)return c?NaN:(w?-1:1)*(1/0);c=c+Math.pow(2,o),s=s-f}return(w?-1:1)*c*Math.pow(2,s-o)},WZ=function(t,r,n,o,i,s){var c,h,u,f=s*8-i-1,p=(1<<f)-1,v=p>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=o?0:s-1,b=o?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(h=isNaN(r)?1:0,c=p):(c=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-c))<1&&(c--,u*=2),c+v>=1?r+=g/u:r+=g*Math.pow(2,1-v),r*u>=2&&(c++,u/=2),c+v>=p?(h=0,c=p):c+v>=1?(h=(r*u-1)*Math.pow(2,i),c=c+v):(h=r*Math.pow(2,v-1)*Math.pow(2,i),c=0));i>=8;t[n+w]=h&255,w+=b,h/=256,i-=8);for(c=c<<i|h,f+=i;f>0;t[n+w]=c&255,w+=b,c/=256,f-=8);t[n+w-b]|=T*128},xs={read:VZ,write:WZ},Cp=PZ(function(e,t){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var n=2147483647;t.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var O=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(O,S),O.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function i(O){if(O>n)throw new RangeError('The value "'+O+'" is invalid for option "size"');var S=new Uint8Array(O);return Object.setPrototypeOf(S,s.prototype),S}function s(O,S,E){if(typeof O=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(O)}return c(O,S,E)}s.poolSize=8192;function c(O,S,E){if(typeof O=="string")return p(O,S);if(ArrayBuffer.isView(O))return g(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(O));if(Ct(O,ArrayBuffer)||O&&Ct(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ct(O,SharedArrayBuffer)||O&&Ct(O.buffer,SharedArrayBuffer)))return w(O,S,E);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var P=O.valueOf&&O.valueOf();if(P!=null&&P!==O)return s.from(P,S,E);var q=b(O);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return s.from(O[Symbol.toPrimitive]("string"),S,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(O))}s.from=function(O,S,E){return c(O,S,E)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function h(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function u(O,S,E){return h(O),O<=0?i(O):S!==void 0?typeof E=="string"?i(O).fill(S,E):i(O).fill(S):i(O)}s.alloc=function(O,S,E){return u(O,S,E)};function f(O){return h(O),i(O<0?0:T(O)|0)}s.allocUnsafe=function(O){return f(O)},s.allocUnsafeSlow=function(O){return f(O)};function p(O,S){if((typeof S!="string"||S==="")&&(S="utf8"),!s.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var E=I(O,S)|0,P=i(E),q=P.write(O,S);return q!==E&&(P=P.slice(0,q)),P}function v(O){for(var S=O.length<0?0:T(O.length)|0,E=i(S),P=0;P<S;P+=1)E[P]=O[P]&255;return E}function g(O){if(Ct(O,Uint8Array)){var S=new Uint8Array(O);return w(S.buffer,S.byteOffset,S.byteLength)}return v(O)}function w(O,S,E){if(S<0||O.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<S+(E||0))throw new RangeError('"length" is outside of buffer bounds');var P;return S===void 0&&E===void 0?P=new Uint8Array(O):E===void 0?P=new Uint8Array(O,S):P=new Uint8Array(O,S,E),Object.setPrototypeOf(P,s.prototype),P}function b(O){if(s.isBuffer(O)){var S=T(O.length)|0,E=i(S);return E.length===0||O.copy(E,0,0,S),E}if(O.length!==void 0)return typeof O.length!="number"||cr(O.length)?i(0):v(O);if(O.type==="Buffer"&&Array.isArray(O.data))return v(O.data)}function T(O){if(O>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return O|0}function C(O){return+O!=O&&(O=0),s.alloc(+O)}s.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==s.prototype},s.compare=function(S,E){if(Ct(S,Uint8Array)&&(S=s.from(S,S.offset,S.byteLength)),Ct(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),!s.isBuffer(S)||!s.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===E)return 0;for(var P=S.length,q=E.length,te=0,ie=Math.min(P,q);te<ie;++te)if(S[te]!==E[te]){P=S[te],q=E[te];break}return P<q?-1:q<P?1:0},s.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(S,E){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return s.alloc(0);var P;if(E===void 0)for(E=0,P=0;P<S.length;++P)E+=S[P].length;var q=s.allocUnsafe(E),te=0;for(P=0;P<S.length;++P){var ie=S[P];if(Ct(ie,Uint8Array))te+ie.length>q.length?s.from(ie).copy(q,te):Uint8Array.prototype.set.call(q,ie,te);else if(s.isBuffer(ie))ie.copy(q,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=ie.length}return q};function I(O,S){if(s.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||Ct(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(O));var E=O.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&E===0)return 0;for(var q=!1;;)switch(S){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return Fe(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Be(O).length;default:if(q)return P?-1:Fe(O).length;S=(""+S).toLowerCase(),q=!0}}s.byteLength=I;function x(O,S,E){var P=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,S>>>=0,E<=S))return"";for(O||(O="utf8");;)switch(O){case"hex":return Y(this,S,E);case"utf8":case"utf-8":return Q(this,S,E);case"ascii":return be(this,S,E);case"latin1":case"binary":return ue(this,S,E);case"base64":return K(this,S,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,S,E);default:if(P)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),P=!0}}s.prototype._isBuffer=!0;function R(O,S,E){var P=O[S];O[S]=O[E],O[E]=P}s.prototype.swap16=function(){var S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<S;E+=2)R(this,E,E+1);return this},s.prototype.swap32=function(){var S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<S;E+=4)R(this,E,E+3),R(this,E+1,E+2);return this},s.prototype.swap64=function(){var S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<S;E+=8)R(this,E,E+7),R(this,E+1,E+6),R(this,E+2,E+5),R(this,E+3,E+4);return this},s.prototype.toString=function(){var S=this.length;return S===0?"":arguments.length===0?Q(this,0,S):x.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(S){if(!s.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:s.compare(this,S)===0},s.prototype.inspect=function(){var S="",E=t.INSPECT_MAX_BYTES;return S=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(S+=" ... "),"<Buffer "+S+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(S,E,P,q,te){if(Ct(S,Uint8Array)&&(S=s.from(S,S.offset,S.byteLength)),!s.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(S));if(E===void 0&&(E=0),P===void 0&&(P=S?S.length:0),q===void 0&&(q=0),te===void 0&&(te=this.length),E<0||P>S.length||q<0||te>this.length)throw new RangeError("out of range index");if(q>=te&&E>=P)return 0;if(q>=te)return-1;if(E>=P)return 1;if(E>>>=0,P>>>=0,q>>>=0,te>>>=0,this===S)return 0;for(var ie=te-q,De=P-E,ke=Math.min(ie,De),Ge=this.slice(q,te),ot=S.slice(E,P),Je=0;Je<ke;++Je)if(Ge[Je]!==ot[Je]){ie=Ge[Je],De=ot[Je];break}return ie<De?-1:De<ie?1:0};function L(O,S,E,P,q){if(O.length===0)return-1;if(typeof E=="string"?(P=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,cr(E)&&(E=q?0:O.length-1),E<0&&(E=O.length+E),E>=O.length){if(q)return-1;E=O.length-1}else if(E<0)if(q)E=0;else return-1;if(typeof S=="string"&&(S=s.from(S,P)),s.isBuffer(S))return S.length===0?-1:F(O,S,E,P,q);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(O,S,E):Uint8Array.prototype.lastIndexOf.call(O,S,E):F(O,[S],E,P,q);throw new TypeError("val must be string, number or Buffer")}function F(O,S,E,P,q){var te=1,ie=O.length,De=S.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(O.length<2||S.length<2)return-1;te=2,ie/=2,De/=2,E/=2}function ke(fr,Ki){return te===1?fr[Ki]:fr.readUInt16BE(Ki*te)}var Ge;if(q){var ot=-1;for(Ge=E;Ge<ie;Ge++)if(ke(O,Ge)===ke(S,ot===-1?0:Ge-ot)){if(ot===-1&&(ot=Ge),Ge-ot+1===De)return ot*te}else ot!==-1&&(Ge-=Ge-ot),ot=-1}else for(E+De>ie&&(E=ie-De),Ge=E;Ge>=0;Ge--){for(var Je=!0,bn=0;bn<De;bn++)if(ke(O,Ge+bn)!==ke(S,bn)){Je=!1;break}if(Je)return Ge}return-1}s.prototype.includes=function(S,E,P){return this.indexOf(S,E,P)!==-1},s.prototype.indexOf=function(S,E,P){return L(this,S,E,P,!0)},s.prototype.lastIndexOf=function(S,E,P){return L(this,S,E,P,!1)};function H(O,S,E,P){E=Number(E)||0;var q=O.length-E;P?(P=Number(P),P>q&&(P=q)):P=q;var te=S.length;P>te/2&&(P=te/2);for(var ie=0;ie<P;++ie){var De=parseInt(S.substr(ie*2,2),16);if(cr(De))return ie;O[E+ie]=De}return ie}function V(O,S,E,P){return it(Fe(S,O.length-E),O,E,P)}function D(O,S,E,P){return it(Ce(S),O,E,P)}function B(O,S,E,P){return it(Be(S),O,E,P)}function U(O,S,E,P){return it(Me(S,O.length-E),O,E,P)}s.prototype.write=function(S,E,P,q){if(E===void 0)q="utf8",P=this.length,E=0;else if(P===void 0&&typeof E=="string")q=E,P=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(P)?(P=P>>>0,q===void 0&&(q="utf8")):(q=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var te=this.length-E;if((P===void 0||P>te)&&(P=te),S.length>0&&(P<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var ie=!1;;)switch(q){case"hex":return H(this,S,E,P);case"utf8":case"utf-8":return V(this,S,E,P);case"ascii":case"latin1":case"binary":return D(this,S,E,P);case"base64":return B(this,S,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,S,E,P);default:if(ie)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ie=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(O,S,E){return S===0&&E===O.length?bw.fromByteArray(O):bw.fromByteArray(O.slice(S,E))}function Q(O,S,E){E=Math.min(O.length,E);for(var P=[],q=S;q<E;){var te=O[q],ie=null,De=te>239?4:te>223?3:te>191?2:1;if(q+De<=E){var ke,Ge,ot,Je;switch(De){case 1:te<128&&(ie=te);break;case 2:ke=O[q+1],(ke&192)===128&&(Je=(te&31)<<6|ke&63,Je>127&&(ie=Je));break;case 3:ke=O[q+1],Ge=O[q+2],(ke&192)===128&&(Ge&192)===128&&(Je=(te&15)<<12|(ke&63)<<6|Ge&63,Je>2047&&(Je<55296||Je>57343)&&(ie=Je));break;case 4:ke=O[q+1],Ge=O[q+2],ot=O[q+3],(ke&192)===128&&(Ge&192)===128&&(ot&192)===128&&(Je=(te&15)<<18|(ke&63)<<12|(Ge&63)<<6|ot&63,Je>65535&&Je<1114112&&(ie=Je))}}ie===null?(ie=65533,De=1):ie>65535&&(ie-=65536,P.push(ie>>>10&1023|55296),ie=56320|ie&1023),P.push(ie),q+=De}return fe(P)}var ee=4096;function fe(O){var S=O.length;if(S<=ee)return String.fromCharCode.apply(String,O);for(var E="",P=0;P<S;)E+=String.fromCharCode.apply(String,O.slice(P,P+=ee));return E}function be(O,S,E){var P="";E=Math.min(O.length,E);for(var q=S;q<E;++q)P+=String.fromCharCode(O[q]&127);return P}function ue(O,S,E){var P="";E=Math.min(O.length,E);for(var q=S;q<E;++q)P+=String.fromCharCode(O[q]);return P}function Y(O,S,E){var P=O.length;(!S||S<0)&&(S=0),(!E||E<0||E>P)&&(E=P);for(var q="",te=S;te<E;++te)q+=_n[O[te]];return q}function X(O,S,E){for(var P=O.slice(S,E),q="",te=0;te<P.length-1;te+=2)q+=String.fromCharCode(P[te]+P[te+1]*256);return q}s.prototype.slice=function(S,E){var P=this.length;S=~~S,E=E===void 0?P:~~E,S<0?(S+=P,S<0&&(S=0)):S>P&&(S=P),E<0?(E+=P,E<0&&(E=0)):E>P&&(E=P),E<S&&(E=S);var q=this.subarray(S,E);return Object.setPrototypeOf(q,s.prototype),q};function J(O,S,E){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+S>E)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(S,E,P){S=S>>>0,E=E>>>0,P||J(S,E,this.length);for(var q=this[S],te=1,ie=0;++ie<E&&(te*=256);)q+=this[S+ie]*te;return q},s.prototype.readUintBE=s.prototype.readUIntBE=function(S,E,P){S=S>>>0,E=E>>>0,P||J(S,E,this.length);for(var q=this[S+--E],te=1;E>0&&(te*=256);)q+=this[S+--E]*te;return q},s.prototype.readUint8=s.prototype.readUInt8=function(S,E){return S=S>>>0,E||J(S,1,this.length),this[S]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(S,E){return S=S>>>0,E||J(S,2,this.length),this[S]|this[S+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(S,E){return S=S>>>0,E||J(S,2,this.length),this[S]<<8|this[S+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(S,E){return S=S>>>0,E||J(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(S,E){return S=S>>>0,E||J(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},s.prototype.readIntLE=function(S,E,P){S=S>>>0,E=E>>>0,P||J(S,E,this.length);for(var q=this[S],te=1,ie=0;++ie<E&&(te*=256);)q+=this[S+ie]*te;return te*=128,q>=te&&(q-=Math.pow(2,8*E)),q},s.prototype.readIntBE=function(S,E,P){S=S>>>0,E=E>>>0,P||J(S,E,this.length);for(var q=E,te=1,ie=this[S+--q];q>0&&(te*=256);)ie+=this[S+--q]*te;return te*=128,ie>=te&&(ie-=Math.pow(2,8*E)),ie},s.prototype.readInt8=function(S,E){return S=S>>>0,E||J(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},s.prototype.readInt16LE=function(S,E){S=S>>>0,E||J(S,2,this.length);var P=this[S]|this[S+1]<<8;return P&32768?P|4294901760:P},s.prototype.readInt16BE=function(S,E){S=S>>>0,E||J(S,2,this.length);var P=this[S+1]|this[S]<<8;return P&32768?P|4294901760:P},s.prototype.readInt32LE=function(S,E){return S=S>>>0,E||J(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},s.prototype.readInt32BE=function(S,E){return S=S>>>0,E||J(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},s.prototype.readFloatLE=function(S,E){return S=S>>>0,E||J(S,4,this.length),xs.read(this,S,!0,23,4)},s.prototype.readFloatBE=function(S,E){return S=S>>>0,E||J(S,4,this.length),xs.read(this,S,!1,23,4)},s.prototype.readDoubleLE=function(S,E){return S=S>>>0,E||J(S,8,this.length),xs.read(this,S,!0,52,8)},s.prototype.readDoubleBE=function(S,E){return S=S>>>0,E||J(S,8,this.length),xs.read(this,S,!1,52,8)};function M(O,S,E,P,q,te){if(!s.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>q||S<te)throw new RangeError('"value" argument is out of bounds');if(E+P>O.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(S,E,P,q){if(S=+S,E=E>>>0,P=P>>>0,!q){var te=Math.pow(2,8*P)-1;M(this,S,E,P,te,0)}var ie=1,De=0;for(this[E]=S&255;++De<P&&(ie*=256);)this[E+De]=S/ie&255;return E+P},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(S,E,P,q){if(S=+S,E=E>>>0,P=P>>>0,!q){var te=Math.pow(2,8*P)-1;M(this,S,E,P,te,0)}var ie=P-1,De=1;for(this[E+ie]=S&255;--ie>=0&&(De*=256);)this[E+ie]=S/De&255;return E+P},s.prototype.writeUint8=s.prototype.writeUInt8=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,1,255,0),this[E]=S&255,E+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,2,65535,0),this[E]=S&255,this[E+1]=S>>>8,E+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,2,65535,0),this[E]=S>>>8,this[E+1]=S&255,E+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,4,4294967295,0),this[E+3]=S>>>24,this[E+2]=S>>>16,this[E+1]=S>>>8,this[E]=S&255,E+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,4,4294967295,0),this[E]=S>>>24,this[E+1]=S>>>16,this[E+2]=S>>>8,this[E+3]=S&255,E+4},s.prototype.writeIntLE=function(S,E,P,q){if(S=+S,E=E>>>0,!q){var te=Math.pow(2,8*P-1);M(this,S,E,P,te-1,-te)}var ie=0,De=1,ke=0;for(this[E]=S&255;++ie<P&&(De*=256);)S<0&&ke===0&&this[E+ie-1]!==0&&(ke=1),this[E+ie]=(S/De>>0)-ke&255;return E+P},s.prototype.writeIntBE=function(S,E,P,q){if(S=+S,E=E>>>0,!q){var te=Math.pow(2,8*P-1);M(this,S,E,P,te-1,-te)}var ie=P-1,De=1,ke=0;for(this[E+ie]=S&255;--ie>=0&&(De*=256);)S<0&&ke===0&&this[E+ie+1]!==0&&(ke=1),this[E+ie]=(S/De>>0)-ke&255;return E+P},s.prototype.writeInt8=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,1,127,-128),S<0&&(S=255+S+1),this[E]=S&255,E+1},s.prototype.writeInt16LE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,2,32767,-32768),this[E]=S&255,this[E+1]=S>>>8,E+2},s.prototype.writeInt16BE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,2,32767,-32768),this[E]=S>>>8,this[E+1]=S&255,E+2},s.prototype.writeInt32LE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,4,2147483647,-2147483648),this[E]=S&255,this[E+1]=S>>>8,this[E+2]=S>>>16,this[E+3]=S>>>24,E+4},s.prototype.writeInt32BE=function(S,E,P){return S=+S,E=E>>>0,P||M(this,S,E,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[E]=S>>>24,this[E+1]=S>>>16,this[E+2]=S>>>8,this[E+3]=S&255,E+4};function Z(O,S,E,P,q,te){if(E+P>O.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function xe(O,S,E,P,q){return S=+S,E=E>>>0,q||Z(O,S,E,4),xs.write(O,S,E,P,23,4),E+4}s.prototype.writeFloatLE=function(S,E,P){return xe(this,S,E,!0,P)},s.prototype.writeFloatBE=function(S,E,P){return xe(this,S,E,!1,P)};function Oe(O,S,E,P,q){return S=+S,E=E>>>0,q||Z(O,S,E,8),xs.write(O,S,E,P,52,8),E+8}s.prototype.writeDoubleLE=function(S,E,P){return Oe(this,S,E,!0,P)},s.prototype.writeDoubleBE=function(S,E,P){return Oe(this,S,E,!1,P)},s.prototype.copy=function(S,E,P,q){if(!s.isBuffer(S))throw new TypeError("argument should be a Buffer");if(P||(P=0),!q&&q!==0&&(q=this.length),E>=S.length&&(E=S.length),E||(E=0),q>0&&q<P&&(q=P),q===P||S.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),S.length-E<q-P&&(q=S.length-E+P);var te=q-P;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,P,q):Uint8Array.prototype.set.call(S,this.subarray(P,q),E),te},s.prototype.fill=function(S,E,P,q){if(typeof S=="string"){if(typeof E=="string"?(q=E,E=0,P=this.length):typeof P=="string"&&(q=P,P=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!s.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(S.length===1){var te=S.charCodeAt(0);(q==="utf8"&&te<128||q==="latin1")&&(S=te)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(E<0||this.length<E||this.length<P)throw new RangeError("Out of range index");if(P<=E)return this;E=E>>>0,P=P===void 0?this.length:P>>>0,S||(S=0);var ie;if(typeof S=="number")for(ie=E;ie<P;++ie)this[ie]=S;else{var De=s.isBuffer(S)?S:s.from(S,q),ke=De.length;if(ke===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(ie=0;ie<P-E;++ie)this[ie+E]=De[ie%ke]}return this};var Ae=/[^+/0-9A-Za-z-_]/g;function de(O){if(O=O.split("=")[0],O=O.trim().replace(Ae,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function Fe(O,S){S=S||1/0;for(var E,P=O.length,q=null,te=[],ie=0;ie<P;++ie){if(E=O.charCodeAt(ie),E>55295&&E<57344){if(!q){if(E>56319){(S-=3)>-1&&te.push(239,191,189);continue}else if(ie+1===P){(S-=3)>-1&&te.push(239,191,189);continue}q=E;continue}if(E<56320){(S-=3)>-1&&te.push(239,191,189),q=E;continue}E=(q-55296<<10|E-56320)+65536}else q&&(S-=3)>-1&&te.push(239,191,189);if(q=null,E<128){if((S-=1)<0)break;te.push(E)}else if(E<2048){if((S-=2)<0)break;te.push(E>>6|192,E&63|128)}else if(E<65536){if((S-=3)<0)break;te.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((S-=4)<0)break;te.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return te}function Ce(O){for(var S=[],E=0;E<O.length;++E)S.push(O.charCodeAt(E)&255);return S}function Me(O,S){for(var E,P,q,te=[],ie=0;ie<O.length&&!((S-=2)<0);++ie)E=O.charCodeAt(ie),P=E>>8,q=E%256,te.push(q),te.push(P);return te}function Be(O){return bw.toByteArray(de(O))}function it(O,S,E,P){for(var q=0;q<P&&!(q+E>=S.length||q>=O.length);++q)S[q+E]=O[q];return q}function Ct(O,S){return O instanceof S||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===S.name}function cr(O){return O!==O}var _n=(function(){for(var O="0123456789abcdef",S=new Array(256),E=0;E<16;++E)for(var P=E*16,q=0;q<16;++q)S[P+q]=O[E]+O[q];return S})()}),Ke=Cp.Buffer;Cp.SlowBuffer;Cp.INSPECT_MAX_BYTES;Cp.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j_=function(t,r){return j_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},j_(t,r)};function Ip(e,t){j_(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ra=(function(e){Ip(t,e);function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t})(Error),mt=(function(e){Ip(t,e);function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t})(TypeError);function xd(e){return e&&e.Math==Math&&e}function O5(){return xd(typeof globalThis=="object"&&globalThis)||xd(typeof window=="object"&&window)||xd(typeof self=="object"&&self)||xd(typeof global=="object"&&global)||Function("return this")()}function HZ(){var e=O5();return typeof e.navigator=="object"&&e.navigator.product==="ReactNative"}var GZ=function(t){var r=HZ()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=Ke.alloc(t),o=0;o<t;++o)n[o]=Math.floor(Math.random()*256);return n},zZ=function(){{if(typeof window<"u"){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)return function(t){return e.getRandomValues(Ke.alloc(t))}}return typeof global<"u"&&global.crypto&&global.crypto.getRandomValues?function(t){return global.crypto.getRandomValues(Ke.alloc(t))}:GZ}},P5=zZ();function KZ(e){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(e))}function M1(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function YZ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function JZ(e){return Mc(e)&&Object.prototype.toString.call(e)==="[object Date]"}function Mc(e){return typeof e=="object"&&e!==null}function xp(e,t){var r=!1;function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r||(console.warn(t),r=!0),e.apply(this,o)}return n}function Wh(e){if(ArrayBuffer.isView(e))return Ke.from(e.buffer,e.byteOffset,e.byteLength);if(KZ(e))return Ke.from(e);throw new mt("Must use either Buffer or TypedArray")}var QZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,N5=function(e){return typeof e=="string"&&QZ.test(e)},U_=function(e){if(!N5(e))throw new mt('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=e.replace(/-/g,"");return Ke.from(t,"hex")},KO=function(e,t){return t===void 0&&(t=!0),t?e.toString("hex",0,4)+"-"+e.toString("hex",4,6)+"-"+e.toString("hex",6,8)+"-"+e.toString("hex",8,10)+"-"+e.toString("hex",10,16):e.toString("hex")},XZ=Math.pow(2,53),ZZ=-Math.pow(2,53),L5=4,Oa=(function(){function e(t,r){if(!(this instanceof e))return new e(t,r);if(t!=null&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!(t instanceof ArrayBuffer)&&!Array.isArray(t))throw new mt("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??e.BSON_BINARY_SUBTYPE_DEFAULT,t==null?(this.buffer=Ke.alloc(e.BUFFER_SIZE),this.position=0):(typeof t=="string"?this.buffer=Ke.from(t,"binary"):Array.isArray(t)?this.buffer=Ke.from(t):this.buffer=Wh(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if(typeof t=="string"&&t.length!==1)throw new mt("only accepts single character String");if(typeof t!="number"&&t.length!==1)throw new mt("only accepts single character Uint8Array or Array");var r;if(typeof t=="string"?r=t.charCodeAt(0):typeof t=="number"?r=t:r=t[0],r<0||r>255)throw new mt("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=Ke.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},e.prototype.write=function(t,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+t.length){var n=Ke.alloc(this.buffer.length+t.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(t)?(this.buffer.set(Wh(t),r),this.position=r+t.byteLength>this.position?r+t.length:this.position):typeof t=="string"&&(this.buffer.write(t,r,t.length,"binary"),this.position=r+t.length>this.position?r+t.length:this.position)},e.prototype.read=function(t,r){return r=r&&r>0?r:this.position,this.buffer.slice(t,t+r)},e.prototype.value=function(t){return t=!!t,t&&this.buffer.length===this.position?this.buffer:t?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(t){return this.buffer.toString(t)},e.prototype.toExtendedJSON=function(t){t=t||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return t.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},e.prototype.toUUID=function(){if(this.sub_type===e.SUBTYPE_UUID)return new YO(this.buffer.slice(0,this.position));throw new Ra('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(e.SUBTYPE_UUID,'" is currently supported.'))},e.fromExtendedJSON=function(t,r){r=r||{};var n,o;if("$binary"in t?r.legacy&&typeof t.$binary=="string"&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,n=Ke.from(t.$binary,"base64")):typeof t.$binary!="string"&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,n=Ke.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,n=U_(t.$uuid)),!n)throw new mt("Unexpected Binary Extended JSON format ".concat(JSON.stringify(t)));return o===L5?new YO(n):new e(n,o)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.value(!0);return'new Binary(Buffer.from("'.concat(t.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_ENCRYPTED=6,e.SUBTYPE_COLUMN=7,e.SUBTYPE_USER_DEFINED=128,e})();Object.defineProperty(Oa.prototype,"_bsontype",{value:"Binary"});var Sw=16,YO=(function(e){Ip(t,e);function t(r){var n=this,o,i;if(r==null)o=t.generate();else if(r instanceof t)o=Ke.from(r.buffer),i=r.__id;else if(ArrayBuffer.isView(r)&&r.byteLength===Sw)o=Wh(r);else if(typeof r=="string")o=U_(r);else throw new mt("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return n=e.call(this,o,L5)||this,n.__id=i,n}return Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer},set:function(r){this.buffer=r,t.cacheHexString&&(this.__id=KO(r))},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(r){if(r===void 0&&(r=!0),t.cacheHexString&&this.__id)return this.__id;var n=KO(this.id,r);return t.cacheHexString&&(this.__id=n),n},t.prototype.toString=function(r){return r?this.id.toString(r):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(r){if(!r)return!1;if(r instanceof t)return r.id.equals(this.id);try{return new t(r).id.equals(this.id)}catch{return!1}},t.prototype.toBinary=function(){return new Oa(this.id,Oa.SUBTYPE_UUID)},t.generate=function(){var r=P5(Sw);return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Ke.from(r)},t.isValid=function(r){return r?r instanceof t?!0:typeof r=="string"?N5(r):M1(r)?r.length!==Sw?!1:(r[6]&240)===64&&(r[8]&128)===128:!1:!1},t.createFromHexString=function(r){var n=U_(r);return new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},t})(Oa),Ap=(function(){function e(t,r){if(!(this instanceof e))return new e(t,r);this.code=t,this.scope=r}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.toJSON();return'new Code("'.concat(String(t.code),'"').concat(t.scope?", ".concat(JSON.stringify(t.scope)):"",")")},e})();Object.defineProperty(Ap.prototype,"_bsontype",{value:"Code"});function eee(e){return Mc(e)&&e.$id!=null&&typeof e.$ref=="string"&&(e.$db==null||typeof e.$db=="string")}var yc=(function(){function e(t,r,n,o){if(!(this instanceof e))return new e(t,r,n,o);var i=t.split(".");i.length===2&&(n=i.shift(),t=i.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=o||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(t){this.collection=t},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(t.$db=this.db),t},e.prototype.toExtendedJSON=function(t){t=t||{};var r={$ref:this.collection,$id:this.oid};return t.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},e.fromExtendedJSON=function(t){var r=Object.assign({},t);return delete r.$ref,delete r.$id,delete r.$db,new e(t.$ref,t.$id,t.$db,r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(t),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},e})();Object.defineProperty(yc.prototype,"_bsontype",{value:"DBRef"});var tn=void 0;try{tn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var JO=65536,tee=1<<24,Hs=JO*JO,D5=Hs*Hs,QO=D5/2,XO={},ZO={},Se=(function(){function e(t,r,n){if(t===void 0&&(t=0),!(this instanceof e))return new e(t,r,n);typeof t=="bigint"?Object.assign(this,e.fromBigInt(t,!!r)):typeof t=="string"?Object.assign(this,e.fromString(t,!!r)):(this.low=t|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,r,n){return new e(t,r,n)},e.fromInt=function(t,r){var n,o,i;return r?(t>>>=0,(i=0<=t&&t<256)&&(o=ZO[t],o)?o:(n=e.fromBits(t,(t|0)<0?-1:0,!0),i&&(ZO[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(o=XO[t],o)?o:(n=e.fromBits(t,t<0?-1:0,!1),i&&(XO[t]=n),n))},e.fromNumber=function(t,r){if(isNaN(t))return r?e.UZERO:e.ZERO;if(r){if(t<0)return e.UZERO;if(t>=D5)return e.MAX_UNSIGNED_VALUE}else{if(t<=-QO)return e.MIN_VALUE;if(t+1>=QO)return e.MAX_VALUE}return t<0?e.fromNumber(-t,r).neg():e.fromBits(t%Hs|0,t/Hs|0,r)},e.fromBigInt=function(t,r){return e.fromString(t.toString(),r)},e.fromString=function(t,r,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(o===0)return e.fromString(t.substring(1),r,n).neg();for(var i=e.fromNumber(Math.pow(n,8)),s=e.ZERO,c=0;c<t.length;c+=8){var h=Math.min(8,t.length-c),u=parseInt(t.substring(c,c+h),n);if(h<8){var f=e.fromNumber(Math.pow(n,h));s=s.mul(f).add(e.fromNumber(u))}else s=s.mul(i),s=s.add(e.fromNumber(u))}return s.unsigned=r,s},e.fromBytes=function(t,r,n){return n?e.fromBytesLE(t,r):e.fromBytesBE(t,r)},e.fromBytesLE=function(t,r){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},e.fromBytesBE=function(t,r){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},e.isLong=function(t){return Mc(t)&&t.__isLong__===!0},e.fromValue=function(t,r){return typeof t=="number"?e.fromNumber(t,r):typeof t=="string"?e.fromString(t,r):e.fromBits(t.low,t.high,typeof r=="boolean"?r:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var r=this.high>>>16,n=this.high&65535,o=this.low>>>16,i=this.low&65535,s=t.high>>>16,c=t.high&65535,h=t.low>>>16,u=t.low&65535,f=0,p=0,v=0,g=0;return g+=i+u,v+=g>>>16,g&=65535,v+=o+h,p+=v>>>16,v&=65535,p+=n+c,f+=p>>>16,p&=65535,f+=r+s,f&=65535,e.fromBits(v<<16|g,f<<16|p,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(t){return this.compare(t)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(tn){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var r=(this.unsigned?tn.div_u:tn.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,tn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var n,o,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;i=e.UZERO}else{if(this.eq(e.MIN_VALUE)){if(t.eq(e.ONE)||t.eq(e.NEG_ONE))return e.MIN_VALUE;if(t.eq(e.MIN_VALUE))return e.ONE;var s=this.shr(1);return n=s.div(t).shl(1),n.eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(o=this.sub(t.mul(n)),i=n.add(o.div(t)),i)}else if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=e.ZERO}for(o=this;o.gte(t);){n=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var c=Math.ceil(Math.log(n)/Math.LN2),h=c<=48?1:Math.pow(2,c-48),u=e.fromNumber(n),f=u.mul(t);f.isNegative()||f.gt(o);)n-=h,u=e.fromNumber(n,this.unsigned),f=u.mul(t);u.isZero()&&(u=e.ONE),i=i.add(u),o=o.sub(f)}return i},e.prototype.div=function(t){return this.divide(t)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},e.prototype.eq=function(t){return this.equals(t)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t=this.high!==0?this.high:this.low,r;for(r=31;r>0&&(t&1<<r)===0;r--);return this.high!==0?r+33:r+1},e.prototype.greaterThan=function(t){return this.comp(t)>0},e.prototype.gt=function(t){return this.greaterThan(t)},e.prototype.greaterThanOrEqual=function(t){return this.comp(t)>=0},e.prototype.gte=function(t){return this.greaterThanOrEqual(t)},e.prototype.ge=function(t){return this.greaterThanOrEqual(t)},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.lessThan=function(t){return this.comp(t)<0},e.prototype.lt=function(t){return this.lessThan(t)},e.prototype.lessThanOrEqual=function(t){return this.comp(t)<=0},e.prototype.lte=function(t){return this.lessThanOrEqual(t)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),tn){var r=(this.unsigned?tn.rem_u:tn.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,tn.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(t){return this.modulo(t)},e.prototype.rem=function(t){return this.modulo(t)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),tn){var r=tn.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,tn.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,o=this.high&65535,i=this.low>>>16,s=this.low&65535,c=t.high>>>16,h=t.high&65535,u=t.low>>>16,f=t.low&65535,p=0,v=0,g=0,w=0;return w+=s*f,g+=w>>>16,w&=65535,g+=i*f,v+=g>>>16,g&=65535,g+=s*u,v+=g>>>16,g&=65535,v+=o*f,p+=v>>>16,v&=65535,v+=i*u,p+=v>>>16,v&=65535,v+=s*h,p+=v>>>16,v&=65535,p+=n*f+o*u+i*h+s*c,p&=65535,e.fromBits(g<<16|w,p<<16|v,this.unsigned)},e.prototype.mul=function(t){return this.multiply(t)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(t){return!this.equals(t)},e.prototype.neq=function(t){return this.notEquals(t)},e.prototype.ne=function(t){return this.notEquals(t)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(t){return this.shiftLeft(t)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(t){return this.shiftRight(t)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),t&=63,t===0)return this;var r=this.high;if(t<32){var n=this.low;return e.fromBits(n>>>t|r<<32-t,r>>>t,this.unsigned)}else return t===32?e.fromBits(r,0,this.unsigned):e.fromBits(r>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(t){return this.shiftRightUnsigned(t)},e.prototype.shru=function(t){return this.shiftRightUnsigned(t)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(t){return this.subtract(t)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*Hs+(this.low>>>0):this.high*Hs+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},e.prototype.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(e.MIN_VALUE)){var r=e.fromNumber(t),n=this.div(r),o=n.mul(r).sub(this);return n.toString(t)+o.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var i=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,c="";;){var h=s.div(i),u=s.sub(h.mul(i)).toInt()>>>0,f=u.toString(t);if(s=h,s.isZero())return f+c;for(;f.length<6;)f="0"+f;c=""+f+c}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(t){return this.lessThanOrEqual(t)},e.prototype.toExtendedJSON=function(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,r){var n=e.fromString(t.$numberLong);return r&&r.relaxed?n.toNumber():n},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},e.TWO_PWR_24=e.fromInt(tee),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e})();Object.defineProperty(Se.prototype,"__isLong__",{value:!0});Object.defineProperty(Se.prototype,"_bsontype",{value:"Long"});var ree=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,nee=/^(\+|-)?(Infinity|inf)$/i,iee=/^(\+|-)?NaN$/i,bl=6111,Ew=-6176,eP=6176,oee=34,Tw=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),tP=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),rP=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),aee=/^([-+])?(\d+)?$/,see=31,nP=16383,uee=30,lee=31;function iP(e){return!isNaN(parseInt(e,10))}function cee(e){var t=Se.fromNumber(1e9),r=Se.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new Se(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function fee(e,t){if(!e&&!t)return{high:Se.fromNumber(0),low:Se.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new Se(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new Se(t.getLowBits(),0),s=r.multiply(o),c=r.multiply(i),h=n.multiply(o),u=n.multiply(i);return s=s.add(c.shiftRightUnsigned(32)),c=new Se(c.getLowBits(),0).add(h).add(u.shiftRightUnsigned(32)),s=s.add(c.shiftRightUnsigned(32)),u=c.shiftLeft(32).add(new Se(u.getLowBits(),0)),{high:s,low:u}}function dee(e,t){var r=e.high>>>0,n=t.high>>>0;if(r<n)return!0;if(r===n){var o=e.low>>>0,i=t.low>>>0;if(o<i)return!0}return!1}function As(e,t){throw new mt('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var F1=(function(){function e(t){if(!(this instanceof e))return new e(t);if(typeof t=="string")this.bytes=e.fromString(t).bytes;else if(M1(t)){if(t.byteLength!==16)throw new mt("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}else throw new mt("Decimal128 must take a Buffer or string")}return e.fromString=function(t){var r=!1,n=!1,o=!1,i=0,s=0,c=0,h=0,u=0,f=[0],p=0,v=0,g=0,w=0,b=0,T=0,C=new Se(0,0),I=new Se(0,0),x=0,R=0;if(t.length>=7e3)throw new mt(""+t+" not a valid Decimal128 string");var L=t.match(ree),F=t.match(nee),H=t.match(iee);if(!L&&!F&&!H||t.length===0)throw new mt(""+t+" not a valid Decimal128 string");if(L){var V=L[2],D=L[4],B=L[5],U=L[6];D&&U===void 0&&As(t,"missing exponent power"),D&&V===void 0&&As(t,"missing exponent base"),D===void 0&&(B||U)&&As(t,"missing e before exponent")}if((t[R]==="+"||t[R]==="-")&&(r=t[R++]==="-"),!iP(t[R])&&t[R]!=="."){if(t[R]==="i"||t[R]==="I")return new e(Ke.from(r?tP:rP));if(t[R]==="N")return new e(Ke.from(Tw))}for(;iP(t[R])||t[R]===".";){if(t[R]==="."){n&&As(t,"contains multiple periods"),n=!0,R=R+1;continue}p<34&&(t[R]!=="0"||o)&&(o||(u=s),o=!0,f[v++]=parseInt(t[R],10),p=p+1),o&&(c=c+1),n&&(h=h+1),s=s+1,R=R+1}if(n&&!s)throw new mt(""+t+" not a valid Decimal128 string");if(t[R]==="e"||t[R]==="E"){var K=t.substr(++R).match(aee);if(!K||!K[2])return new e(Ke.from(Tw));b=parseInt(K[0],10),R=R+K[0].length}if(t[R])return new e(Ke.from(Tw));if(g=0,!p)g=0,w=0,f[0]=0,c=1,p=1,i=0;else if(w=p-1,i=c,i!==1)for(;f[u+i-1]===0;)i=i-1;for(b<=h&&h-b>16384?b=Ew:b=b-h;b>bl;){if(w=w+1,w-g>oee){var Q=f.join("");if(Q.match(/^0+$/)){b=bl;break}As(t,"overflow")}b=b-1}for(;b<Ew||p<c;){if(w===0&&i<p){b=Ew,i=0;break}if(p<c?c=c-1:w=w-1,b<bl)b=b+1;else{var Q=f.join("");if(Q.match(/^0+$/)){b=bl;break}As(t,"overflow")}}if(w-g+1<i){var ee=s;n&&(u=u+1,ee=ee+1),r&&(u=u+1,ee=ee+1);var fe=parseInt(t[u+w+1],10),be=0;if(fe>=5&&(be=1,fe===5)){for(be=f[w]%2===1?1:0,T=u+w+2;T<ee;T++)if(parseInt(t[T],10)){be=1;break}}if(be){for(var ue=w;ue>=0;ue--)if(++f[ue]>9&&(f[ue]=0,ue===0))if(b<bl)b=b+1,f[ue]=1;else return new e(Ke.from(r?tP:rP))}}if(C=Se.fromNumber(0),I=Se.fromNumber(0),i===0)C=Se.fromNumber(0),I=Se.fromNumber(0);else if(w-g<17){var ue=g;for(I=Se.fromNumber(f[ue++]),C=new Se(0,0);ue<=w;ue++)I=I.multiply(Se.fromNumber(10)),I=I.add(Se.fromNumber(f[ue]))}else{var ue=g;for(C=Se.fromNumber(f[ue++]);ue<=w-17;ue++)C=C.multiply(Se.fromNumber(10)),C=C.add(Se.fromNumber(f[ue]));for(I=Se.fromNumber(f[ue++]);ue<=w;ue++)I=I.multiply(Se.fromNumber(10)),I=I.add(Se.fromNumber(f[ue]))}var Y=fee(C,Se.fromString("100000000000000000"));Y.low=Y.low.add(I),dee(Y.low,I)&&(Y.high=Y.high.add(Se.fromNumber(1))),x=b+eP;var X={low:Se.fromNumber(0),high:Se.fromNumber(0)};Y.high.shiftRightUnsigned(49).and(Se.fromNumber(1)).equals(Se.fromNumber(1))?(X.high=X.high.or(Se.fromNumber(3).shiftLeft(61)),X.high=X.high.or(Se.fromNumber(x).and(Se.fromNumber(16383).shiftLeft(47))),X.high=X.high.or(Y.high.and(Se.fromNumber(0x7fffffffffff)))):(X.high=X.high.or(Se.fromNumber(x&16383).shiftLeft(49)),X.high=X.high.or(Y.high.and(Se.fromNumber(562949953421311)))),X.low=Y.low,r&&(X.high=X.high.or(Se.fromString("9223372036854775808")));var J=Ke.alloc(16);return R=0,J[R++]=X.low.low&255,J[R++]=X.low.low>>8&255,J[R++]=X.low.low>>16&255,J[R++]=X.low.low>>24&255,J[R++]=X.low.high&255,J[R++]=X.low.high>>8&255,J[R++]=X.low.high>>16&255,J[R++]=X.low.high>>24&255,J[R++]=X.high.low&255,J[R++]=X.high.low>>8&255,J[R++]=X.high.low>>16&255,J[R++]=X.high.low>>24&255,J[R++]=X.high.high&255,J[R++]=X.high.high>>8&255,J[R++]=X.high.high>>16&255,J[R++]=X.high.high>>24&255,new e(J)},e.prototype.toString=function(){for(var t,r=0,n=new Array(36),o=0;o<n.length;o++)n[o]=0;var i=0,s=!1,c,h={parts:[0,0,0,0]},u,f,p=[];i=0;var v=this.bytes,g=v[i++]|v[i++]<<8|v[i++]<<16|v[i++]<<24,w=v[i++]|v[i++]<<8|v[i++]<<16|v[i++]<<24,b=v[i++]|v[i++]<<8|v[i++]<<16|v[i++]<<24,T=v[i++]|v[i++]<<8|v[i++]<<16|v[i++]<<24;i=0;var C={low:new Se(g,w),high:new Se(b,T)};C.high.lessThan(Se.ZERO)&&p.push("-");var I=T>>26&see;if(I>>3===3){if(I===uee)return p.join("")+"Infinity";if(I===lee)return"NaN";t=T>>15&nP,c=8+(T>>14&1)}else c=T>>14&7,t=T>>17&nP;var x=t-eP;if(h.parts[0]=(T&16383)+((c&15)<<14),h.parts[1]=b,h.parts[2]=w,h.parts[3]=g,h.parts[0]===0&&h.parts[1]===0&&h.parts[2]===0&&h.parts[3]===0)s=!0;else for(f=3;f>=0;f--){var R=0,L=cee(h);if(h=L.quotient,R=L.rem.low,!!R)for(u=8;u>=0;u--)n[f*9+u]=R%10,R=Math.floor(R/10)}if(s)r=1,n[i]=0;else for(r=36;!n[i];)r=r-1,i=i+1;var F=r-1+x;if(F>=34||F<=-7||x>0){if(r>34)return p.push("".concat(0)),x>0?p.push("E+".concat(x)):x<0&&p.push("E".concat(x)),p.join("");p.push("".concat(n[i++])),r=r-1,r&&p.push(".");for(var o=0;o<r;o++)p.push("".concat(n[i++]));p.push("E"),F>0?p.push("+".concat(F)):p.push("".concat(F))}else if(x>=0)for(var o=0;o<r;o++)p.push("".concat(n[i++]));else{var H=r+x;if(H>0)for(var o=0;o<H;o++)p.push("".concat(n[i++]));else p.push("0");for(p.push(".");H++<0;)p.push("0");for(var o=0;o<r-Math.max(H-1,0);o++)p.push("".concat(n[i++]))}return p.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},e})();Object.defineProperty(F1.prototype,"_bsontype",{value:"Decimal128"});var Rp=(function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toString=function(t){return this.value.toString(t)},e.prototype.toExtendedJSON=function(t){return t&&(t.legacy||t.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},e.fromExtendedJSON=function(t,r){var n=parseFloat(t.$numberDouble);return r&&r.relaxed?n:new e(n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var t=this.toExtendedJSON();return"new Double(".concat(t.$numberDouble,")")},e})();Object.defineProperty(Rp.prototype,"_bsontype",{value:"Double"});var Op=(function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t|0}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(t){return this.value.toString(t)},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(t){return t&&(t.relaxed||t.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},e})();Object.defineProperty(Op.prototype,"_bsontype",{value:"Int32"});var j1=(function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e})();Object.defineProperty(j1.prototype,"_bsontype",{value:"MaxKey"});var U1=(function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e})();Object.defineProperty(U1.prototype,"_bsontype",{value:"MinKey"});var hee=new RegExp("^[0-9a-fA-F]{24}$"),la=null,si=Symbol("id"),mn=(function(){function e(t){if(!(this instanceof e))return new e(t);var r;if(typeof t=="object"&&t&&"id"in t){if(typeof t.id!="string"&&!ArrayBuffer.isView(t.id))throw new mt("Argument passed in must have an id that is of type string or Buffer");"toHexString"in t&&typeof t.toHexString=="function"?r=Ke.from(t.toHexString(),"hex"):r=t.id}else r=t;if(r==null||typeof r=="number")this[si]=e.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[si]=r instanceof Ke?r:Wh(r);else if(typeof r=="string")if(r.length===12){var n=Ke.from(r);if(n.byteLength===12)this[si]=n;else throw new mt("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&hee.test(r))this[si]=Ke.from(r,"hex");else throw new mt("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new mt("Argument passed in does not match the accepted types");e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[si]},set:function(t){this[si]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(t){this.id.writeUInt32BE(t,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){typeof t!="number"&&(t=Math.floor(Date.now()/1e3));var r=e.getInc(),n=Ke.alloc(12);return n.writeUInt32BE(t,0),la===null&&(la=P5(5)),n[4]=la[0],n[5]=la[1],n[6]=la[2],n[7]=la[3],n[8]=la[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},e.prototype.toString=function(t){return t?this.id.toString(t):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){if(t==null)return!1;if(t instanceof e)return this[si][11]===t[si][11]&&this[si].equals(t[si]);if(typeof t=="string"&&e.isValid(t)&&t.length===12&&M1(this.id))return t===Ke.prototype.toString.call(this.id,"latin1");if(typeof t=="string"&&e.isValid(t)&&t.length===24)return t.toLowerCase()===this.toHexString();if(typeof t=="string"&&e.isValid(t)&&t.length===12)return Ke.from(t).equals(this.id);if(typeof t=="object"&&"toHexString"in t&&typeof t.toHexString=="function"){var r=t.toHexString(),n=this.toHexString().toLowerCase();return typeof r=="string"&&r.toLowerCase()===n}return!1},e.prototype.getTimestamp=function(){var t=new Date,r=this.id.readUInt32BE(0);return t.setTime(Math.floor(r)*1e3),t},e.createPk=function(){return new e},e.createFromTime=function(t){var r=Ke.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(t,0),new e(r)},e.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new mt("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(Ke.from(t,"hex"))},e.isValid=function(t){if(t==null)return!1;try{return new e(t),!0}catch{return!1}},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},e.index=Math.floor(Math.random()*16777215),e})();Object.defineProperty(mn.prototype,"generate",{value:xp(function(e){return mn.generate(e)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(mn.prototype,"getInc",{value:xp(function(){return mn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(mn.prototype,"get_inc",{value:xp(function(){return mn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(mn,"get_inc",{value:xp(function(){return mn.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(mn.prototype,"_bsontype",{value:"ObjectID"});function pee(e){return e.split("").sort().join("")}var gc=(function(){function e(t,r){if(!(this instanceof e))return new e(t,r);if(this.pattern=t,this.options=pee(r??""),this.pattern.indexOf("\0")!==-1)throw new Ra("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new Ra("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new Ra("The regular expression option [".concat(this.options[n],"] is not supported"))}return e.parseOptions=function(t){return t?t.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(t){return t=t||{},t.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t)if(typeof t.$regex!="string"){if(t.$regex._bsontype==="BSONRegExp")return t}else return new e(t.$regex,e.parseOptions(t.$options));if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new mt("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(t)))},e})();Object.defineProperty(gc.prototype,"_bsontype",{value:"BSONRegExp"});var B1=(function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e})();Object.defineProperty(B1.prototype,"_bsontype",{value:"Symbol"});var mee=Se,k5=(function(e){Ip(t,e);function t(r,n){var o=this;return o instanceof t?(Se.isLong(r)?o=e.call(this,r.low,r.high,!0)||this:Mc(r)&&typeof r.t<"u"&&typeof r.i<"u"?o=e.call(this,r.i,r.t,!0)||this:o=e.call(this,r,n,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new t(r,n)}return t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(r){return new t(Se.fromInt(r,!0))},t.fromNumber=function(r){return new t(Se.fromNumber(r,!0))},t.fromBits=function(r,n){return new t(r,n)},t.fromString=function(r,n){return new t(Se.fromString(r,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(r){return new t(r.$timestamp)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},t.MAX_VALUE=Se.MAX_UNSIGNED_VALUE,t})(mee);function vee(e){return Mc(e)&&Reflect.has(e,"_bsontype")&&typeof e._bsontype=="string"}var M5=2147483647,F5=-2147483648,j5=9223372036854776e3,U5=-9223372036854776e3,yee={$oid:mn,$binary:Oa,$uuid:Oa,$symbol:B1,$numberInt:Op,$numberDecimal:F1,$numberDouble:Rp,$numberLong:Se,$minKey:U1,$maxKey:j1,$regex:gc,$regularExpression:gc,$timestamp:k5};function B5(e,t){if(t===void 0&&(t={}),typeof e=="number"){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=F5&&e<=M5)return new Op(e);if(e>=U5&&e<=j5)return Se.fromNumber(e)}return new Rp(e)}if(e==null||typeof e!="object")return e;if(e.$undefined)return null;for(var r=Object.keys(e).filter(function(p){return p.startsWith("$")&&e[p]!=null}),n=0;n<r.length;n++){var o=yee[r[n]];if(o)return o.fromExtendedJSON(e,t)}if(e.$date!=null){var i=e.$date,s=new Date;return t.legacy?typeof i=="number"?s.setTime(i):typeof i=="string"&&s.setTime(Date.parse(i)):typeof i=="string"?s.setTime(Date.parse(i)):Se.isLong(i)?s.setTime(i.toNumber()):typeof i=="number"&&t.relaxed&&s.setTime(i),s}if(e.$code!=null){var c=Object.assign({},e);return e.$scope&&(c.$scope=B5(e.$scope)),Ap.fromExtendedJSON(e)}if(eee(e)||e.$dbPointer){var h=e.$ref?e:e.$dbPointer;if(h instanceof yc)return h;var u=Object.keys(h).filter(function(p){return p.startsWith("$")}),f=!0;if(u.forEach(function(p){["$ref","$id","$db"].indexOf(p)===-1&&(f=!1)}),f)return yc.fromExtendedJSON(h)}return e}function gee(e,t){return e.map(function(r,n){t.seenObjects.push({propertyName:"index ".concat(n),obj:null});try{return So(r,t)}finally{t.seenObjects.pop()}})}function oP(e){var t=e.toISOString();return e.getUTCMilliseconds()!==0?t:t.slice(0,-5)+"Z"}function So(e,t){if((typeof e=="object"||typeof e=="function")&&e!==null){var r=t.seenObjects.findIndex(function(C){return C.obj===e});if(r!==-1){var n=t.seenObjects.map(function(C){return C.propertyName}),o=n.slice(0,r).map(function(C){return"".concat(C," -> ")}).join(""),i=n[r],s=" -> "+n.slice(r+1,n.length-1).map(function(C){return"".concat(C," -> ")}).join(""),c=n[n.length-1],h=" ".repeat(o.length+i.length/2),u="-".repeat(s.length+(i.length+c.length)/2-1);throw new mt(`Converting circular structure to EJSON:
`+"    ".concat(o).concat(i).concat(s).concat(c,`
`)+"    ".concat(h,"\\").concat(u,"/"))}t.seenObjects[t.seenObjects.length-1].obj=e}if(Array.isArray(e))return gee(e,t);if(e===void 0)return null;if(e instanceof Date||JZ(e)){var f=e.getTime(),p=f>-1&&f<2534023188e5;return t.legacy?t.relaxed&&p?{$date:e.getTime()}:{$date:oP(e)}:t.relaxed&&p?{$date:oP(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(typeof e=="number"&&(!t.relaxed||!isFinite(e))){if(Math.floor(e)===e){var v=e>=F5&&e<=M5,g=e>=U5&&e<=j5;if(v)return{$numberInt:e.toString()};if(g)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp||YZ(e)){var w=e.flags;if(w===void 0){var b=e.toString().match(/[gimuy]*$/);b&&(w=b[0])}var T=new gc(e.source,w);return T.toExtendedJSON(t)}return e!=null&&typeof e=="object"?_ee(e,t):e}var wee={Binary:function(e){return new Oa(e.value(),e.sub_type)},Code:function(e){return new Ap(e.code,e.scope)},DBRef:function(e){return new yc(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new F1(e.bytes)},Double:function(e){return new Rp(e.value)},Int32:function(e){return new Op(e.value)},Long:function(e){return Se.fromBits(e.low!=null?e.low:e.low_,e.low!=null?e.high:e.high_,e.low!=null?e.unsigned:e.unsigned_)},MaxKey:function(){return new j1},MinKey:function(){return new U1},ObjectID:function(e){return new mn(e)},ObjectId:function(e){return new mn(e)},BSONRegExp:function(e){return new gc(e.pattern,e.options)},Symbol:function(e){return new B1(e.value)},Timestamp:function(e){return k5.fromBits(e.low,e.high)}};function _ee(e,t){if(e==null||typeof e!="object")throw new Ra("not an object instance");var r=e._bsontype;if(typeof r>"u"){var n={};for(var o in e){t.seenObjects.push({propertyName:o,obj:null});try{var i=So(e[o],t);o==="__proto__"?Object.defineProperty(n,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):n[o]=i}finally{t.seenObjects.pop()}}return n}else if(vee(e)){var s=e;if(typeof s.toExtendedJSON!="function"){var c=wee[e._bsontype];if(!c)throw new mt("Unrecognized or invalid _bsontype: "+e._bsontype);s=c(s)}return r==="Code"&&s.scope?s=new Ap(s.code,So(s.scope,t)):r==="DBRef"&&s.oid&&(s=new yc(So(s.collection,t),So(s.oid,t),So(s.db,t),So(s.fields,t))),s.toExtendedJSON(t)}else throw new Ra("_bsontype must be a string, but was: "+typeof r)}var Br;(function(e){function t(i,s){var c=Object.assign({},{relaxed:!0,legacy:!1},s);return typeof c.relaxed=="boolean"&&(c.strict=!c.relaxed),typeof c.strict=="boolean"&&(c.relaxed=!c.strict),JSON.parse(i,function(h,u){if(h.indexOf("\0")!==-1)throw new Ra("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(h)));return B5(u,c)})}e.parse=t;function r(i,s,c,h){c!=null&&typeof c=="object"&&(h=c,c=0),s!=null&&typeof s=="object"&&!Array.isArray(s)&&(h=s,s=void 0,c=0);var u=Object.assign({relaxed:!0,legacy:!1},h,{seenObjects:[{propertyName:"(root)",obj:null}]}),f=So(i,u);return JSON.stringify(f,s,c)}e.stringify=r;function n(i,s){return s=s||{},JSON.parse(r(i,s))}e.serialize=n;function o(i,s){return s=s||{},t(JSON.stringify(i),s)}e.deserialize=o})(Br||(Br={}));var aP=O5();aP.Map?aP.Map:(function(){function e(t){t===void 0&&(t=[]),this._keys=[],this._values={};for(var r=0;r<t.length;r++)if(t[r]!=null){var n=t[r],o=n[0],i=n[1];this._keys.push(o),this._values[o]={v:i,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(t){var r=this._values[t];return r==null?!1:(delete this._values[t],this._keys.splice(r.i,1),!0)},e.prototype.entries=function(){var t=this,r=0;return{next:function(){var n=t._keys[r++];return{value:n!==void 0?[n,t._values[n].v]:void 0,done:n===void 0}}}},e.prototype.forEach=function(t,r){r=r||this;for(var n=0;n<this._keys.length;n++){var o=this._keys[n];t.call(r,this._values[o].v,o,r)}},e.prototype.get=function(t){return this._values[t]?this._values[t].v:void 0},e.prototype.has=function(t){return this._values[t]!=null},e.prototype.keys=function(){var t=this,r=0;return{next:function(){var n=t._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},e.prototype.set=function(t,r){return this._values[t]?(this._values[t].v=r,this):(this._keys.push(t),this._values[t]={v:r,i:this._keys.length-1},this)},e.prototype.values=function(){var t=this,r=0;return{next:function(){var n=t._keys[r++];return{value:n!==void 0?t._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e})();Se.fromNumber(XZ);Se.fromNumber(ZZ);var Cw=new Uint8Array(8);new DataView(Cw.buffer,Cw.byteOffset,Cw.byteLength);var bee=1024*1024*17;Ke.alloc(bee);var See=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},Eee=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$5=(function(){function e(t,r){this._stages=[],t&&r&&(this._db=t,this._request=new sr.reqClass(this._db.config),this._collectionName=r)}return e.prototype.end=function(){return See(this,void 0,void 0,function(){var t;return Eee(this,function(r){switch(r.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return t=r.sent(),t&&t.data&&t.data.list?[2,{requestId:t.requestId,data:JSON.parse(t.data.list).map(Br.parse)}]:[2,t]}})})},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map(function(t){var r,n=t.stageKey,o=t.stageValue;return r={},r[n]=JSON.parse(o),r})},e.prototype._pipe=function(t,r){return this._stages.push({stageKey:"$"+t,stageValue:JSON.stringify(r)}),this},e.prototype.addFields=function(t){return this._pipe("addFields",t)},e.prototype.bucket=function(t){return this._pipe("bucket",t)},e.prototype.bucketAuto=function(t){return this._pipe("bucketAuto",t)},e.prototype.count=function(t){return this._pipe("count",t)},e.prototype.geoNear=function(t){return t.query&&(t.query=Vh.encode(t.query)),t.distanceMultiplier&&typeof t.distanceMultiplier=="number"&&(t.distanceMultiplier=t.distanceMultiplier),t.near&&(t.near=new Ar(t.near.longitude,t.near.latitude).toJSON()),this._pipe("geoNear",t)},e.prototype.group=function(t){return this._pipe("group",t)},e.prototype.limit=function(t){return this._pipe("limit",t)},e.prototype.match=function(t){return this._pipe("match",Vh.encode(t))},e.prototype.project=function(t){return this._pipe("project",t)},e.prototype.lookup=function(t){return this._pipe("lookup",t)},e.prototype.replaceRoot=function(t){return this._pipe("replaceRoot",t)},e.prototype.sample=function(t){return this._pipe("sample",t)},e.prototype.skip=function(t){return this._pipe("skip",t)},e.prototype.sort=function(t){return this._pipe("sort",t)},e.prototype.sortByCount=function(t){return this._pipe("sortByCount",t)},e.prototype.unwind=function(t){return this._pipe("unwind",t)},e})(),Tee=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Cee=(function(e){Tee(t,e);function t(r,n){return e.call(this,r,n)||this}return Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(r){if(typeof r!="string"&&typeof r!="number")throw new Error("docId");return new zO(this._db,this._coll,r)},t.prototype.add=function(r,n){var o=new zO(this._db,this._coll,void 0);return o.create(r,n)},t.prototype.aggregate=function(){return new $5(this._db,this._coll)},t})(OZ),Iee={eq:function(e){return new Mt(Re.EQ,[e])},neq:function(e){return new Mt(Re.NEQ,[e])},lt:function(e){return new Mt(Re.LT,[e])},lte:function(e){return new Mt(Re.LTE,[e])},gt:function(e){return new Mt(Re.GT,[e])},gte:function(e){return new Mt(Re.GTE,[e])},in:function(e){return new Mt(Re.IN,e)},nin:function(e){return new Mt(Re.NIN,e)},all:function(e){return new Mt(Re.ALL,e)},elemMatch:function(e){return new Mt(Re.ELEM_MATCH,[e])},exists:function(e){return new Mt(Re.EXISTS,[e])},size:function(e){return new Mt(Re.SIZE,[e])},mod:function(e){return new Mt(Re.MOD,[e])},geoNear:function(e){return new Mt(Re.GEO_NEAR,[e])},geoWithin:function(e){return new Mt(Re.GEO_WITHIN,[e])},geoIntersects:function(e){return new Mt(Re.GEO_INTERSECTS,[e])},and:function(){var e=gt(arguments[0])?arguments[0]:Array.from(arguments);return new Ea($r.AND,e)},nor:function(){var e=gt(arguments[0])?arguments[0]:Array.from(arguments);return new Ea($r.NOR,e)},or:function(){var e=gt(arguments[0])?arguments[0]:Array.from(arguments);return new Ea($r.OR,e)},not:function(){var e=gt(arguments[0])?arguments[0]:Array.from(arguments);return new Ea($r.NOT,e)},set:function(e){return new Rt(qe.SET,[e])},remove:function(){return new Rt(qe.REMOVE,[])},inc:function(e){return new Rt(qe.INC,[e])},mul:function(e){return new Rt(qe.MUL,[e])},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r;if(Po(e[0])&&e[0].hasOwnProperty("each")){var n=e[0];r={$each:n.each,$position:n.position,$sort:n.sort,$slice:n.slice}}else gt(e[0])?r=e[0]:r=Array.from(e);return new Rt(qe.PUSH,r)},pull:function(e){return new Rt(qe.PULL,e)},pullAll:function(e){return new Rt(qe.PULL_ALL,e)},pop:function(){return new Rt(qe.POP,[])},shift:function(){return new Rt(qe.SHIFT,[])},unshift:function(){var e=gt(arguments[0])?arguments[0]:Array.from(arguments);return new Rt(qe.UNSHIFT,e)},addToSet:function(e){return new Rt(qe.ADD_TO_SET,e)},rename:function(e){return new Rt(qe.RENAME,[e])},bit:function(e){return new Rt(qe.BIT,[e])},max:function(e){return new Rt(qe.MAX,[e])},min:function(e){return new Rt(qe.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return SZ(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new $5},abs:function(e){return new se("abs",e)},add:function(e){return new se("add",e)},ceil:function(e){return new se("ceil",e)},divide:function(e){return new se("divide",e)},exp:function(e){return new se("exp",e)},floor:function(e){return new se("floor",e)},ln:function(e){return new se("ln",e)},log:function(e){return new se("log",e)},log10:function(e){return new se("log10",e)},mod:function(e){return new se("mod",e)},multiply:function(e){return new se("multiply",e)},pow:function(e){return new se("pow",e)},sqrt:function(e){return new se("sqrt",e)},subtract:function(e){return new se("subtract",e)},trunc:function(e){return new se("trunc",e)},arrayElemAt:function(e){return new se("arrayElemAt",e)},arrayToObject:function(e){return new se("arrayToObject",e)},concatArrays:function(e){return new se("concatArrays",e)},filter:function(e){return new se("filter",e)},in:function(e){return new se("in",e)},indexOfArray:function(e){return new se("indexOfArray",e)},isArray:function(e){return new se("isArray",e)},map:function(e){return new se("map",e)},range:function(e){return new se("range",e)},reduce:function(e){return new se("reduce",e)},reverseArray:function(e){return new se("reverseArray",e)},size:function(e){return new se("size",e)},slice:function(e){return new se("slice",e)},zip:function(e){return new se("zip",e)},and:function(e){return new se("and",e)},not:function(e){return new se("not",e)},or:function(e){return new se("or",e)},cmp:function(e){return new se("cmp",e)},eq:function(e){return new se("eq",e)},gt:function(e){return new se("gt",e)},gte:function(e){return new se("gte",e)},lt:function(e){return new se("lt",e)},lte:function(e){return new se("lte",e)},neq:function(e){return new se("ne",e)},cond:function(e){return new se("cond",e)},ifNull:function(e){return new se("ifNull",e)},switch:function(e){return new se("switch",e)},dateFromParts:function(e){return new se("dateFromParts",e)},dateFromString:function(e){return new se("dateFromString",e)},dayOfMonth:function(e){return new se("dayOfMonth",e)},dayOfWeek:function(e){return new se("dayOfWeek",e)},dayOfYear:function(e){return new se("dayOfYear",e)},isoDayOfWeek:function(e){return new se("isoDayOfWeek",e)},isoWeek:function(e){return new se("isoWeek",e)},isoWeekYear:function(e){return new se("isoWeekYear",e)},millisecond:function(e){return new se("millisecond",e)},minute:function(e){return new se("minute",e)},month:function(e){return new se("month",e)},second:function(e){return new se("second",e)},hour:function(e){return new se("hour",e)},week:function(e){return new se("week",e)},year:function(e){return new se("year",e)},literal:function(e){return new se("literal",e)},mergeObjects:function(e){return new se("mergeObjects",e)},objectToArray:function(e){return new se("objectToArray",e)},allElementsTrue:function(e){return new se("allElementsTrue",e)},anyElementTrue:function(e){return new se("anyElementTrue",e)},setDifference:function(e){return new se("setDifference",e)},setEquals:function(e){return new se("setEquals",e)},setIntersection:function(e){return new se("setIntersection",e)},setIsSubset:function(e){return new se("setIsSubset",e)},setUnion:function(e){return new se("setUnion",e)},concat:function(e){return new se("concat",e)},dateToString:function(e){return new se("dateToString",e)},indexOfBytes:function(e){return new se("indexOfBytes",e)},indexOfCP:function(e){return new se("indexOfCP",e)},split:function(e){return new se("split",e)},strLenBytes:function(e){return new se("strLenBytes",e)},strLenCP:function(e){return new se("strLenCP",e)},strcasecmp:function(e){return new se("strcasecmp",e)},substr:function(e){return new se("substr",e)},substrBytes:function(e){return new se("substrBytes",e)},substrCP:function(e){return new se("substrCP",e)},toLower:function(e){return new se("toLower",e)},toUpper:function(e){return new se("toUpper",e)},meta:function(e){return new se("meta",e)},addToSet:function(e){return new se("addToSet",e)},avg:function(e){return new se("avg",e)},first:function(e){return new se("first",e)},last:function(e){return new se("last",e)},max:function(e){return new se("max",e)},min:function(e){return new se("min",e)},push:function(e){return new se("push",e)},stdDevPop:function(e){return new se("stdDevPop",e)},stdDevSamp:function(e){return new se("stdDevSamp",e)},sum:function(e){return new se("sum",e)},let:function(e){return new se("let",e)}},project:{slice:function(e){return new sP("slice",e)},elemMatch:function(e){return new sP("elemMatch",e)}}},se=(function(){function e(t,r){this["$"+t]=r}return e})(),sP=(function(){function e(t,r){this["$"+t]=r}return e})(),xee=(function(){function e(t){var r=t.regexp,n=t.options;if(!r)throw new TypeError("regexp must be a string");this.$regex=r,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return S5},enumerable:!0,configurable:!0}),e})();function Aee(e){return new xee(e)}var q5={INSERT_DOC_FAIL:{message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT"}},li=function(){return li=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},li.apply(this,arguments)},Sl=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},El=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ree="database.getInTransaction",uP="database.updateDocInTransaction",Oee="database.deleteDocInTransaction",Pee="database.insertDocInTransaction",lP=(function(){function e(t,r,n){this._coll=r,this.id=n,this._transaction=t,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(t){return Sl(this,void 0,void 0,function(){var r,n,o,i;return El(this,function(s){switch(s.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,data:Br.stringify(vc(t),{relaxed:!1})},this.id&&(r._id=this.id),[4,this._request.send(Pee,r)];case 1:if(n=s.sent(),n.code)throw n;if(o=Br.parse(n.inserted),i=Br.parse(n.ok),i==1&&o==1)return[2,li(li({},n),{ok:i,inserted:o})];throw new Error(q5.INSERT_DOC_FAIL.message)}})})},e.prototype.get=function(){return Sl(this,void 0,void 0,function(){var t,r;return El(this,function(n){switch(n.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(Ree,t)];case 1:if(r=n.sent(),r.code)throw r;return[2,{data:r.data!=="null"?Tp.formatField(Br.parse(r.data)):Br.parse(r.data),requestId:r.requestId}]}})})},e.prototype.set=function(t){return Sl(this,void 0,void 0,function(){var r,n;return El(this,function(o){switch(o.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Br.stringify(vc(t),{relaxed:!1}),upsert:!0},[4,this._request.send(uP,r)];case 1:if(n=o.sent(),n.code)throw n;return[2,li(li({},n),{updated:Br.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}})})},e.prototype.update=function(t){return Sl(this,void 0,void 0,function(){var r,n;return El(this,function(o){switch(o.label){case 0:return r={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Br.stringify(k1.encode(t),{relaxed:!1})},[4,this._request.send(uP,r)];case 1:if(n=o.sent(),n.code)throw n;return[2,li(li({},n),{updated:Br.parse(n.updated)})]}})})},e.prototype.delete=function(){return Sl(this,void 0,void 0,function(){var t,r;return El(this,function(n){switch(n.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(Oee,t)];case 1:if(r=n.sent(),r.code)throw r;return[2,li(li({},r),{deleted:Br.parse(r.deleted)})]}})})},e})(),Nee=(function(){function e(t,r){this._coll=r,this._transaction=t}return e})(),Lee=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Dee=(function(e){Lee(t,e);function t(r,n){return e.call(this,r,n)||this}return Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(r){if(typeof r!="string"&&typeof r!="number")throw new Error("docId");return new lP(this._transaction,this._coll,r)},t.prototype.add=function(r){var n;r._id!==void 0&&(n=r._id);var o=new lP(this._transaction,this._coll,n);return o.create(r)},t})(Nee),Zs=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(f){try{u(n.next(f))}catch(p){s(p)}}function h(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):o(f.value).then(c,h)}u((n=n.apply(e,t||[])).next())})},eu=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return h([u,f])}}function h(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kee="database.startTransaction",Mee="database.commitTransaction",Fee="database.abortTransaction",V5=(function(){function e(t){this._db=t,this._request=new sr.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return Zs(this,void 0,void 0,function(){var t;return eu(this,function(r){switch(r.label){case 0:return[4,this._request.send(kee)];case 1:if(t=r.sent(),t.code)throw t;return this.inited=!0,this._id=t.transactionId,[2]}})})},e.prototype.collection=function(t){if(!t)throw new Error("Collection name is required");return new Dee(this,t)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return Zs(this,void 0,void 0,function(){var t,r;return eu(this,function(n){switch(n.label){case 0:return t={transactionId:this._id},[4,this._request.send(Mee,t)];case 1:if(r=n.sent(),r.code)throw r;return this.commited=!0,[2,r]}})})},e.prototype.rollback=function(t){return Zs(this,void 0,void 0,function(){var r,n;return eu(this,function(o){switch(o.label){case 0:return r={transactionId:this._id},[4,this._request.send(Fee,r)];case 1:if(n=o.sent(),n.code)throw n;return this.aborted=!0,this.abortReason=t,[2,n]}})})},e})();function jee(){return Zs(this,void 0,void 0,function(){var e;return eu(this,function(t){switch(t.label){case 0:return e=new V5(this),[4,e.init()];case 1:return t.sent(),[2,e]}})})}function W5(e,t){return t===void 0&&(t=3),Zs(this,void 0,void 0,function(){var r,n,o,i,s=this;return eu(this,function(c){switch(c.label){case 0:return c.trys.push([0,4,,10]),r=new V5(this),[4,r.init()];case 1:return c.sent(),[4,e(r)];case 2:if(n=c.sent(),r.aborted===!0)throw r.abortReason;return[4,r.commit()];case 3:return c.sent(),[2,n];case 4:if(o=c.sent(),r.inited===!1)throw o;return i=function(h){return Zs(s,void 0,void 0,function(){return eu(this,function(u){switch(u.label){case 0:if(!(!r.aborted&&!r.commited))return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.rollback()];case 2:return u.sent(),[3,4];case 3:return u.sent(),[3,4];case 4:throw h;case 5:throw r.aborted===!0?r.abortReason:h}})})},t<=0?[4,i(o)]:[3,6];case 5:c.sent(),c.label=6;case 6:return o&&o.code===q5.DATABASE_TRANSACTION_CONFLICT.code?[4,W5.bind(this)(e,--t)]:[3,8];case 7:return[2,c.sent()];case 8:return[4,i(o)];case 9:return c.sent(),[3,10];case 10:return[2]}})})}var sr=(function(){function e(t){this.config=t,this.Geo=CZ,this.serverDate=bZ,this.command=Iee,this.RegExp=Aee,this.startTransaction=jee,this.runTransaction=W5,this.logicCommand=Ea,this.updateCommand=Rt,this.queryCommand=Mt}return e.prototype.collection=function(t){if(!t)throw new Error("Collection name is required");return new Cee(this,t)},e.prototype.createCollection=function(t){var r=new e.reqClass(this.config),n={collectionName:t};return r.send("database.addCollection",n)},e})(),Jl=function(){return Jl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jl.apply(this,arguments)},Uee="database";function Bee(e){var t=this.platform,r=t.adapter,n=t.runtime;return sr.reqClass=this.request.constructor,sr.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},sr.runtime=n,this.wsClientClass&&(sr.wsClass=r.wsClass,sr.wsClientClass=this.wsClientClass),sr.ws||(sr.ws=null),new sr(Jl(Jl(Jl({},this.config),{_fromApp:this}),e))}var H5={name:Uee,entity:{database:Bee}};try{cloudbase.registerComponent(H5)}catch{}function G5(e){try{e.registerComponent(H5)}catch(t){console.warn(t)}}try{window.registerDatabase=G5}catch{}const $ee="2.23.0",qee={version:$ee};var Vee=qee.version;Ir.registerVersion(Vee);try{JV(Ir),sW(Ir),J3(Ir),G5(Ir),v7(Ir),x7(Ir),qk(Ir),d5(Ir),z3(Ir),v5(Ir)}catch{}try{window.cloudbase=Ir}catch{}const z5=Ir.init({env:"test-3goem7h983cb2f0e",region:"ap-shanghai",persistence:"local"}),Rs=z5.auth({persistence:"local"}),B_=z5.database(),eh=B_.collection("WuHan");let Tl=null;const cP=async(e=!1)=>(Tl&&!e||(Tl=(async()=>{try{const t=await Rs.getLoginState();if(console.log("Current Login State:",t),e||!t){console.log("Performing anonymous login..."),await Rs.signInAnonymously();const r=await Rs.getLoginState();console.log("Anonymous login successful. New State:",r)}else{const r=await Rs.hasLoginState();if(console.log("Has Login State check:",r),!r){console.log("Login state invalid, re-logging in..."),await Rs.signInAnonymously();const n=await Rs.getLoginState();console.log("Re-login successful. New State:",n)}}}catch(t){throw console.error("Authentication failed:",t),Tl=null,t}})()),Tl),K5=async e=>{var t,r,n;try{return await cP(),await e()}catch(o){if(console.error("Operation failed with error:",o),((t=o==null?void 0:o.message)==null?void 0:t.includes("auth"))||((r=o==null?void 0:o.message)==null?void 0:r.includes("authorized"))||(o==null?void 0:o.code)==="AUTH_INVALID"||((n=o==null?void 0:o.message)==null?void 0:n.includes("without auth")))return console.warn("Auth error detected, forcing re-login and retrying...",o),await cP(!0),await e();throw o}},Wee=async(e=1,t=20,r)=>K5(async()=>{console.log(`Fetching videos from CloudBase... Page: ${e}, Limit: ${t}, Search: ${r||"None"}`);let n;if(r){const c=B_.command;n=eh.where(c.or([{Name:{$regex:r,$options:"i"}},{Info:{$regex:r,$options:"i"}}])).limit(t).skip((e-1)*t)}else n=eh.limit(t).skip((e-1)*t);const o=await n.get();let i=eh;if(r){const c=B_.command;i=i.where(c.or([{Name:{$regex:r,$options:"i"}},{Info:{$regex:r,$options:"i"}}]))}const s=await i.count();return console.log("Fetch success, count:",o.data.length),{data:o.data,total:s.total}}),Hee=async e=>K5(async()=>{const t=await eh.doc(e).get();return t.data&&t.data.length>0?t.data[0]:null});var $_=new Map,Ad=new WeakMap,fP=0,Gee;function zee(e){return e?(Ad.has(e)||(fP+=1,Ad.set(e,fP.toString())),Ad.get(e)):"0"}function Kee(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?zee(e.root):e[t]}`).toString()}function Yee(e){const t=Kee(e);let r=$_.get(t);if(!r){const n=new Map;let o;const i=new IntersectionObserver(s=>{s.forEach(c=>{var h;const u=c.isIntersecting&&o.some(f=>c.intersectionRatio>=f);e.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=u),(h=n.get(c.target))==null||h.forEach(f=>{f(u,c)})})},e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},$_.set(t,r)}return r}function Jee(e,t,r={},n=Gee){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const h=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:o,observer:i,elements:s}=Yee(r),c=s.get(e)||[];return s.has(e)||s.set(e,c),c.push(t),i.observe(e),function(){c.splice(c.indexOf(t),1),c.length===0&&(s.delete(e),i.unobserve(e)),s.size===0&&(i.disconnect(),$_.delete(o))}}function Qee({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:o,triggerOnce:i,skip:s,initialInView:c,fallbackInView:h,onChange:u}={}){var f;const[p,v]=$.useState(null),g=$.useRef(u),w=$.useRef(c),[b,T]=$.useState({inView:!!c,entry:void 0});g.current=u,$.useEffect(()=>{if(w.current===void 0&&(w.current=c),s||!p)return;let R;return R=Jee(p,(L,F)=>{const H=w.current;w.current=L,!(H===void 0&&!L)&&(T({inView:L,entry:F}),g.current&&g.current(L,F),F.isIntersecting&&i&&R&&(R(),R=void 0))},{root:o,rootMargin:n,threshold:e,trackVisibility:r,delay:t},h),()=>{R&&R()}},[Array.isArray(e)?e.toString():e,p,o,n,i,s,r,h,t]);const C=(f=b.entry)==null?void 0:f.target,I=$.useRef(void 0);!p&&C&&!i&&!s&&I.current!==C&&(I.current=C,T({inView:!!c,entry:void 0}),w.current=c);const x=[v,b.inView,b.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const Xee=()=>{const{videos:e,loading:t,page:r,hasMore:n,searchQuery:o,setVideos:i,addVideos:s,setLoading:c,setPage:h,setHasMore:u}=cL(),[f,p]=Qee({threshold:0,rootMargin:"100px"}),v=$.useCallback(async(g,w,b=!1)=>{if(!t){c(!0);try{const{data:T,total:C}=await Wee(g,20,w);b||g===1?i(T):s(T),u(T.length>0&&(b?T.length:e.length+T.length)<C)}catch(T){console.error("Failed to load videos",T)}finally{c(!1)}}},[t,e.length]);return $.useEffect(()=>{h(1),v(1,o,!0)},[o]),$.useEffect(()=>{if(p&&n&&!t){const g=r+1;h(g),v(g,o)}},[p,n,t,r,o]),{videos:e,loading:t,hasMore:n,ref:f}},Zee=()=>{const{videos:e,loading:t,hasMore:r,ref:n}=Xee(),{searchQuery:o,setSearchQuery:i}=cL();return ae.jsx(Pd,{title:"",children:ae.jsxs("div",{"trae-inspector-start-line":"16","trae-inspector-start-column":"6","trae-inspector-end-line":"43","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\Home.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"max-w-7xl mx-auto",children:[ae.jsx(QU,{value:o,onChange:i,onSearch:()=>{}}),ae.jsx("div",{"trae-inspector-start-line":"23","trae-inspector-start-column":"8","trae-inspector-end-line":"27","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Home.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(s=>ae.jsx(Aq,{video:s},s._id))}),e.length===0&&!t&&ae.jsx("div",{"trae-inspector-start-line":"30","trae-inspector-start-column":"10","trae-inspector-end-line":"32","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Home.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-center py-20 text-ios-subtext",children:ae.jsx("p",{"trae-inspector-start-line":"31","trae-inspector-start-column":"12","trae-inspector-end-line":"31","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\pages\\\\Home.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E6%9A%82%E6%97%A0%E5%BD%B1%E7%89%87%22%2C%22textStartLine%22%3A%2231%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%2231%22%2C%22textEndColumn%22%3A%2219%22%2C%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",children:""})}),ae.jsxs("div",{"trae-inspector-start-line":"35","trae-inspector-start-column":"8","trae-inspector-end-line":"42","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Home.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",ref:n,className:"py-8",children:[t&&ae.jsx(Rq,{}),!r&&e.length>0&&ae.jsx("div",{"trae-inspector-start-line":"38","trae-inspector-start-column":"12","trae-inspector-end-line":"40","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Home.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E6%B2%A1%E6%9C%89%E6%9B%B4%E5%A4%9A%E4%BA%86%22%2C%22textStartLine%22%3A%2238%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%2240%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-center text-sm text-ios-subtext",children:""})]})]})})},ete=()=>{const{id:e}=Pj(),[t,r]=$.useState(null),[n,o]=$.useState(!0);if($.useEffect(()=>{(async()=>{if(e){o(!0);const c=await Hee(e);r(c),o(!1)}})()},[e]),n)return ae.jsx(Pd,{title:"",showBack:!0,children:ae.jsx(Oq,{})});if(!t)return ae.jsx(Pd,{title:"",showBack:!0,children:ae.jsx("div",{"trae-inspector-start-line":"38","trae-inspector-start-column":"8","trae-inspector-end-line":"40","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-center py-20 text-ios-subtext",children:ae.jsx("p",{"trae-inspector-start-line":"39","trae-inspector-start-column":"10","trae-inspector-end-line":"39","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E6%9C%AA%E6%89%BE%E5%88%B0%E8%AF%A5%E5%BD%B1%E7%89%87%22%2C%22textStartLine%22%3A%2239%22%2C%22textStartColumn%22%3A%2213%22%2C%22textEndLine%22%3A%2239%22%2C%22textEndColumn%22%3A%2219%22%2C%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",children:""})})});const i=ae.jsxs(ae.Fragment,{children:[ae.jsx("button",{"trae-inspector-start-line":"47","trae-inspector-start-column":"6","trae-inspector-end-line":"49","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"p-2 rounded-full hover:bg-gray-100",children:ae.jsx(qU,{className:"w-6 h-6 text-ios-text"})}),ae.jsx("button",{"trae-inspector-start-line":"50","trae-inspector-start-column":"6","trae-inspector-end-line":"52","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"p-2 rounded-full hover:bg-gray-100",children:ae.jsx(KU,{className:"w-6 h-6 text-ios-text"})})]});return ae.jsx(Pd,{title:"",showBack:!0,actions:i,children:ae.jsxs(lL.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"max-w-4xl mx-auto",children:[ae.jsxs("div",{"trae-inspector-start-line":"65","trae-inspector-start-column":"8","trae-inspector-end-line":"76","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"relative aspect-video rounded-ios-lg overflow-hidden bg-black shadow-ios-lg mb-6 group cursor-pointer",children:[ae.jsx("img",{"trae-inspector-start-line":"66","trae-inspector-start-column":"10","trae-inspector-end-line":"70","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",src:t.URL,alt:t.Name,className:"w-full h-full object-cover opacity-80 group-hover:opacity-60 transition-opacity duration-300"}),ae.jsx("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"10","trae-inspector-end-line":"75","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"absolute inset-0 flex items-center justify-center",children:ae.jsx("div",{"trae-inspector-start-line":"72","trae-inspector-start-column":"13","trae-inspector-end-line":"74","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:ae.jsx(WU,{className:"w-8 h-8 text-white fill-current ml-1"})})})]}),ae.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"8","trae-inspector-end-line":"105","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"bg-white rounded-ios shadow-ios p-6 mb-6",children:[ae.jsx("h1",{"trae-inspector-start-line":"80","trae-inspector-start-column":"10","trae-inspector-end-line":"80","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-2xl font-bold text-ios-text mb-4",children:t.Name}),ae.jsxs("div",{"trae-inspector-start-line":"82","trae-inspector-start-column":"10","trae-inspector-end-line":"97","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex items-center space-x-4 text-sm text-ios-subtext mb-6 pb-6 border-b border-gray-100",children:[ae.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"12","trae-inspector-end-line":"86","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex items-center",children:[ae.jsx(OP,{className:"w-4 h-4 mr-1.5"}),ae.jsx("span",{"trae-inspector-start-line":"85","trae-inspector-start-column":"14","trae-inspector-end-line":"85","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",children:t.Year||t.Time})]}),t.Time&&t.Time!==t.Year&&ae.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"16","trae-inspector-end-line":"92","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex items-center",children:[ae.jsx(jU,{className:"w-4 h-4 mr-1.5"}),ae.jsx("span",{"trae-inspector-start-line":"91","trae-inspector-start-column":"18","trae-inspector-end-line":"91","trae-inspector-end-column":"43","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",children:t.Time})]}),ae.jsx("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"13","trae-inspector-end-line":"96","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"flex items-center",children:ae.jsx("span",{"trae-inspector-start-line":"95","trae-inspector-start-column":"14","trae-inspector-end-line":"95","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E5%8F%91%E5%B8%83%E6%97%B6%E9%97%B4%22%2C%22textStartLine%22%3A%2295%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2295%22%2C%22textEndColumn%22%3A%2224%22%2C%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",children:""})})]}),ae.jsxs("div",{"trae-inspector-start-line":"99","trae-inspector-start-column":"10","trae-inspector-end-line":"104","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",children:[ae.jsx("h3",{"trae-inspector-start-line":"100","trae-inspector-start-column":"12","trae-inspector-end-line":"100","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E8%A7%86%E9%A2%91%E7%AE%80%E4%BB%8B%22%2C%22textStartLine%22%3A%22100%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22100%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-lg font-bold text-ios-text mb-3",children:""}),ae.jsx("p",{"trae-inspector-start-line":"101","trae-inspector-start-column":"12","trae-inspector-end-line":"103","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\VideoDetail.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22E%3A%5C%5CWuhanWaterConservationScienceMuseum%5C%5CVideoPlay%22%7D",className:"text-gray-600 leading-relaxed text-justify",children:t.Info})]})]})]})})};function tte(){return ae.jsx(mU,{children:ae.jsxs(Gj,{children:[ae.jsx(xw,{path:"/",element:ae.jsx(Zee,{})}),ae.jsx(xw,{path:"/video/:id",element:ae.jsx(ete,{})})]})})}ZF.createRoot(document.getElementById("root")).render(ae.jsx($.StrictMode,{children:ae.jsx(tte,{})}));
