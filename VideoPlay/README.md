# æ­¦æ±‰èŠ‚æ°´ç§‘æŠ€é¦†è§†é¢‘ç‚¹æ’­æ§åˆ¶ç³»ç»Ÿ (VideoPlay)

è¿™æ˜¯ä¸€ä¸ªåŸºäº **React + TypeScript + Vite** å¼€å‘çš„è§†é¢‘ç‚¹æ’­ä¸è¿œç¨‹æ§åˆ¶å‰ç«¯é¡¹ç›®ã€‚å®ƒé›†æˆäº† **è…¾è®¯äº‘å¼€å‘ (Tencent CloudBase)**ï¼Œç”¨äºå®ç°è§†é¢‘åˆ—è¡¨ç®¡ç†ã€ç”¨æˆ·åŒ¿åç™»å½•ä»¥åŠå‘ç»ˆç«¯è®¾å¤‡å‘é€æ’­æ”¾æŒ‡ä»¤ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18
- **æ„å»ºå·¥å…·**: Vite
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS (é…åˆ Framer Motion å®ç°åŠ¨ç”»)
- **åç«¯/äº‘æœåŠ¡**: è…¾è®¯äº‘å¼€å‘ (CloudBase) - äº‘æ•°æ®åº“ã€äº‘å‡½æ•°ã€åŒ¿åç™»å½•
- **è·¯ç”±**: React Router v6

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æœ¬åœ°å·²å®‰è£… Node.js (æ¨è v16+)ã€‚

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæˆ–æ£€æŸ¥ `.env` æ–‡ä»¶ï¼Œç¡®ä¿åŒ…å«è…¾è®¯äº‘ç¯å¢ƒ IDï¼š

```env
VITE_TCB_ENV_ID=your-env-id  # ä¾‹å¦‚: test-3goem7h983cb2f0e
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® `http://localhost:5173` å³å¯é¢„è§ˆã€‚

## â˜ï¸ è…¾è®¯äº‘å¼€å‘é…ç½® (å…³é”®)

æœ¬é¡¹ç›®ä¾èµ–äº‘å¼€å‘æœåŠ¡ï¼Œæœ¬åœ°è°ƒè¯•å‰è¯·åŠ¡å¿…å®Œæˆä»¥ä¸‹é…ç½®ï¼Œå¦åˆ™ä¼šæŠ¥é”™ `without auth` æˆ– `ResourceNotFound`ã€‚

è¯¦ç»†æ’æŸ¥è¯·å‚è€ƒ [CHECK_CONFIGURATION.md](./CHECK_CONFIGURATION.md)ã€‚

### 1. Web å®‰å…¨åŸŸå
- ç™»å½• [è…¾è®¯äº‘å¼€å‘æ§åˆ¶å°](https://console.cloud.tencent.com/tcb) -> **ç¯å¢ƒè®¾ç½®** -> **å®‰å…¨é…ç½®**ã€‚
- åœ¨ **WEBå®‰å…¨åŸŸå** ä¸­æ·»åŠ ï¼š
  - `localhost:5173`
  - `127.0.0.1:5173`

### 2. å¼€å¯åŒ¿åç™»å½•
- æ§åˆ¶å° -> **ç™»å½•æˆæƒ**ã€‚
- ç¡®ä¿ **åŒ¿åç™»å½•** çŠ¶æ€ä¸º **å·²å¼€å¯**ã€‚

### 3. æ•°æ®åº“é›†åˆ
- æ§åˆ¶å° -> **æ•°æ®åº“**ã€‚
- åˆ›å»ºé›†åˆï¼š`WuHan`ã€‚
- æƒé™è®¾ç½®ï¼šæ¨è **æ‰€æœ‰ç”¨æˆ·å¯è¯»**ã€‚
- æ•°æ®ç»“æ„ç¤ºä¾‹ï¼š
  ```json
  {
    "Name": "èŠ‚æ°´å®£ä¼ ç‰‡",
    "URL": "https://example.com/video.mp4",
    "Info": "è§†é¢‘ç®€ä»‹...",
    "Time": "2023-10-01"
  }
  ```

### 4. äº‘å‡½æ•° (send-instruction)
é¡¹ç›®ä¾èµ–åä¸º `send-instruction` çš„äº‘å‡½æ•°å¤„ç†è¿æ¥ä¸æŒ‡ä»¤å‘é€ã€‚
- **mode: connect**: æ³¨å†Œè¿æ¥ï¼Œè¿”å› userId/connectionIdã€‚
- **mode: send**: å‘é€æ’­æ”¾æŒ‡ä»¤ã€‚

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/     # é€šç”¨ç»„ä»¶ (DebugPanel, Layout, VideoCard ç­‰)
â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks (useVideos ç­‰)
â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶ (Home, VideoDetail)
â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç† (Zustand)
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ service.ts  # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (äº‘å¼€å‘åˆå§‹åŒ–ã€æ•°æ®åº“æŸ¥è¯¢ã€äº‘å‡½æ•°è°ƒç”¨)
â”‚   â””â”€â”€ types.ts    # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ App.tsx         # è·¯ç”±é…ç½®
```

## ğŸ› è°ƒè¯•ä¸å¸¸è§é—®é¢˜

é¡µé¢å³ä¸‹è§’å†…ç½®äº† **Debug Panel**ï¼Œå®æ—¶æ˜¾ç¤ºï¼š
- äº‘å¼€å‘åˆå§‹åŒ–çŠ¶æ€
- ç™»å½•çŠ¶æ€ (UID)
- æ•°æ®åº“è¿æ¥æµ‹è¯•ç»“æœ
- äº‘å‡½æ•°è°ƒç”¨æ—¥å¿— (Connect/Send Result)

**å¸¸è§æŠ¥é”™ï¼š**
- `Operation failed with error: ... without auth`: æœªé…ç½® Web å®‰å…¨åŸŸåã€‚
- `ResourceNotFound: Db or Table not exist`: æ•°æ®åº“é›†åˆ `WuHan` æœªåˆ›å»ºã€‚
- `message å‚æ•°ä¸èƒ½ä¸ºç©º`: å·²åœ¨å‰ç«¯è‡ªåŠ¨å¤„ç†ï¼Œä¼šè‡ªåŠ¨é‡è¯•ç®€åŒ–æŒ‡ä»¤ã€‚

## ğŸ“¦ æ„å»ºéƒ¨ç½²

```bash
npm run build
```
æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist` ç›®å½•ï¼Œå¯ç›´æ¥éƒ¨ç½²åˆ°è…¾è®¯äº‘é™æ€ç½‘ç«™æ‰˜ç®¡æˆ–å…¶ä»– Web æœåŠ¡å™¨ã€‚
